{"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/utils/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/utils/WinstonLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = WinstonLogger;\nexports.init = init;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _os = _interopRequireDefault(require(\"os\"));\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nvar _jsonpathPlus = require(\"jsonpath-plus\");\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"winston-daily-rotate-file\");\n\nconst lodash = require(\"lodash\");\n\nconst httpContext = require(\"express-http-context\");\n\nconst fs = require(\"fs\");\n\nconst {\n  format\n} = _winston.default;\nconst {\n  combine,\n  timestamp,\n  json\n} = format;\nconst SENSITIVE_DATA_MAPPINGS = {\n  \"$.request.body\": [\"password\"],\n  \"$.response.messages[:]\": [\"message\"]\n};\nconst MASK = \"XXXXXX\";\nlet loggerReference; // Parse unhandled exceptions, convert message to json object\n\nconst parseUnhandledExceptions = format(info => {\n  const input = { ...info\n  };\n\n  if (info.exception) {\n    input.message = {\n      error: info\n    };\n  }\n\n  return input;\n}); // https://github.com/winstonjs/winston#logging-levels\n// https://www.npmjs.com/package/winston-daily-rotate-file\n\nfunction WinstonLogger() {\n  const logDir = `${_os.default.homedir()}/${process.env.name}-logs/`;\n\n  if (!fs.existsSync(logDir)) {\n    fs.mkdirSync(logDir);\n  }\n\n  const logger = _winston.default.createLogger({\n    defaultMeta: {\n      service: process.env.name\n    },\n    level: \"info\",\n    format: combine(parseUnhandledExceptions(), timestamp(), json()),\n    exitOnError: false,\n    transports: [new _winston.default.transports.DailyRotateFile({\n      filename: \"all\",\n      extension: \".log\",\n      dirname: logDir,\n      maxSize: \"50m\",\n      maxFiles: \"10\",\n      handleExceptions: true,\n      handleRejections: true\n    })]\n  }); // for local write to console\n\n\n  if (process.env.NODE_ENV === \"default\") {\n    const console = new _winston.default.transports.Console({\n      handleExceptions: true,\n      handleRejections: true,\n      exitOnError: false\n    });\n    logger.add(console); // Add console transport\n  }\n\n  return logger;\n}\n\nfunction getInstanceOfLogger() {\n  if (!loggerReference) {\n    loggerReference = new WinstonLogger();\n  }\n\n  return loggerReference;\n}\n\nfunction init() {\n  loggerReference = new WinstonLogger();\n}\n\nconst replaceMask = payload => {\n  const input = { ...payload\n  };\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach(jsonPath => {\n    if (Array.isArray(SENSITIVE_DATA_MAPPINGS[jsonPath])) {\n      SENSITIVE_DATA_MAPPINGS[jsonPath].forEach((v, k) => {\n        if (input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]]) {\n          input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]] = MASK;\n        }\n      });\n    }\n  });\n  return input;\n};\n\nconst maskSensitiveData = info => {\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach(jsonPath => {\n    (0, _jsonpathPlus.JSONPath)({\n      path: jsonPath,\n      json: info,\n      callback: replaceMask\n    });\n  });\n  return info;\n}; // https://v8.dev/docs/stack-trace-api\n\n\nfunction doosraTrace() {\n  const orig = Error.prepareStackTrace;\n\n  Error.prepareStackTrace = (_, stack) => stack;\n\n  const err = new Error();\n  Error.captureStackTrace(err, log);\n  const {\n    stack\n  } = err;\n  Error.prepareStackTrace = orig;\n\n  const filename = _path.default.basename(stack[0].getFileName());\n\n  const functionName = stack[0] ? stack[0].getFunctionName() : \"\";\n  return {\n    filename,\n    functionName\n  };\n}\n\nfunction jsonStringifyLog(log) {\n  const tempLog = lodash.cloneDeep(log);\n\n  try {\n    tempLog.message = JSON.stringify(tempLog.message);\n    tempLog.request = JSON.stringify(tempLog.request);\n    tempLog.response = JSON.stringify(tempLog.response);\n  } catch (error) {\n    console.error(\"error\", {\n      error\n    });\n  }\n\n  return tempLog;\n}\n/**\n *\n * @param {*} level\n * @param {*} message\n * message, request, response values are json strings\n */\n\n\nglobal.log = function (level, message) {\n  const logLevel = level || \"info\";\n  const {\n    filename,\n    functionName\n  } = doosraTrace();\n  let log = {\n    correlationId: httpContext.get(Constants.LOGGER_CORRELATIONID) || \"\",\n    filename,\n    functionName,\n    ipAddress: httpContext.get(Constants.LOGGER_USER_IP_ADDRESS) || \"\",\n    message,\n    request: httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD) || {},\n    response: httpContext.get(Constants.LOGGER_RESPONSE_PAYLOAD) || {},\n    responseTime: httpContext.get(Constants.LOGGER_RESPONSE_TIME),\n    route: httpContext.get(Constants.LOGGER_API_ROUTE) || \"\",\n    userDetails: httpContext.get(Constants.LOGGER_USER_DETAILS) || {}\n  };\n  log = maskSensitiveData(log);\n  const logger = getInstanceOfLogger(); // message, request, response are json stringified\n\n  logger.log(logLevel, jsonStringifyLog(log));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwibG9kYXNoIiwiaHR0cENvbnRleHQiLCJmcyIsImZvcm1hdCIsIndpbnN0b24iLCJjb21iaW5lIiwidGltZXN0YW1wIiwianNvbiIsIlNFTlNJVElWRV9EQVRBX01BUFBJTkdTIiwiTUFTSyIsImxvZ2dlclJlZmVyZW5jZSIsInBhcnNlVW5oYW5kbGVkRXhjZXB0aW9ucyIsImluZm8iLCJpbnB1dCIsImV4Y2VwdGlvbiIsIm1lc3NhZ2UiLCJlcnJvciIsIldpbnN0b25Mb2dnZXIiLCJsb2dEaXIiLCJvcyIsImhvbWVkaXIiLCJwcm9jZXNzIiwiZW52IiwibmFtZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJsb2dnZXIiLCJjcmVhdGVMb2dnZXIiLCJkZWZhdWx0TWV0YSIsInNlcnZpY2UiLCJsZXZlbCIsImV4aXRPbkVycm9yIiwidHJhbnNwb3J0cyIsIkRhaWx5Um90YXRlRmlsZSIsImZpbGVuYW1lIiwiZXh0ZW5zaW9uIiwiZGlybmFtZSIsIm1heFNpemUiLCJtYXhGaWxlcyIsImhhbmRsZUV4Y2VwdGlvbnMiLCJoYW5kbGVSZWplY3Rpb25zIiwiTk9ERV9FTlYiLCJjb25zb2xlIiwiQ29uc29sZSIsImFkZCIsImdldEluc3RhbmNlT2ZMb2dnZXIiLCJpbml0IiwicmVwbGFjZU1hc2siLCJwYXlsb2FkIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJqc29uUGF0aCIsIkFycmF5IiwiaXNBcnJheSIsInYiLCJrIiwibWFza1NlbnNpdGl2ZURhdGEiLCJwYXRoIiwiY2FsbGJhY2siLCJkb29zcmFUcmFjZSIsIm9yaWciLCJFcnJvciIsInByZXBhcmVTdGFja1RyYWNlIiwiXyIsInN0YWNrIiwiZXJyIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJsb2ciLCJiYXNlbmFtZSIsImdldEZpbGVOYW1lIiwiZnVuY3Rpb25OYW1lIiwiZ2V0RnVuY3Rpb25OYW1lIiwianNvblN0cmluZ2lmeUxvZyIsInRlbXBMb2ciLCJjbG9uZURlZXAiLCJKU09OIiwic3RyaW5naWZ5IiwicmVxdWVzdCIsInJlc3BvbnNlIiwiZ2xvYmFsIiwibG9nTGV2ZWwiLCJjb3JyZWxhdGlvbklkIiwiZ2V0IiwiQ29uc3RhbnRzIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJpcEFkZHJlc3MiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwicmVzcG9uc2VUaW1lIiwiTE9HR0VSX1JFU1BPTlNFX1RJTUUiLCJyb3V0ZSIsIkxPR0dFUl9BUElfUk9VVEUiLCJ1c2VyRGV0YWlscyIsIkxPR0dFUl9VU0VSX0RFVEFJTFMiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS91dGlscy8iLCJzb3VyY2VzIjpbIldpbnN0b25Mb2dnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBvcyBmcm9tIFwib3NcIjtcbmltcG9ydCB3aW5zdG9uIGZyb20gXCJ3aW5zdG9uXCI7XG5pbXBvcnQgeyBKU09OUGF0aCB9IGZyb20gXCJqc29ucGF0aC1wbHVzXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL2NvbnN0YW50cy9Db25zdGFudHNcIjtcblxucmVxdWlyZShcIndpbnN0b24tZGFpbHktcm90YXRlLWZpbGVcIik7XG5jb25zdCBsb2Rhc2ggPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuY29uc3QgaHR0cENvbnRleHQgPSByZXF1aXJlKFwiZXhwcmVzcy1odHRwLWNvbnRleHRcIik7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcblxuY29uc3QgeyBmb3JtYXQgfSA9IHdpbnN0b247XG5jb25zdCB7IGNvbWJpbmUsIHRpbWVzdGFtcCwganNvbiB9ID0gZm9ybWF0O1xuY29uc3QgU0VOU0lUSVZFX0RBVEFfTUFQUElOR1MgPSB7XG4gIFwiJC5yZXF1ZXN0LmJvZHlcIjogW1wicGFzc3dvcmRcIl0sXG4gIFwiJC5yZXNwb25zZS5tZXNzYWdlc1s6XVwiOiBbXCJtZXNzYWdlXCJdLFxufTtcbmNvbnN0IE1BU0sgPSBcIlhYWFhYWFwiO1xubGV0IGxvZ2dlclJlZmVyZW5jZTtcblxuLy8gUGFyc2UgdW5oYW5kbGVkIGV4Y2VwdGlvbnMsIGNvbnZlcnQgbWVzc2FnZSB0byBqc29uIG9iamVjdFxuY29uc3QgcGFyc2VVbmhhbmRsZWRFeGNlcHRpb25zID0gZm9ybWF0KChpbmZvKSA9PiB7XG4gIGNvbnN0IGlucHV0ID0geyAuLi5pbmZvIH07XG4gIGlmIChpbmZvLmV4Y2VwdGlvbikge1xuICAgIGlucHV0Lm1lc3NhZ2UgPSB7IGVycm9yOiBpbmZvIH07XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufSk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS93aW5zdG9uanMvd2luc3RvbiNsb2dnaW5nLWxldmVsc1xuLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvd2luc3Rvbi1kYWlseS1yb3RhdGUtZmlsZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXaW5zdG9uTG9nZ2VyKCkge1xuICBjb25zdCBsb2dEaXIgPSBgJHtvcy5ob21lZGlyKCl9LyR7cHJvY2Vzcy5lbnYubmFtZX0tbG9ncy9gO1xuICBpZiAoIWZzLmV4aXN0c1N5bmMobG9nRGlyKSkge1xuICAgIGZzLm1rZGlyU3luYyhsb2dEaXIpO1xuICB9XG4gIGNvbnN0IGxvZ2dlciA9IHdpbnN0b24uY3JlYXRlTG9nZ2VyKHtcbiAgICBkZWZhdWx0TWV0YToge1xuICAgICAgc2VydmljZTogcHJvY2Vzcy5lbnYubmFtZSxcbiAgICB9LFxuICAgIGxldmVsOiBcImluZm9cIixcbiAgICBmb3JtYXQ6IGNvbWJpbmUoXG4gICAgICBwYXJzZVVuaGFuZGxlZEV4Y2VwdGlvbnMoKSxcbiAgICAgIHRpbWVzdGFtcCgpLFxuICAgICAganNvbigpLFxuICAgICksXG4gICAgZXhpdE9uRXJyb3I6IGZhbHNlLFxuICAgIHRyYW5zcG9ydHM6IFtcbiAgICAgIG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuRGFpbHlSb3RhdGVGaWxlKHtcbiAgICAgICAgZmlsZW5hbWU6IFwiYWxsXCIsXG4gICAgICAgIGV4dGVuc2lvbjogXCIubG9nXCIsXG4gICAgICAgIGRpcm5hbWU6IGxvZ0RpcixcbiAgICAgICAgbWF4U2l6ZTogXCI1MG1cIixcbiAgICAgICAgbWF4RmlsZXM6IFwiMTBcIixcbiAgICAgICAgaGFuZGxlRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgICAgaGFuZGxlUmVqZWN0aW9uczogdHJ1ZSxcbiAgICAgIH0pLFxuICAgIF0sXG4gIH0pO1xuICAvLyBmb3IgbG9jYWwgd3JpdGUgdG8gY29uc29sZVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgY29uc3QgY29uc29sZSA9IG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICBoYW5kbGVFeGNlcHRpb25zOiB0cnVlLFxuICAgICAgaGFuZGxlUmVqZWN0aW9uczogdHJ1ZSxcbiAgICAgIGV4aXRPbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgICBsb2dnZXIuYWRkKGNvbnNvbGUpOyAvLyBBZGQgY29uc29sZSB0cmFuc3BvcnRcbiAgfVxuICByZXR1cm4gbG9nZ2VyO1xufVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZU9mTG9nZ2VyKCkge1xuICBpZiAoIWxvZ2dlclJlZmVyZW5jZSkge1xuICAgIGxvZ2dlclJlZmVyZW5jZSA9IG5ldyBXaW5zdG9uTG9nZ2VyKCk7XG4gIH1cbiAgcmV0dXJuIGxvZ2dlclJlZmVyZW5jZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGxvZ2dlclJlZmVyZW5jZSA9IG5ldyBXaW5zdG9uTG9nZ2VyKCk7XG59XG5cbmNvbnN0IHJlcGxhY2VNYXNrID0gKHBheWxvYWQpID0+IHtcbiAgY29uc3QgaW5wdXQgPSB7IC4uLnBheWxvYWQgfTtcbiAgT2JqZWN0LmtleXMoU0VOU0lUSVZFX0RBVEFfTUFQUElOR1MpLmZvckVhY2goKGpzb25QYXRoKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoU0VOU0lUSVZFX0RBVEFfTUFQUElOR1NbanNvblBhdGhdKSkge1xuICAgICAgU0VOU0lUSVZFX0RBVEFfTUFQUElOR1NbanNvblBhdGhdLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgaWYgKGlucHV0W1NFTlNJVElWRV9EQVRBX01BUFBJTkdTW2pzb25QYXRoXVtrXV0pIHtcbiAgICAgICAgICBpbnB1dFtTRU5TSVRJVkVfREFUQV9NQVBQSU5HU1tqc29uUGF0aF1ba11dID0gTUFTSztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGlucHV0O1xufTtcblxuY29uc3QgbWFza1NlbnNpdGl2ZURhdGEgPSAoaW5mbykgPT4ge1xuICBPYmplY3Qua2V5cyhTRU5TSVRJVkVfREFUQV9NQVBQSU5HUykuZm9yRWFjaCgoanNvblBhdGgpID0+IHtcbiAgICBKU09OUGF0aCh7XG4gICAgICBwYXRoOiBqc29uUGF0aCxcbiAgICAgIGpzb246IGluZm8sXG4gICAgICBjYWxsYmFjazogcmVwbGFjZU1hc2ssXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gaW5mbztcbn07XG5cbi8vIGh0dHBzOi8vdjguZGV2L2RvY3Mvc3RhY2stdHJhY2UtYXBpXG5mdW5jdGlvbiBkb29zcmFUcmFjZSgpIHtcbiAgY29uc3Qgb3JpZyA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IChfLCBzdGFjaykgPT4gc3RhY2s7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcigpO1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIGxvZyk7XG4gIGNvbnN0IHsgc3RhY2sgfSA9IGVycjtcbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBvcmlnO1xuICBjb25zdCBmaWxlbmFtZSA9IHBhdGguYmFzZW5hbWUoc3RhY2tbMF0uZ2V0RmlsZU5hbWUoKSk7XG4gIGNvbnN0IGZ1bmN0aW9uTmFtZSA9IHN0YWNrWzBdID8gc3RhY2tbMF0uZ2V0RnVuY3Rpb25OYW1lKCkgOiBcIlwiO1xuICByZXR1cm4geyBmaWxlbmFtZSwgZnVuY3Rpb25OYW1lIH07XG59XG5cbmZ1bmN0aW9uIGpzb25TdHJpbmdpZnlMb2cobG9nKSB7XG4gIGNvbnN0IHRlbXBMb2cgPSBsb2Rhc2guY2xvbmVEZWVwKGxvZyk7XG4gIHRyeSB7XG4gICAgdGVtcExvZy5tZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkodGVtcExvZy5tZXNzYWdlKTtcbiAgICB0ZW1wTG9nLnJlcXVlc3QgPSBKU09OLnN0cmluZ2lmeSh0ZW1wTG9nLnJlcXVlc3QpO1xuICAgIHRlbXBMb2cucmVzcG9uc2UgPSBKU09OLnN0cmluZ2lmeSh0ZW1wTG9nLnJlc3BvbnNlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgfVxuICByZXR1cm4gdGVtcExvZztcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gbGV2ZWxcbiAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICogbWVzc2FnZSwgcmVxdWVzdCwgcmVzcG9uc2UgdmFsdWVzIGFyZSBqc29uIHN0cmluZ3NcbiAqL1xuZ2xvYmFsLmxvZyA9IGZ1bmN0aW9uIChsZXZlbCwgbWVzc2FnZSkge1xuICBjb25zdCBsb2dMZXZlbCA9IGxldmVsIHx8IFwiaW5mb1wiO1xuICBjb25zdCB7IGZpbGVuYW1lLCBmdW5jdGlvbk5hbWUgfSA9IGRvb3NyYVRyYWNlKCk7XG4gIGxldCBsb2cgPSB7XG4gICAgY29ycmVsYXRpb25JZDogaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfQ09SUkVMQVRJT05JRCkgfHwgXCJcIixcbiAgICBmaWxlbmFtZSxcbiAgICBmdW5jdGlvbk5hbWUsXG4gICAgaXBBZGRyZXNzOiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9VU0VSX0lQX0FERFJFU1MpIHx8IFwiXCIsXG4gICAgbWVzc2FnZSxcbiAgICByZXF1ZXN0OiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVFVRVNUX1BBWUxPQUQpIHx8IHt9LFxuICAgIHJlc3BvbnNlOiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEKSB8fCB7fSxcbiAgICByZXNwb25zZVRpbWU6IGh0dHBDb250ZXh0LmdldChDb25zdGFudHMuTE9HR0VSX1JFU1BPTlNFX1RJTUUpLFxuICAgIHJvdXRlOiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9BUElfUk9VVEUpIHx8IFwiXCIsXG4gICAgdXNlckRldGFpbHM6IGh0dHBDb250ZXh0LmdldChDb25zdGFudHMuTE9HR0VSX1VTRVJfREVUQUlMUykgfHwge30sXG4gIH07XG4gIGxvZyA9IG1hc2tTZW5zaXRpdmVEYXRhKGxvZyk7XG4gIGNvbnN0IGxvZ2dlciA9IGdldEluc3RhbmNlT2ZMb2dnZXIoKTtcbiAgLy8gbWVzc2FnZSwgcmVxdWVzdCwgcmVzcG9uc2UgYXJlIGpzb24gc3RyaW5naWZpZWRcbiAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwganNvblN0cmluZ2lmeUxvZyhsb2cpKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUFBLE9BQU8sQ0FBQywyQkFBRCxDQUFQOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUUsV0FBVyxHQUFHRixPQUFPLENBQUMsc0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsRUFBRSxHQUFHSCxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFFQSxNQUFNO0VBQUVJO0FBQUYsSUFBYUMsZ0JBQW5CO0FBQ0EsTUFBTTtFQUFFQyxPQUFGO0VBQVdDLFNBQVg7RUFBc0JDO0FBQXRCLElBQStCSixNQUFy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","map":{"version":3,"names":["require","lodash","httpContext","fs","format","winston","combine","timestamp","json","SENSITIVE_DATA_MAPPINGS","MASK","loggerReference","parseUnhandledExceptions","info","input","exception","message","error","WinstonLogger","logDir","os","homedir","process","env","name","existsSync","mkdirSync","logger","createLogger","defaultMeta","service","level","exitOnError","transports","DailyRotateFile","filename","extension","dirname","maxSize","maxFiles","handleExceptions","handleRejections","NODE_ENV","console","Console","add","getInstanceOfLogger","init","replaceMask","payload","Object","keys","forEach","jsonPath","Array","isArray","v","k","maskSensitiveData","path","callback","doosraTrace","orig","Error","prepareStackTrace","_","stack","err","captureStackTrace","log","basename","getFileName","functionName","getFunctionName","jsonStringifyLog","tempLog","cloneDeep","JSON","stringify","request","response","global","logLevel","correlationId","get","Constants","LOGGER_CORRELATIONID","ipAddress","LOGGER_USER_IP_ADDRESS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","responseTime","LOGGER_RESPONSE_TIME","route","LOGGER_API_ROUTE","userDetails","LOGGER_USER_DETAILS"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/utils/","sources":["WinstonLogger.js"],"sourcesContent":["import path from \"path\";\nimport os from \"os\";\nimport winston from \"winston\";\nimport { JSONPath } from \"jsonpath-plus\";\nimport * as Constants from \"../constants/Constants\";\n\nrequire(\"winston-daily-rotate-file\");\nconst lodash = require(\"lodash\");\nconst httpContext = require(\"express-http-context\");\nconst fs = require(\"fs\");\n\nconst { format } = winston;\nconst { combine, timestamp, json } = format;\nconst SENSITIVE_DATA_MAPPINGS = {\n  \"$.request.body\": [\"password\"],\n  \"$.response.messages[:]\": [\"message\"],\n};\nconst MASK = \"XXXXXX\";\nlet loggerReference;\n\n// Parse unhandled exceptions, convert message to json object\nconst parseUnhandledExceptions = format((info) => {\n  const input = { ...info };\n  if (info.exception) {\n    input.message = { error: info };\n  }\n  return input;\n});\n\n// https://github.com/winstonjs/winston#logging-levels\n// https://www.npmjs.com/package/winston-daily-rotate-file\n\nexport default function WinstonLogger() {\n  const logDir = `${os.homedir()}/${process.env.name}-logs/`;\n  if (!fs.existsSync(logDir)) {\n    fs.mkdirSync(logDir);\n  }\n  const logger = winston.createLogger({\n    defaultMeta: {\n      service: process.env.name,\n    },\n    level: \"info\",\n    format: combine(\n      parseUnhandledExceptions(),\n      timestamp(),\n      json(),\n    ),\n    exitOnError: false,\n    transports: [\n      new winston.transports.DailyRotateFile({\n        filename: \"all\",\n        extension: \".log\",\n        dirname: logDir,\n        maxSize: \"50m\",\n        maxFiles: \"10\",\n        handleExceptions: true,\n        handleRejections: true,\n      }),\n    ],\n  });\n  // for local write to console\n  if (process.env.NODE_ENV === \"default\") {\n    const console = new winston.transports.Console({\n      handleExceptions: true,\n      handleRejections: true,\n      exitOnError: false,\n    });\n    logger.add(console); // Add console transport\n  }\n  return logger;\n}\n\nfunction getInstanceOfLogger() {\n  if (!loggerReference) {\n    loggerReference = new WinstonLogger();\n  }\n  return loggerReference;\n}\n\nexport function init() {\n  loggerReference = new WinstonLogger();\n}\n\nconst replaceMask = (payload) => {\n  const input = { ...payload };\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach((jsonPath) => {\n    if (Array.isArray(SENSITIVE_DATA_MAPPINGS[jsonPath])) {\n      SENSITIVE_DATA_MAPPINGS[jsonPath].forEach((v, k) => {\n        if (input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]]) {\n          input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]] = MASK;\n        }\n      });\n    }\n  });\n  return input;\n};\n\nconst maskSensitiveData = (info) => {\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach((jsonPath) => {\n    JSONPath({\n      path: jsonPath,\n      json: info,\n      callback: replaceMask,\n    });\n  });\n  return info;\n};\n\n// https://v8.dev/docs/stack-trace-api\nfunction doosraTrace() {\n  const orig = Error.prepareStackTrace;\n  Error.prepareStackTrace = (_, stack) => stack;\n  const err = new Error();\n  Error.captureStackTrace(err, log);\n  const { stack } = err;\n  Error.prepareStackTrace = orig;\n  const filename = path.basename(stack[0].getFileName());\n  const functionName = stack[0] ? stack[0].getFunctionName() : \"\";\n  return { filename, functionName };\n}\n\nfunction jsonStringifyLog(log) {\n  const tempLog = lodash.cloneDeep(log);\n  try {\n    tempLog.message = JSON.stringify(tempLog.message);\n    tempLog.request = JSON.stringify(tempLog.request);\n    tempLog.response = JSON.stringify(tempLog.response);\n  } catch (error) {\n    console.error(\"error\", { error });\n  }\n  return tempLog;\n}\n/**\n *\n * @param {*} level\n * @param {*} message\n * message, request, response values are json strings\n */\nglobal.log = function (level, message) {\n  const logLevel = level || \"info\";\n  const { filename, functionName } = doosraTrace();\n  let log = {\n    correlationId: httpContext.get(Constants.LOGGER_CORRELATIONID) || \"\",\n    filename,\n    functionName,\n    ipAddress: httpContext.get(Constants.LOGGER_USER_IP_ADDRESS) || \"\",\n    message,\n    request: httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD) || {},\n    response: httpContext.get(Constants.LOGGER_RESPONSE_PAYLOAD) || {},\n    responseTime: httpContext.get(Constants.LOGGER_RESPONSE_TIME),\n    route: httpContext.get(Constants.LOGGER_API_ROUTE) || \"\",\n    userDetails: httpContext.get(Constants.LOGGER_USER_DETAILS) || {},\n  };\n  log = maskSensitiveData(log);\n  const logger = getInstanceOfLogger();\n  // message, request, response are json stringified\n  logger.log(logLevel, jsonStringifyLog(log));\n};\n"],"mappings":"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"}},"mtime":1653649505375},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/Constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGGER_USER_IP_ADDRESS = exports.LOGGER_USER_DETAILS = exports.LOGGER_URL_REDIRECTION_OBJ = exports.LOGGER_RESPONSE_TIME = exports.LOGGER_RESPONSE_PAYLOAD = exports.LOGGER_REQUEST_START_TIME = exports.LOGGER_REQUEST_PAYLOAD = exports.LOGGER_CORRELATIONID = exports.LOGGER_API_ROUTE = void 0;\nconst LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexports.LOGGER_USER_DETAILS = LOGGER_USER_DETAILS;\nconst LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexports.LOGGER_REQUEST_PAYLOAD = LOGGER_REQUEST_PAYLOAD;\nconst LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexports.LOGGER_RESPONSE_PAYLOAD = LOGGER_RESPONSE_PAYLOAD;\nconst LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexports.LOGGER_REQUEST_START_TIME = LOGGER_REQUEST_START_TIME;\nconst LOGGER_API_ROUTE = \"loggerRoute\";\nexports.LOGGER_API_ROUTE = LOGGER_API_ROUTE;\nconst LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexports.LOGGER_USER_IP_ADDRESS = LOGGER_USER_IP_ADDRESS;\nconst LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexports.LOGGER_CORRELATIONID = LOGGER_CORRELATIONID;\nconst LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexports.LOGGER_RESPONSE_TIME = LOGGER_RESPONSE_TIME;\nconst LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\nexports.LOGGER_URL_REDIRECTION_OBJ = LOGGER_URL_REDIRECTION_OBJ;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMT0dHRVJfVVNFUl9ERVRBSUxTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFUVVFU1RfU1RBUlRfVElNRSIsIkxPR0dFUl9BUElfUk9VVEUiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJMT0dHRVJfUkVTUE9OU0VfVElNRSIsIkxPR0dFUl9VUkxfUkVESVJFQ1RJT05fT0JKIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29uc3RhbnRzLyIsInNvdXJjZXMiOlsiQ29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBMT0dHRVJfVVNFUl9ERVRBSUxTID0gXCJsb2dnZXJVc2VyRGV0YWlsc1wiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVFVRVNUX1BBWUxPQUQgPSBcImxvZ2dlclJlcXVlc3RQYXlsb2FkXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX1JFU1BPTlNFX1BBWUxPQUQgPSBcImxvZ2dlclJlc3BvbnNlUGF5bG9hZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVFVRVNUX1NUQVJUX1RJTUUgPSBcImxvZ2dlclJlcXVlc3RTdGFydFRpbWVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfQVBJX1JPVVRFID0gXCJsb2dnZXJSb3V0ZVwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9VU0VSX0lQX0FERFJFU1MgPSBcImxvZ2dlclVzZXJJcEFkZHJlc3NcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfQ09SUkVMQVRJT05JRCA9IFwibG9nZ2VyQ29ycmVsYXRpb25JZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVNQT05TRV9USU1FID0gXCJsb2dnZXJSZXNwb25zZVRpbWVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfVVJMX1JFRElSRUNUSU9OX09CSiA9IFwibG9nZ2VyVXJsUmVkaXJlY3Rpb25PYmpcIjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUcsbUJBQTVCOztBQUNBLE1BQU1DLHNCQUFzQixHQUFHLHNCQUEvQjs7QUFDQSxNQUFNQyx1QkFBdUIsR0FBRyx1QkFBaEM7O0FBQ0EsTUFBTUMseUJBQXlCLEdBQUcsd0JBQWxDOztBQUNBLE1BQU1DLGdCQUFnQixHQUFHLGFBQXpCOztBQUNBLE1BQU1DLHNCQUFzQixHQUFHLHFCQUEvQjs7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxxQkFBN0I7O0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcsb0JBQTdCOztBQUNBLE1BQU1DLDBCQUEwQixHQUFHLHlCQUFuQyJ9","map":{"version":3,"names":["LOGGER_USER_DETAILS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","LOGGER_REQUEST_START_TIME","LOGGER_API_ROUTE","LOGGER_USER_IP_ADDRESS","LOGGER_CORRELATIONID","LOGGER_RESPONSE_TIME","LOGGER_URL_REDIRECTION_OBJ"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/","sources":["Constants.js"],"sourcesContent":["export const LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexport const LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexport const LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexport const LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexport const LOGGER_API_ROUTE = \"loggerRoute\";\nexport const LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexport const LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexport const LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexport const LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG,mBAA5B;;AACA,MAAMC,sBAAsB,GAAG,sBAA/B;;AACA,MAAMC,uBAAuB,GAAG,uBAAhC;;AACA,MAAMC,yBAAyB,GAAG,wBAAlC;;AACA,MAAMC,gBAAgB,GAAG,aAAzB;;AACA,MAAMC,sBAAsB,GAAG,qBAA/B;;AACA,MAAMC,oBAAoB,GAAG,qBAA7B;;AACA,MAAMC,oBAAoB,GAAG,oBAA7B;;AACA,MAAMC,0BAA0B,GAAG,yBAAnC"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/MainDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  _mongoose.default.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwibW9uZ29vc2UiLCJzZXQiLCJjb2xsZWN0aW9uTmFtZSIsIm1ldGhvZE5hbWUiLCJtZXRob2RBcmdzIiwibG9nIiwiam9pbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29ubmVjdGlvbnMvIiwic291cmNlcyI6WyJNYWluRGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWltcG9ydC1tb2R1bGUtZXhwb3J0cyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxubGV0IGNvbm47XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBSRUNPTk5FQ1RfVElNRSA9IDUwMDA7XG4gIGNvbnN0IENPTk5fVVJMID0gY29uZmlnLm1haW5EYmNvbmZpZy5jb25uU3RyaW5nO1xuXG4gIGlmIChjb25uKSB7XG4gICAgcmV0dXJuIGNvbm47XG4gIH1cblxuICBtb25nb29zZS5zZXQoXCJkZWJ1Z1wiLCAoY29sbGVjdGlvbk5hbWUsIG1ldGhvZE5hbWUsIC4uLm1ldGhvZEFyZ3MpID0+IHtcbiAgICAvLyB1c2UgY3VzdG9tIGZ1bmN0aW9uIHRvIGxvZyBjb2xsZWN0aW9uIG1ldGhvZHMgKyBhcmd1bWVudHNcbiAgICBsb2coXCJpbmZvXCIsIGBNb25nb29zZTogJHtjb2xsZWN0aW9uTmFtZX0uJHttZXRob2ROYW1lfSgke21ldGhvZEFyZ3Muam9pbihcIiwgXCIpfSlgKTtcbiAgfSk7XG5cbiAgbG9nKFwiaW5mb1wiLCBgQ09OTl9VUkwgdG8gY29ubmVjdCB0byBtYWluIGRhdGFiYXNlICR7Q09OTl9VUkx9YCk7XG4gIGNvbm4gPSBtb25nb29zZS5jcmVhdGVDb25uZWN0aW9uKENPTk5fVVJMKTtcblxuICAvLyAgTW9uZ29vc2UgQ29ubmVjdGlvbiBFdmVudHNcbiAgY29ubi5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub25jZShcIm9wZW5cIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwib3BlblwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGluZ1wiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0aW5nXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJyZWNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJyZWNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiZGlzY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogYGRpc2Nvbm5lY3RlZCBSZWNvbm5lY3RpbmcgaW4gJHtSRUNPTk5FQ1RfVElNRSAvIDEwMDB9cy4uLmAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F1dG9tYXR0aWMvbW9uZ29vc2UvaXNzdWVzLzUxNjkjaXNzdWVjb21tZW50LTMxNDk4MzExM1xuICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb25uLm9wZW5VcmkoQ09OTl9VUkwpLmNhdGNoKCgpID0+IHsgfSk7IH0sIFJFQ09OTkVDVF9USU1FKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gY29ubjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUhBO0FBS0EsSUFBSUEsSUFBSjs7QUFFTyxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRyxJQUF2QjtFQUNBLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsWUFBUCxDQUFvQkMsVUFBckM7O0VBRUEsSUFBSU4sSUFBSixFQUFVO0lBQ1IsT0FBT0EsSUFBUDtFQUNEOztFQUVETyxrQkFBU0MsR0FBVCxDQUFhLE9BQWIsRUFBc0IsQ0FBQ0MsY0FBRCxFQUFpQkMsVUFBakIsRUFBNkIsR0FBR0MsVUFBaEMsS0FBK0M7SUFDbkU7SUFDQUMsR0FBRyxDQUFDLE1BQUQsRUFBVSxhQUFZSCxjQUFlLElBQUdDLFVBQVcsSUFBR0MsVUFBVSxDQUFDRSxJQUFYLENBQWdCLElBQWhCLENBQXNCLEdBQTVFLENBQUg7RUFDRCxDQUhEOztFQUtBRCxHQUFHLENBQUMsTUFBRCxFQUFVLHdDQUF1Q1QsUUFBUyxFQUExRCxDQUFIO0VBQ0FILElBQUksR0FBR08sa0JBQVNPLGdCQUFULENBQTBCWCxRQUExQixDQUFQLENBZHFCLENBZ0JyQjs7RUFDQUgsSUFBSSxDQUFDZSxFQUFMLENBQVEsT0FBUixFQUFrQkMsS0FBRCxJQUFXO0lBQzFCSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0QsQ0FGRDtFQUlBaEIsSUFBSSxDQUFDaUIsSUFBTCxDQUFVLE1BQVYsRUFBa0IsTUFBTTtJQUN0QkwsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxXQUFSLEVBQXFCLE1BQU07SUFDekJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsWUFBUixFQUFzQixNQUFNO0lBQzFCSCxHQUFHLENBQUMsTUFBRCxFQUFTO01BQUVNLGtCQUFrQixFQUFFO0lBQXRCLENBQVQsQ0FBSDtFQUNELENBRkQ7RUFJQWxCLElBQUksQ0FBQ2UsRUFBTCxDQUFRLGFBQVIsRUFBdUIsTUFBTTtJQUMzQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLE1BQU07SUFDNUJILEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRU0sa0JBQWtCLEVBQUcsZ0NBQStCaEIsY0FBYyxHQUFHLElBQUs7SUFBNUUsQ0FBVixDQUFILENBRDRCLENBRTVCOztJQUNBaUIsVUFBVSxDQUFDLE1BQU07TUFBRW5CLElBQUksQ0FBQ29CLE9BQUwsQ0FBYWpCLFFBQWIsRUFBdUJrQixLQUF2QixDQUE2QixNQUFNLENBQUcsQ0FBdEM7SUFBMEMsQ0FBbkQsRUFBcURuQixjQUFyRCxDQUFWO0VBQ0QsQ0FKRDtFQU1BLE9BQU9GLElBQVA7QUFDRDs7QUFFTSxTQUFTc0IsYUFBVCxHQUF5QjtFQUM5QixPQUFPdEIsSUFBUDtBQUNEIn0=","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","mainDbconfig","connString","mongoose","set","collectionName","methodName","methodArgs","log","join","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["MainDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  mongoose.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,YAAP,CAAoBC,UAArC;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,kBAASC,GAAT,CAAa,OAAb,EAAsB,CAACC,cAAD,EAAiBC,UAAjB,EAA6B,GAAGC,UAAhC,KAA+C;IACnE;IACAC,GAAG,CAAC,MAAD,EAAU,aAAYH,cAAe,IAAGC,UAAW,IAAGC,UAAU,CAACE,IAAX,CAAgB,IAAhB,CAAsB,GAA5E,CAAH;EACD,CAHD;;EAKAD,GAAG,CAAC,MAAD,EAAU,wCAAuCT,QAAS,EAA1D,CAAH;EACAH,IAAI,GAAGO,kBAASO,gBAAT,CAA0BX,QAA1B,CAAP,CAdqB,CAgBrB;;EACAH,IAAI,CAACe,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAhB,IAAI,CAACiB,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BhB,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAiB,UAAU,CAAC,MAAM;MAAEnB,IAAI,CAACoB,OAAL,CAAajB,QAAb,EAAuBkB,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDnB,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASsB,aAAT,GAAyB;EAC9B,OAAOtB,IAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default2 = _interopRequireDefault(require(\"./default\"));\n\nvar _dev = _interopRequireDefault(require(\"./dev\"));\n\nvar _prod = _interopRequireDefault(require(\"./prod\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return _default2.default;\n\n    case \"dev\":\n      return _dev.default;\n\n    case \"production\":\n      return _prod.default;\n\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\n\nvar _default = config();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsb2NhbENvbmZpZyIsImRldkNvbmZpZyIsInByb2RDb25maWciLCJFcnJvciJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbmZpZy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2NhbENvbmZpZyBmcm9tIFwiLi9kZWZhdWx0XCI7XG5pbXBvcnQgZGV2Q29uZmlnIGZyb20gXCIuL2RldlwiO1xuaW1wb3J0IHByb2RDb25maWcgZnJvbSBcIi4vcHJvZFwiO1xuXG5jb25zdCBjb25maWcgPSAoKSA9PiB7XG4gIC8vIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gXCJkZWZhdWx0XCI7XG4gIHN3aXRjaCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgcmV0dXJuIGxvY2FsQ29uZmlnO1xuICAgIGNhc2UgXCJkZXZcIjpcbiAgICAgIHJldHVybiBkZXZDb25maWc7XG4gICAgY2FzZSBcInByb2R1Y3Rpb25cIjpcbiAgICAgIHJldHVybiBwcm9kQ29uZmlnO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWcgdmFyaWFibGVzIG5vdCBzZXRcIik7XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWcoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLE1BQU07RUFDbkI7RUFDQSxRQUFRQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBcEI7SUFDRSxLQUFLLFNBQUw7TUFDRSxPQUFPQyxpQkFBUDs7SUFDRixLQUFLLEtBQUw7TUFDRSxPQUFPQyxZQUFQOztJQUNGLEtBQUssWUFBTDtNQUNFLE9BQU9DLGFBQVA7O0lBQ0Y7TUFDRSxNQUFNLElBQUlDLEtBQUosQ0FBVSwwQkFBVixDQUFOO0VBUko7QUFVRCxDQVpEOztlQWFlUCxNQUFNLEUifQ==","map":{"version":3,"names":["config","process","env","NODE_ENV","localConfig","devConfig","prodConfig","Error"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["index.js"],"sourcesContent":["import localConfig from \"./default\";\nimport devConfig from \"./dev\";\nimport prodConfig from \"./prod\";\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return localConfig;\n    case \"dev\":\n      return devConfig;\n    case \"production\":\n      return prodConfig;\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\nexport default config();\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,MAAM;EACnB;EACA,QAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB;IACE,KAAK,SAAL;MACE,OAAOC,iBAAP;;IACF,KAAK,KAAL;MACE,OAAOC,YAAP;;IACF,KAAK,YAAL;MACE,OAAOC,aAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;EARJ;AAUD,CAZD;;eAaeP,MAAM,E"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/default.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\"\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\"\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwiYW5hbHl0aWNzRGJDb25maWciLCJyZWRpc0NvbmZpZyIsInNlbnRyeV9kc24iLCJwcm9jZXNzIiwiZW52IiwiU0VOVFJZX0RTTiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvbGNfbWV0cm9fZGJcIixcbiAgfSxcbiAgYW5hbHl0aWNzRGJDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvYW5hbHl0aWNzZGJcIixcbiAgfSxcbiAgcmVkaXNDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcInJlZGlzOi8vbG9jYWxob3N0OjYzNzlcIixcbiAgfSxcbiAgc2VudHJ5X2RzbjogcHJvY2Vzcy5lbnYuU0VOVFJZX0RTTixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUU7RUFEQSxDQUREO0VBSWJDLGlCQUFpQixFQUFFO0lBQ2pCRCxVQUFVLEVBQUU7RUFESyxDQUpOO0VBT2JFLFdBQVcsRUFBRTtJQUNYRixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJHLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","analyticsDbConfig","redisConfig","sentry_dsn","process","env","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["default.js"],"sourcesContent":["export default {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\",\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\",\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;eAAe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAE;EADA,CADD;EAIbC,iBAAiB,EAAE;IACjBD,UAAU,EAAE;EADK,CAJN;EAObE,WAAW,EAAE;IACXF,UAAU,EAAE;EADD,CAPA;EAUbG,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/dev.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJkZXYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiZG90ZW52L2NvbmZpZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1haW5EYmNvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IHByb2Nlc3MuZW52Lk1BSU5fREJfQ09OTl9TVFJJTkcsIC8vIENoYW5nZSBhbGwgcmVxdWlyZWQgY29uZmlnIHRvIGVudiB2YXJpYWJsZXNcbiAgfSxcbiAgYW5hbHl0aWNzRGJDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5BTkFMWVRJQ1NfREJfQ09OTl9TVFJJTkcsXG4gIH0sXG4gIHJlZGlzQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJyZWRpczovL2xvY2FsaG9zdDo2Mzc5XCIsXG4gIH0sXG4gIHNlbnRyeV9kc246IHByb2Nlc3MuZW52LlNFTlRSWV9EU04sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O2VBRWU7RUFDYkEsWUFBWSxFQUFFO0lBQ1pDLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQURaLENBQ2lDOztFQURqQyxDQUREO0VBSWJDLGlCQUFpQixFQUFFO0lBQ2pCSixVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRztFQURQLENBSk47RUFPYkMsV0FBVyxFQUFFO0lBQ1hOLFVBQVUsRUFBRTtFQURELENBUEE7RUFVYk8sVUFBVSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWU07QUFWWCxDIn0=","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["dev.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/prod.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJwcm9kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5NQUlOX0RCX0NPTk5fU1RSSU5HLCAvLyBDaGFuZ2UgYWxsIHJlcXVpcmVkIGNvbmZpZyB0byBlbnYgdmFyaWFibGVzXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuQU5BTFlUSUNTX0RCX0NPTk5fU1RSSU5HLFxuICB9LFxuICByZWRpc0NvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IFwicmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OVwiLFxuICB9LFxuICBzZW50cnlfZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztlQUVlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFEWixDQUNpQzs7RUFEakMsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkosVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7RUFEUCxDQUpOO0VBT2JDLFdBQVcsRUFBRTtJQUNYTixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJPLFVBQVUsRUFBRU4sT0FBTyxDQUFDQyxHQUFSLENBQVlNO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["prod.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/AnalyticsDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJhbmFseXRpY3NEYkNvbmZpZyIsImNvbm5TdHJpbmciLCJsb2ciLCJtb25nb29zZSIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29ubmVjdGlvbnMvIiwic291cmNlcyI6WyJBbmFseXRpY3NEYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8taW1wb3J0LW1vZHVsZS1leHBvcnRzICovXG5cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2NvbmZpZy9pbmRleFwiO1xuXG5sZXQgY29ubjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnN0IFJFQ09OTkVDVF9USU1FID0gNTAwMDtcbiAgY29uc3QgQ09OTl9VUkwgPSBjb25maWcuYW5hbHl0aWNzRGJDb25maWcuY29ublN0cmluZztcblxuICBpZiAoY29ubikge1xuICAgIHJldHVybiBjb25uO1xuICB9XG5cbiAgbG9nKFwiaW5mb1wiLCBgQ09OTl9VUkwgdG8gY29ubmVjdCB0byBhbmFseXRpY3MgZGF0YWJhc2UgJHtDT05OX1VSTH1gKTtcbiAgY29ubiA9IG1vbmdvb3NlLmNyZWF0ZUNvbm5lY3Rpb24oQ09OTl9VUkwpO1xuXG4gIC8vICBNb25nb29zZSBDb25uZWN0aW9uIEV2ZW50c1xuICBjb25uLm9uKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbmNlKFwib3BlblwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJvcGVuXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwiY29ubmVjdGVkXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJjb25uZWN0aW5nXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RpbmdcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcInJlY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcInJlY29ubmVjdGVkXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJkaXNjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBgZGlzY29ubmVjdGVkIFJlY29ubmVjdGluZyBpbiAke1JFQ09OTkVDVF9USU1FIC8gMTAwMH1zLi4uYCB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXV0b21hdHRpYy9tb25nb29zZS9pc3N1ZXMvNTE2OSNpc3N1ZWNvbW1lbnQtMzE0OTgzMTEzXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGNvbm4ub3BlblVyaShDT05OX1VSTCkuY2F0Y2goKCkgPT4geyB9KTsgfSwgUkVDT05ORUNUX1RJTUUpO1xuICB9KTtcblxuICByZXR1cm4gY29ubjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERiSW5zdGFuY2UoKSB7XG4gIHJldHVybiBjb25uO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOztBQUNBOzs7O0FBSEE7QUFLQSxJQUFJQSxJQUFKOztBQUVPLFNBQVNDLElBQVQsR0FBZ0I7RUFDckIsTUFBTUMsY0FBYyxHQUFHLElBQXZCO0VBQ0EsTUFBTUMsUUFBUSxHQUFHQyxlQUFPQyxpQkFBUCxDQUF5QkMsVUFBMUM7O0VBRUEsSUFBSU4sSUFBSixFQUFVO0lBQ1IsT0FBT0EsSUFBUDtFQUNEOztFQUVETyxHQUFHLENBQUMsTUFBRCxFQUFVLDZDQUE0Q0osUUFBUyxFQUEvRCxDQUFIO0VBQ0FILElBQUksR0FBR1Esa0JBQVNDLGdCQUFULENBQTBCTixRQUExQixDQUFQLENBVHFCLENBV3JCOztFQUNBSCxJQUFJLENBQUNVLEVBQUwsQ0FBUSxPQUFSLEVBQWtCQyxLQUFELElBQVc7SUFDMUJKLEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRUk7SUFBRixDQUFWLENBQUg7RUFDRCxDQUZEO0VBSUFYLElBQUksQ0FBQ1ksSUFBTCxDQUFVLE1BQVYsRUFBa0IsTUFBTTtJQUN0QkwsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLFdBQVIsRUFBcUIsTUFBTTtJQUN6QkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLFlBQVIsRUFBc0IsTUFBTTtJQUMxQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLGFBQVIsRUFBdUIsTUFBTTtJQUMzQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLGNBQVIsRUFBd0IsTUFBTTtJQUM1QkgsR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFTSxrQkFBa0IsRUFBRyxnQ0FBK0JYLGNBQWMsR0FBRyxJQUFLO0lBQTVFLENBQVYsQ0FBSCxDQUQ0QixDQUU1Qjs7SUFDQVksVUFBVSxDQUFDLE1BQU07TUFBRWQsSUFBSSxDQUFDZSxPQUFMLENBQWFaLFFBQWIsRUFBdUJhLEtBQXZCLENBQTZCLE1BQU0sQ0FBRyxDQUF0QztJQUEwQyxDQUFuRCxFQUFxRGQsY0FBckQsQ0FBVjtFQUNELENBSkQ7RUFNQSxPQUFPRixJQUFQO0FBQ0Q7O0FBRU0sU0FBU2lCLGFBQVQsR0FBeUI7RUFDOUIsT0FBT2pCLElBQVA7QUFDRCJ9","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","analyticsDbConfig","connString","log","mongoose","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["AnalyticsDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,iBAAP,CAAyBC,UAA1C;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,GAAG,CAAC,MAAD,EAAU,6CAA4CJ,QAAS,EAA/D,CAAH;EACAH,IAAI,GAAGQ,kBAASC,gBAAT,CAA0BN,QAA1B,CAAP,CATqB,CAWrB;;EACAH,IAAI,CAACU,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAX,IAAI,CAACY,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BX,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAY,UAAU,CAAC,MAAM;MAAEd,IAAI,CAACe,OAAL,CAAaZ,QAAb,EAAuBa,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDd,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASiB,aAAT,GAAyB;EAC9B,OAAOjB,IAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/RedisClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedisClient = void 0;\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _redis = require(\"redis\");\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eslint-disable-next-line import/no-mutable-exports\nlet RedisClient;\nexports.RedisClient = RedisClient;\n\nfunction init() {\n  const CONN_URL = _index.default.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n  exports.RedisClient = RedisClient = (0, _redis.createClient)({\n    url: CONN_URL\n  }); //  Redis Connection Events\n\n  RedisClient.on(\"connect\", () => log(\"info\", {\n    redisConnection: \"connect\"\n  }));\n  RedisClient.on(\"ready\", () => log(\"info\", {\n    redisConnection: \"ready\"\n  }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", {\n    redisConnection: \"reconnecting\"\n  }));\n  RedisClient.on(\"end\", () => log(\"info\", {\n    redisConnection: \"disconnected\"\n  }));\n  RedisClient.on(\"error\", error => log(\"info\", {\n    error\n  }));\n\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return RedisClient;\n}\n\nfunction getDbInstance() {\n  return RedisClient;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpc0NsaWVudCIsImluaXQiLCJDT05OX1VSTCIsImNvbmZpZyIsInJlZGlzQ29uZmlnIiwiY29ublN0cmluZyIsImxvZyIsInVybCIsIm9uIiwicmVkaXNDb25uZWN0aW9uIiwiZXJyb3IiLCJjb25uZWN0IiwiZ2V0RGJJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiUmVkaXNDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcInJlZGlzXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbmV4cG9ydCBsZXQgUmVkaXNDbGllbnQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBDT05OX1VSTCA9IGNvbmZpZy5yZWRpc0NvbmZpZy5jb25uU3RyaW5nO1xuXG4gIGlmIChSZWRpc0NsaWVudCkge1xuICAgIHJldHVybiBSZWRpc0NsaWVudDtcbiAgfVxuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gcmVkaXMgJHtDT05OX1VSTH1gKTtcblxuICBSZWRpc0NsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG4gICAgdXJsOiBDT05OX1VSTCxcbiAgfSk7XG5cbiAgLy8gIFJlZGlzIENvbm5lY3Rpb24gRXZlbnRzXG4gIFJlZGlzQ2xpZW50Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiBsb2coXCJpbmZvXCIsIHsgcmVkaXNDb25uZWN0aW9uOiBcImNvbm5lY3RcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwicmVhZHlcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJyZWFkeVwiIH0pKTtcbiAgUmVkaXNDbGllbnQub24oXCJyZWNvbm5lY3RpbmdcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJyZWNvbm5lY3RpbmdcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwiZW5kXCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwiZGlzY29ubmVjdGVkXCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcImVycm9yXCIsIChlcnJvcikgPT4gbG9nKFwiaW5mb1wiLCB7IGVycm9yIH0pKTtcbiAgdHJ5IHtcbiAgICBSZWRpc0NsaWVudC5jb25uZWN0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgfVxuXG4gIHJldHVybiBSZWRpc0NsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERiSW5zdGFuY2UoKSB7XG4gIHJldHVybiBSZWRpc0NsaWVudDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQTtBQUNPLElBQUlBLFdBQUo7OztBQUVBLFNBQVNDLElBQVQsR0FBZ0I7RUFDckIsTUFBTUMsUUFBUSxHQUFHQyxlQUFPQyxXQUFQLENBQW1CQyxVQUFwQzs7RUFFQSxJQUFJTCxXQUFKLEVBQWlCO0lBQ2YsT0FBT0EsV0FBUDtFQUNEOztFQUVETSxHQUFHLENBQUMsTUFBRCxFQUFVLGdDQUErQkosUUFBUyxFQUFsRCxDQUFIO0VBRUEsc0JBQUFGLFdBQVcsR0FBRyx5QkFBYTtJQUN6Qk8sR0FBRyxFQUFFTDtFQURvQixDQUFiLENBQWQsQ0FUcUIsQ0FhckI7O0VBQ0FGLFdBQVcsQ0FBQ1EsRUFBWixDQUFlLFNBQWYsRUFBMEIsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUFuQztFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxPQUFmLEVBQXdCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBakM7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsY0FBZixFQUErQixNQUFNRixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVHLGVBQWUsRUFBRTtFQUFuQixDQUFULENBQXhDO0VBQ0FULFdBQVcsQ0FBQ1EsRUFBWixDQUFlLEtBQWYsRUFBc0IsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUEvQjtFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxPQUFmLEVBQXlCRSxLQUFELElBQVdKLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUk7RUFBRixDQUFULENBQXRDOztFQUNBLElBQUk7SUFDRlYsV0FBVyxDQUFDVyxPQUFaO0VBQ0QsQ0FGRCxDQUVFLE9BQU9ELEtBQVAsRUFBYztJQUNkSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0Q7O0VBRUQsT0FBT1YsV0FBUDtBQUNEOztBQUVNLFNBQVNZLGFBQVQsR0FBeUI7RUFDOUIsT0FBT1osV0FBUDtBQUNEIn0=","map":{"version":3,"names":["RedisClient","init","CONN_URL","config","redisConfig","connString","log","url","on","redisConnection","error","connect","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["RedisClient.js"],"sourcesContent":["import { createClient } from \"redis\";\nimport config from \"../config/index\";\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let RedisClient;\n\nexport function init() {\n  const CONN_URL = config.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n\n  RedisClient = createClient({\n    url: CONN_URL,\n  });\n\n  //  Redis Connection Events\n  RedisClient.on(\"connect\", () => log(\"info\", { redisConnection: \"connect\" }));\n  RedisClient.on(\"ready\", () => log(\"info\", { redisConnection: \"ready\" }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", { redisConnection: \"reconnecting\" }));\n  RedisClient.on(\"end\", () => log(\"info\", { redisConnection: \"disconnected\" }));\n  RedisClient.on(\"error\", (error) => log(\"info\", { error }));\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", { error });\n  }\n\n  return RedisClient;\n}\n\nexport function getDbInstance() {\n  return RedisClient;\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AAEA;AACO,IAAIA,WAAJ;;;AAEA,SAASC,IAAT,GAAgB;EACrB,MAAMC,QAAQ,GAAGC,eAAOC,WAAP,CAAmBC,UAApC;;EAEA,IAAIL,WAAJ,EAAiB;IACf,OAAOA,WAAP;EACD;;EAEDM,GAAG,CAAC,MAAD,EAAU,gCAA+BJ,QAAS,EAAlD,CAAH;EAEA,sBAAAF,WAAW,GAAG,yBAAa;IACzBO,GAAG,EAAEL;EADoB,CAAb,CAAd,CATqB,CAarB;;EACAF,WAAW,CAACQ,EAAZ,CAAe,SAAf,EAA0B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAnC;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAwB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAjC;EACAT,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAxC;EACAT,WAAW,CAACQ,EAAZ,CAAe,KAAf,EAAsB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAA/B;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAyBE,KAAD,IAAWJ,GAAG,CAAC,MAAD,EAAS;IAAEI;EAAF,CAAT,CAAtC;;EACA,IAAI;IACFV,WAAW,CAACW,OAAZ;EACD,CAFD,CAEE,OAAOD,KAAP,EAAc;IACdJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD;;EAED,OAAOV,WAAP;AACD;;AAEM,SAASY,aAAT,GAAyB;EAC9B,OAAOZ,WAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar Sentry = _interopRequireWildcard(require(\"@sentry/node\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nrequire(\"express-async-errors\");\n\nvar _User = _interopRequireDefault(require(\"./routes/User\"));\n\nvar _Outboundcall = _interopRequireDefault(require(\"./routes/Outboundcall\"));\n\nvar _Health = _interopRequireDefault(require(\"./routes/Health\"));\n\nvar _index = _interopRequireDefault(require(\"./config/index\"));\n\nvar _RequestLogger = _interopRequireDefault(require(\"./middlewares/RequestLogger\"));\n\nvar _Auth = require(\"./middlewares/Auth\");\n\nvar _ResponseLogger = require(\"./middlewares/ResponseLogger\");\n\nvar _SchemaValidator = require(\"./middlewares/SchemaValidator\");\n\nvar HttpContextMiddleware = _interopRequireWildcard(require(\"./middlewares/HttpContextMiddleware\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\n// Module Imports\n// Default Imports\n// Named Imports\nconst httpContext = require(\"express-http-context\");\n\nconst app = (0, _express.default)(); // init sentry\n\nSentry.init({\n  dsn: _index.default.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/]\n});\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)()); // init httpcontext\n\napp.use(httpContext.middleware); // set http context\n\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\napp.use(\"*\", [_RequestLogger.default, _Auth.checks, _SchemaValidator.validate]);\napp.use(\"/v1/health\", _Health.default);\napp.use(\"/v1/user\", _User.default);\napp.use(\"/v1/organisation/outbound-call\", _Outboundcall.default); // The error handler must be before any other error middleware and after all controllers\n\napp.use(Sentry.Handlers.errorHandler()); // attach response payload\n\napp.use(HttpContextMiddleware.setHttpContextResponsePayload); // attach response payload on error\n\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\napp.use(\"*\", [_ResponseLogger.resSuccessLog, _ResponseLogger.resErrorLog]);\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJhcHAiLCJTZW50cnkiLCJpbml0IiwiZHNuIiwiY29uZmlnIiwic2VudHJ5X2RzbiIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic2VydmVyTmFtZSIsIm5hbWUiLCJpZ25vcmVFcnJvcnMiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIm1pZGRsZXdhcmUiLCJIdHRwQ29udGV4dE1pZGRsZXdhcmUiLCJzZXRIdHRwQ29udGV4dE1ldHJpY3MiLCJzZXRIdHRwQ29udGV4dFVzZXJEZXRhaWxzIiwic2V0SHR0cENvbnRleHRSZXF1ZXN0UGF5bG9hZCIsInJlcUxvZyIsImNoZWNrcyIsInZhbGlkYXRlIiwiaGVhbHRoIiwidXNlciIsIk91dGJvdW5kY2FsbCIsIkhhbmRsZXJzIiwiZXJyb3JIYW5kbGVyIiwic2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQiLCJzZXRIdHRwQ29udGV4dEVycm9yUmVzcG9uc2VQYXlsb2FkIiwicmVzU3VjY2Vzc0xvZyIsInJlc0Vycm9yTG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlLyIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1pbXBvcnQtbW9kdWxlLWV4cG9ydHMgKi9cbi8vIE1vZHVsZSBJbXBvcnRzXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gXCJAc2VudHJ5L25vZGVcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCBcImV4cHJlc3MtYXN5bmMtZXJyb3JzXCI7XG5cbi8vIERlZmF1bHQgSW1wb3J0c1xuaW1wb3J0IHVzZXIgZnJvbSBcIi4vcm91dGVzL1VzZXJcIjtcbmltcG9ydCBPdXRib3VuZGNhbGwgZnJvbSBcIi4vcm91dGVzL091dGJvdW5kY2FsbFwiO1xuaW1wb3J0IGhlYWx0aCBmcm9tIFwiLi9yb3V0ZXMvSGVhbHRoXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZy9pbmRleFwiO1xuXG5pbXBvcnQgcmVxTG9nIGZyb20gXCIuL21pZGRsZXdhcmVzL1JlcXVlc3RMb2dnZXJcIjtcblxuLy8gTmFtZWQgSW1wb3J0c1xuaW1wb3J0IHsgY2hlY2tzIH0gZnJvbSBcIi4vbWlkZGxld2FyZXMvQXV0aFwiO1xuaW1wb3J0IHsgcmVzU3VjY2Vzc0xvZywgcmVzRXJyb3JMb2cgfSBmcm9tIFwiLi9taWRkbGV3YXJlcy9SZXNwb25zZUxvZ2dlclwiO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tIFwiLi9taWRkbGV3YXJlcy9TY2hlbWFWYWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEh0dHBDb250ZXh0TWlkZGxld2FyZSBmcm9tIFwiLi9taWRkbGV3YXJlcy9IdHRwQ29udGV4dE1pZGRsZXdhcmVcIjtcblxuY29uc3QgaHR0cENvbnRleHQgPSByZXF1aXJlKFwiZXhwcmVzcy1odHRwLWNvbnRleHRcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gaW5pdCBzZW50cnlcblNlbnRyeS5pbml0KHtcbiAgZHNuOiBjb25maWcuc2VudHJ5X2RzbixcbiAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICAvLyBuYW1lIGlzIHNldCBpbiBlY29zeXN0ZW0gY29uZmlnIGZpbGVcbiAgc2VydmVyTmFtZTogcHJvY2Vzcy5lbnYubmFtZSxcbiAgLy8gaWdub3JlIG1pZGRsZXdhcmUgZXJyb3JzXG4gIGlnbm9yZUVycm9yczogWy9eTm9uLUVycm9yIGV4Y2VwdGlvbiBjYXB0dXJlZCQvXSxcbn0pO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGNvcnMoKSk7XG4vLyBpbml0IGh0dHBjb250ZXh0XG5hcHAudXNlKGh0dHBDb250ZXh0Lm1pZGRsZXdhcmUpO1xuXG4vLyBzZXQgaHR0cCBjb250ZXh0XG5hcHAudXNlKEh0dHBDb250ZXh0TWlkZGxld2FyZS5zZXRIdHRwQ29udGV4dE1ldHJpY3MpO1xuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRVc2VyRGV0YWlscyk7XG5hcHAudXNlKEh0dHBDb250ZXh0TWlkZGxld2FyZS5zZXRIdHRwQ29udGV4dFJlcXVlc3RQYXlsb2FkKTtcblxuYXBwLnVzZShcIipcIiwgW3JlcUxvZywgY2hlY2tzLCB2YWxpZGF0ZV0pO1xuYXBwLnVzZShcIi92MS9oZWFsdGhcIiwgaGVhbHRoKTtcbmFwcC51c2UoXCIvdjEvdXNlclwiLCB1c2VyKTtcbmFwcC51c2UoXCIvdjEvb3JnYW5pc2F0aW9uL291dGJvdW5kLWNhbGxcIiwgT3V0Ym91bmRjYWxsKTtcblxuLy8gVGhlIGVycm9yIGhhbmRsZXIgbXVzdCBiZSBiZWZvcmUgYW55IG90aGVyIGVycm9yIG1pZGRsZXdhcmUgYW5kIGFmdGVyIGFsbCBjb250cm9sbGVyc1xuYXBwLnVzZShTZW50cnkuSGFuZGxlcnMuZXJyb3JIYW5kbGVyKCkpO1xuXG4vLyBhdHRhY2ggcmVzcG9uc2UgcGF5bG9hZFxuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQpO1xuXG4vLyBhdHRhY2ggcmVzcG9uc2UgcGF5bG9hZCBvbiBlcnJvclxuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRFcnJvclJlc3BvbnNlUGF5bG9hZCk7XG5cbmFwcC51c2UoXCIqXCIsIFtyZXNTdWNjZXNzTG9nLCByZXNFcnJvckxvZ10pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFwQkE7QUFDQTtBQU9BO0FBUUE7QUFNQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUEzQjs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVosQyxDQUVBOztBQUNBQyxNQUFNLENBQUNDLElBQVAsQ0FBWTtFQUNWQyxHQUFHLEVBQUVDLGVBQU9DLFVBREY7RUFFVkMsV0FBVyxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFGZjtFQUdWO0VBQ0FDLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSmQ7RUFLVjtFQUNBQyxZQUFZLEVBQUUsQ0FBQyxnQ0FBRDtBQU5KLENBQVo7QUFRQVosR0FBRyxDQUFDYSxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQWYsR0FBRyxDQUFDYSxHQUFKLENBQVEsb0JBQVIsRSxDQUNBOztBQUNBYixHQUFHLENBQUNhLEdBQUosQ0FBUWYsV0FBVyxDQUFDa0IsVUFBcEIsRSxDQUVBOztBQUNBaEIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDQyxxQkFBOUI7QUFDQWxCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRSSxxQkFBcUIsQ0FBQ0UseUJBQTlCO0FBQ0FuQixHQUFHLENBQUNhLEdBQUosQ0FBUUkscUJBQXFCLENBQUNHLDRCQUE5QjtBQUVBcEIsR0FBRyxDQUFDYSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNRLHNCQUFELEVBQVNDLFlBQVQsRUFBaUJDLHlCQUFqQixDQUFiO0FBQ0F2QixHQUFHLENBQUNhLEdBQUosQ0FBUSxZQUFSLEVBQXNCVyxlQUF0QjtBQUNBeEIsR0FBRyxDQUFDYSxHQUFKLENBQVEsVUFBUixFQUFvQlksYUFBcEI7QUFDQXpCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLGdDQUFSLEVBQTBDYSxxQkFBMUMsRSxDQUVBOztBQUNBMUIsR0FBRyxDQUFDYSxHQUFKLENBQVFaLE1BQU0sQ0FBQzBCLFFBQVAsQ0FBZ0JDLFlBQWhCLEVBQVIsRSxDQUVBOztBQUNBNUIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDWSw2QkFBOUIsRSxDQUVBOztBQUNBN0IsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDYSxrQ0FBOUI7QUFFQTlCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDa0IsNkJBQUQsRUFBZ0JDLDJCQUFoQixDQUFiO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmxDLEdBQWpCIn0=","map":{"version":3,"names":["httpContext","require","app","Sentry","init","dsn","config","sentry_dsn","environment","process","env","NODE_ENV","serverName","name","ignoreErrors","use","bodyParser","json","middleware","HttpContextMiddleware","setHttpContextMetrics","setHttpContextUserDetails","setHttpContextRequestPayload","reqLog","checks","validate","health","user","Outboundcall","Handlers","errorHandler","setHttpContextResponsePayload","setHttpContextErrorResponsePayload","resSuccessLog","resErrorLog","module","exports"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/","sources":["app.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n// Module Imports\nimport express from \"express\";\nimport * as Sentry from \"@sentry/node\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport \"express-async-errors\";\n\n// Default Imports\nimport user from \"./routes/User\";\nimport Outboundcall from \"./routes/Outboundcall\";\nimport health from \"./routes/Health\";\nimport config from \"./config/index\";\n\nimport reqLog from \"./middlewares/RequestLogger\";\n\n// Named Imports\nimport { checks } from \"./middlewares/Auth\";\nimport { resSuccessLog, resErrorLog } from \"./middlewares/ResponseLogger\";\nimport { validate } from \"./middlewares/SchemaValidator\";\nimport * as HttpContextMiddleware from \"./middlewares/HttpContextMiddleware\";\n\nconst httpContext = require(\"express-http-context\");\n\nconst app = express();\n\n// init sentry\nSentry.init({\n  dsn: config.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/],\n});\napp.use(bodyParser.json());\napp.use(cors());\n// init httpcontext\napp.use(httpContext.middleware);\n\n// set http context\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\n\napp.use(\"*\", [reqLog, checks, validate]);\napp.use(\"/v1/health\", health);\napp.use(\"/v1/user\", user);\napp.use(\"/v1/organisation/outbound-call\", Outboundcall);\n\n// The error handler must be before any other error middleware and after all controllers\napp.use(Sentry.Handlers.errorHandler());\n\n// attach response payload\napp.use(HttpContextMiddleware.setHttpContextResponsePayload);\n\n// attach response payload on error\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\n\napp.use(\"*\", [resSuccessLog, resErrorLog]);\n\nmodule.exports = app;\n"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AAEA;;AAGA;;AACA;;AACA;;AACA;;;;;;;;AApBA;AACA;AAOA;AAQA;AAMA,MAAMA,WAAW,GAAGC,OAAO,CAAC,sBAAD,CAA3B;;AAEA,MAAMC,GAAG,GAAG,uBAAZ,C,CAEA;;AACAC,MAAM,CAACC,IAAP,CAAY;EACVC,GAAG,EAAEC,eAAOC,UADF;EAEVC,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFf;EAGV;EACAC,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYG,IAJd;EAKV;EACAC,YAAY,EAAE,CAAC,gCAAD;AANJ,CAAZ;AAQAZ,GAAG,CAACa,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAf,GAAG,CAACa,GAAJ,CAAQ,oBAAR,E,CACA;;AACAb,GAAG,CAACa,GAAJ,CAAQf,WAAW,CAACkB,UAApB,E,CAEA;;AACAhB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACC,qBAA9B;AACAlB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACE,yBAA9B;AACAnB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACG,4BAA9B;AAEApB,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACQ,sBAAD,EAASC,YAAT,EAAiBC,yBAAjB,CAAb;AACAvB,GAAG,CAACa,GAAJ,CAAQ,YAAR,EAAsBW,eAAtB;AACAxB,GAAG,CAACa,GAAJ,CAAQ,UAAR,EAAoBY,aAApB;AACAzB,GAAG,CAACa,GAAJ,CAAQ,gCAAR,EAA0Ca,qBAA1C,E,CAEA;;AACA1B,GAAG,CAACa,GAAJ,CAAQZ,MAAM,CAAC0B,QAAP,CAAgBC,YAAhB,EAAR,E,CAEA;;AACA5B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACY,6BAA9B,E,CAEA;;AACA7B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACa,kCAA9B;AAEA9B,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACkB,6BAAD,EAAgBC,2BAAhB,CAAb;AAEAC,MAAM,CAACC,OAAP,GAAiBlC,GAAjB"}},"mtime":1653909482978},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar UserController = _interopRequireWildcard(require(\"../controllers/UserController\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post(\"/register\", UserController.register);\nrouter.get(\"/user-details\", UserController.getUserDetails);\nrouter.put(\"/user-details\", UserController.updateUserDetails);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0IiwiVXNlckNvbnRyb2xsZXIiLCJyZWdpc3RlciIsImdldCIsImdldFVzZXJEZXRhaWxzIiwicHV0IiwidXBkYXRlVXNlckRldGFpbHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9yb3V0ZXMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgKiBhcyBVc2VyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5nZXQoXCIvdXNlci1kZXRhaWxzXCIsIFVzZXJDb250cm9sbGVyLmdldFVzZXJEZXRhaWxzKTtcbnJvdXRlci5wdXQoXCIvdXNlci1kZXRhaWxzXCIsIFVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJEZXRhaWxzKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUVBQSxNQUFNLENBQUNDLElBQVAsQ0FBWSxXQUFaLEVBQXlCQyxjQUFjLENBQUNDLFFBQXhDO0FBQ0FILE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLGVBQVgsRUFBNEJGLGNBQWMsQ0FBQ0csY0FBM0M7QUFDQUwsTUFBTSxDQUFDTSxHQUFQLENBQVcsZUFBWCxFQUE0QkosY0FBYyxDQUFDSyxpQkFBM0M7ZUFFZVAsTSJ9","map":{"version":3,"names":["router","post","UserController","register","get","getUserDetails","put","updateUserDetails"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/","sources":["User.js"],"sourcesContent":["import { Router } from \"express\";\nimport * as UserController from \"../controllers/UserController\";\n\nconst router = Router();\n\nrouter.post(\"/register\", UserController.register);\nrouter.get(\"/user-details\", UserController.getUserDetails);\nrouter.put(\"/user-details\", UserController.updateUserDetails);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAyBC,cAAc,CAACC,QAAxC;AACAH,MAAM,CAACI,GAAP,CAAW,eAAX,EAA4BF,cAAc,CAACG,cAA3C;AACAL,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BJ,cAAc,CAACK,iBAA3C;eAEeP,M"}},"mtime":1653649505371},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserDetails = exports.register = exports.getUserDetails = void 0;\n\nvar Auth = _interopRequireWildcard(require(\"../middlewares/Auth\"));\n\nvar UserService = _interopRequireWildcard(require(\"../services/UserService\"));\n\nvar _Keys = require(\"../constants/Keys\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst register = async (req, res, next) => {\n  const {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  } = req.body;\n  const userDetails = {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  };\n  const clientDetails = {\n    apiKey: req.header(_Keys.HEADER_API_KEY)\n  };\n  const userObj = await UserService.registerUser(userDetails, clientDetails);\n  req.session = Auth.createSessionObj(userObj);\n  res.data = {\n    userDetails: userObj,\n    sessiontoken: req.session\n  };\n  next();\n};\n\nexports.register = register;\n\nconst getUserDetails = async (req, res, next) => {\n  const sessionObj = await Auth.getSessionObj(req);\n  const {\n    mobileNo\n  } = sessionObj;\n  const userObj = await UserService.getUserDetails(mobileNo);\n  res.data = userObj;\n  next();\n};\n\nexports.getUserDetails = getUserDetails;\n\nconst updateUserDetails = async (req, res, next) => {\n  const {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email\n  } = req.body;\n  const sessionObj = await Auth.getSessionObj(req);\n  const {\n    mobileNo\n  } = sessionObj;\n  const userDetails = {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo\n  };\n  await UserService.updateUserDetails(userDetails);\n  res.data = { ...userDetails\n  };\n  next();\n};\n\nexports.updateUserDetails = updateUserDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJtb2JpbGVObyIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJib2R5IiwidXNlckRldGFpbHMiLCJjbGllbnREZXRhaWxzIiwiYXBpS2V5IiwiaGVhZGVyIiwiSEVBREVSX0FQSV9LRVkiLCJ1c2VyT2JqIiwiVXNlclNlcnZpY2UiLCJyZWdpc3RlclVzZXIiLCJzZXNzaW9uIiwiQXV0aCIsImNyZWF0ZVNlc3Npb25PYmoiLCJkYXRhIiwic2Vzc2lvbnRva2VuIiwiZ2V0VXNlckRldGFpbHMiLCJzZXNzaW9uT2JqIiwiZ2V0U2Vzc2lvbk9iaiIsInVwZGF0ZVVzZXJEZXRhaWxzIiwiYWx0ZXJuYXRlTW9iaWxlTm8iLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvQXV0aFwiO1xuaW1wb3J0ICogYXMgVXNlclNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XG5pbXBvcnQge1xuICBIRUFERVJfQVBJX0tFWSxcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9LZXlzXCI7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7XG4gICAgbW9iaWxlTm8sIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLFxuICB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IHVzZXJEZXRhaWxzID0ge1xuICAgIG1vYmlsZU5vLFxuICAgIHBhc3N3b3JkLFxuICAgIGZpcnN0TmFtZSxcbiAgICBsYXN0TmFtZSxcbiAgfTtcbiAgY29uc3QgY2xpZW50RGV0YWlscyA9IHtcbiAgICBhcGlLZXk6IHJlcS5oZWFkZXIoSEVBREVSX0FQSV9LRVkpLFxuICB9O1xuICBjb25zdCB1c2VyT2JqID0gYXdhaXQgVXNlclNlcnZpY2UucmVnaXN0ZXJVc2VyKHVzZXJEZXRhaWxzLCBjbGllbnREZXRhaWxzKTtcbiAgcmVxLnNlc3Npb24gPSBBdXRoLmNyZWF0ZVNlc3Npb25PYmoodXNlck9iaik7XG4gIHJlcy5kYXRhID0ge1xuICAgIHVzZXJEZXRhaWxzOiB1c2VyT2JqLFxuICAgIHNlc3Npb250b2tlbjogcmVxLnNlc3Npb24sXG4gIH07XG4gIG5leHQoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBzZXNzaW9uT2JqID0gYXdhaXQgQXV0aC5nZXRTZXNzaW9uT2JqKHJlcSk7XG4gIGNvbnN0IHsgbW9iaWxlTm8gfSA9IHNlc3Npb25PYmo7XG4gIGNvbnN0IHVzZXJPYmogPSBhd2FpdCBVc2VyU2VydmljZS5nZXRVc2VyRGV0YWlscyhtb2JpbGVObyk7XG4gIHJlcy5kYXRhID0gdXNlck9iajtcbiAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJEZXRhaWxzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBmaXJzdE5hbWUsIGxhc3ROYW1lLCBhbHRlcm5hdGVNb2JpbGVObywgZW1haWwsXG4gIH0gPSByZXEuYm9keTtcbiAgY29uc3Qgc2Vzc2lvbk9iaiA9IGF3YWl0IEF1dGguZ2V0U2Vzc2lvbk9iaihyZXEpO1xuICBjb25zdCB7IG1vYmlsZU5vIH0gPSBzZXNzaW9uT2JqO1xuICBjb25zdCB1c2VyRGV0YWlscyA9IHtcbiAgICBmaXJzdE5hbWUsXG4gICAgbGFzdE5hbWUsXG4gICAgYWx0ZXJuYXRlTW9iaWxlTm8sXG4gICAgZW1haWwsXG4gICAgbW9iaWxlTm8sXG4gIH07XG4gIGF3YWl0IFVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXJEZXRhaWxzKHVzZXJEZXRhaWxzKTtcbiAgcmVzLmRhdGEgPSB7XG4gICAgLi4udXNlckRldGFpbHMsXG4gIH07XG4gIG5leHQoKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBSU8sTUFBTUEsUUFBUSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEQsTUFBTTtJQUNKQyxRQURJO0lBQ01DLFFBRE47SUFDZ0JDLFNBRGhCO0lBQzJCQztFQUQzQixJQUVGTixHQUFHLENBQUNPLElBRlI7RUFHQSxNQUFNQyxXQUFXLEdBQUc7SUFDbEJMLFFBRGtCO0lBRWxCQyxRQUZrQjtJQUdsQkMsU0FIa0I7SUFJbEJDO0VBSmtCLENBQXBCO0VBTUEsTUFBTUcsYUFBYSxHQUFHO0lBQ3BCQyxNQUFNLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixDQUFXQyxvQkFBWDtFQURZLENBQXRCO0VBR0EsTUFBTUMsT0FBTyxHQUFHLE1BQU1DLFdBQVcsQ0FBQ0MsWUFBWixDQUF5QlAsV0FBekIsRUFBc0NDLGFBQXRDLENBQXRCO0VBQ0FULEdBQUcsQ0FBQ2dCLE9BQUosR0FBY0MsSUFBSSxDQUFDQyxnQkFBTCxDQUFzQkwsT0FBdEIsQ0FBZDtFQUNBWixHQUFHLENBQUNrQixJQUFKLEdBQVc7SUFDVFgsV0FBVyxFQUFFSyxPQURKO0lBRVRPLFlBQVksRUFBRXBCLEdBQUcsQ0FBQ2dCO0VBRlQsQ0FBWDtFQUlBZCxJQUFJO0FBQ0wsQ0FwQk07Ozs7QUFzQkEsTUFBTW1CLGNBQWMsR0FBRyxPQUFPckIsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUN0RCxNQUFNb0IsVUFBVSxHQUFHLE1BQU1MLElBQUksQ0FBQ00sYUFBTCxDQUFtQnZCLEdBQW5CLENBQXpCO0VBQ0EsTUFBTTtJQUFFRztFQUFGLElBQWVtQixVQUFyQjtFQUNBLE1BQU1ULE9BQU8sR0FBRyxNQUFNQyxXQUFXLENBQUNPLGNBQVosQ0FBMkJsQixRQUEzQixDQUF0QjtFQUNBRixHQUFHLENBQUNrQixJQUFKLEdBQVdOLE9BQVg7RUFDQVgsSUFBSTtBQUNMLENBTk07Ozs7QUFRQSxNQUFNc0IsaUJBQWlCLEdBQUcsT0FBT3hCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDekQsTUFBTTtJQUNKRyxTQURJO0lBQ09DLFFBRFA7SUFDaUJtQixpQkFEakI7SUFDb0NDO0VBRHBDLElBRUYxQixHQUFHLENBQUNPLElBRlI7RUFHQSxNQUFNZSxVQUFVLEdBQUcsTUFBTUwsSUFBSSxDQUFDTSxhQUFMLENBQW1CdkIsR0FBbkIsQ0FBekI7RUFDQSxNQUFNO0lBQUVHO0VBQUYsSUFBZW1CLFVBQXJCO0VBQ0EsTUFBTWQsV0FBVyxHQUFHO0lBQ2xCSCxTQURrQjtJQUVsQkMsUUFGa0I7SUFHbEJtQixpQkFIa0I7SUFJbEJDLEtBSmtCO0lBS2xCdkI7RUFMa0IsQ0FBcEI7RUFPQSxNQUFNVyxXQUFXLENBQUNVLGlCQUFaLENBQThCaEIsV0FBOUIsQ0FBTjtFQUNBUCxHQUFHLENBQUNrQixJQUFKLEdBQVcsRUFDVCxHQUFHWDtFQURNLENBQVg7RUFHQU4sSUFBSTtBQUNMLENBbEJNIn0=","map":{"version":3,"names":["register","req","res","next","mobileNo","password","firstName","lastName","body","userDetails","clientDetails","apiKey","header","HEADER_API_KEY","userObj","UserService","registerUser","session","Auth","createSessionObj","data","sessiontoken","getUserDetails","sessionObj","getSessionObj","updateUserDetails","alternateMobileNo","email"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/","sources":["UserController.js"],"sourcesContent":["import * as Auth from \"../middlewares/Auth\";\nimport * as UserService from \"../services/UserService\";\nimport {\n  HEADER_API_KEY,\n} from \"../constants/Keys\";\n\nexport const register = async (req, res, next) => {\n  const {\n    mobileNo, password, firstName, lastName,\n  } = req.body;\n  const userDetails = {\n    mobileNo,\n    password,\n    firstName,\n    lastName,\n  };\n  const clientDetails = {\n    apiKey: req.header(HEADER_API_KEY),\n  };\n  const userObj = await UserService.registerUser(userDetails, clientDetails);\n  req.session = Auth.createSessionObj(userObj);\n  res.data = {\n    userDetails: userObj,\n    sessiontoken: req.session,\n  };\n  next();\n};\n\nexport const getUserDetails = async (req, res, next) => {\n  const sessionObj = await Auth.getSessionObj(req);\n  const { mobileNo } = sessionObj;\n  const userObj = await UserService.getUserDetails(mobileNo);\n  res.data = userObj;\n  next();\n};\n\nexport const updateUserDetails = async (req, res, next) => {\n  const {\n    firstName, lastName, alternateMobileNo, email,\n  } = req.body;\n  const sessionObj = await Auth.getSessionObj(req);\n  const { mobileNo } = sessionObj;\n  const userDetails = {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo,\n  };\n  await UserService.updateUserDetails(userDetails);\n  res.data = {\n    ...userDetails,\n  };\n  next();\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAIO,MAAMA,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,MAAM;IACJC,QADI;IACMC,QADN;IACgBC,SADhB;IAC2BC;EAD3B,IAEFN,GAAG,CAACO,IAFR;EAGA,MAAMC,WAAW,GAAG;IAClBL,QADkB;IAElBC,QAFkB;IAGlBC,SAHkB;IAIlBC;EAJkB,CAApB;EAMA,MAAMG,aAAa,GAAG;IACpBC,MAAM,EAAEV,GAAG,CAACW,MAAJ,CAAWC,oBAAX;EADY,CAAtB;EAGA,MAAMC,OAAO,GAAG,MAAMC,WAAW,CAACC,YAAZ,CAAyBP,WAAzB,EAAsCC,aAAtC,CAAtB;EACAT,GAAG,CAACgB,OAAJ,GAAcC,IAAI,CAACC,gBAAL,CAAsBL,OAAtB,CAAd;EACAZ,GAAG,CAACkB,IAAJ,GAAW;IACTX,WAAW,EAAEK,OADJ;IAETO,YAAY,EAAEpB,GAAG,CAACgB;EAFT,CAAX;EAIAd,IAAI;AACL,CApBM;;;;AAsBA,MAAMmB,cAAc,GAAG,OAAOrB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACtD,MAAMoB,UAAU,GAAG,MAAML,IAAI,CAACM,aAAL,CAAmBvB,GAAnB,CAAzB;EACA,MAAM;IAAEG;EAAF,IAAemB,UAArB;EACA,MAAMT,OAAO,GAAG,MAAMC,WAAW,CAACO,cAAZ,CAA2BlB,QAA3B,CAAtB;EACAF,GAAG,CAACkB,IAAJ,GAAWN,OAAX;EACAX,IAAI;AACL,CANM;;;;AAQA,MAAMsB,iBAAiB,GAAG,OAAOxB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACzD,MAAM;IACJG,SADI;IACOC,QADP;IACiBmB,iBADjB;IACoCC;EADpC,IAEF1B,GAAG,CAACO,IAFR;EAGA,MAAMe,UAAU,GAAG,MAAML,IAAI,CAACM,aAAL,CAAmBvB,GAAnB,CAAzB;EACA,MAAM;IAAEG;EAAF,IAAemB,UAArB;EACA,MAAMd,WAAW,GAAG;IAClBH,SADkB;IAElBC,QAFkB;IAGlBmB,iBAHkB;IAIlBC,KAJkB;IAKlBvB;EALkB,CAApB;EAOA,MAAMW,WAAW,CAACU,iBAAZ,CAA8BhB,WAA9B,CAAN;EACAP,GAAG,CAACkB,IAAJ,GAAW,EACT,GAAGX;EADM,CAAX;EAGAN,IAAI;AACL,CAlBM"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMetrics = exports.getSessionObj = exports.createSessionObj = exports.checks = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nvar _RedisClient = require(\"../connections/RedisClient\");\n\nvar _Credentials = require(\"../constants/Credentials\");\n\nvar _Keys = require(\"../constants/Keys\");\n\nvar _util = require(\"util\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst httpContext = require(\"express-http-context\"); // Static data can be read using require or fs\n\n\nlet newSessionRoutes = _fs.default.readFileSync(_path.default.resolve(__dirname, \"NewSessionRoutes.json\"), \"utf8\");\n\nnewSessionRoutes = JSON.parse(newSessionRoutes);\n\nlet authenticatedRoutes = _fs.default.readFileSync(_path.default.resolve(__dirname, \"./AuthenticatedRoutes.json\"), \"utf8\");\n\nauthenticatedRoutes = JSON.parse(authenticatedRoutes);\n\nconst uuid = require(\"uuid\");\n\nconst healthCheckRoutes = require(\"./HealthCheckRoutes.json\");\n\nconst noAPIKeyRoutes = require(\"./NoClientIdRoutes.json\");\n\nconst noSessionRoutes = require(\"./NoSessionRoutes.json\");\n\nconst routeMaps = [newSessionRoutes, authenticatedRoutes, noSessionRoutes, noAPIKeyRoutes, healthCheckRoutes];\n\nconst getRouteCategory = routeMapsIndex => {\n  let routeCategory = \"others\";\n\n  if (routeMapsIndex === 0) {\n    routeCategory = \"newSessionRoutes\";\n  } else if (routeMapsIndex === 1) {\n    routeCategory = \"authenticatedRoutes\";\n  } else if (routeMapsIndex === 2) {\n    routeCategory = \"noSessionRoutes\";\n  } else if (routeMapsIndex === 3) {\n    routeCategory = \"noAPIKeyRoutes\";\n  } else if (routeMapsIndex === 4) {\n    routeCategory = \"healthCheckRoutes\";\n  }\n\n  return routeCategory;\n};\n\nconst checkApiKeyValidity = async req => {\n  const apiKey = req.header(_Keys.HEADER_API_KEY);\n  const selectCondition = {\n    metro_auth_key: apiKey\n  };\n  const projectCondition = {\n    metro_auth_key: 1,\n    _id: 0\n  };\n  const isValidAPIKey = await AbstractModels.mongoFindOne(_index.Clients, selectCondition, projectCondition);\n  return isValidAPIKey;\n};\n\nconst getRedisSession = async sessionId => {\n  try {\n    // @hotfix: For backward compatibility preprending \"sess:\" to sessionId\n    const redisSession = await _RedisClient.RedisClient.get(`sess:${sessionId}`);\n    return redisSession;\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n    throw ErrorUtils.redisConnectionError();\n  }\n};\n\nconst decrypt = text => {\n  let resultChiper = \"\";\n\n  const decipher = _crypto.default.createDecipher(_Credentials.ALGORITHM, _Credentials.PASSWORD);\n\n  console.log(\"+++++++++++++ length is \" + text, text.length);\n  resultChiper = decipher.update(text, \"hex\", \"utf8\");\n  resultChiper += decipher.final(\"utf8\");\n  return resultChiper;\n};\n\nconst getSessionObj = async req => {\n  const sessiontoken = req.header(_Keys.HEADER_SESSION_TOKEN);\n  if (!sessiontoken) throw ErrorUtils.InvalidSessionToken(); // const session = jwt.verify(sessiontoken, SECREAT);\n\n  const sessionId = decrypt(sessiontoken);\n  let session = await getRedisSession(sessionId);\n  log(\"info\", {\n    session,\n    sessionId,\n    sessiontoken\n  });\n\n  if (!session) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n\n  try {\n    session = JSON.parse(session);\n  } catch (error) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n\n  console.log(\"the returned value formthe session is +++++++++++++++\" + session);\n  return session;\n};\n\nexports.getSessionObj = getSessionObj;\n\nconst getRouteObj = (originalUrl, httpMethod) => {\n  let routeObj = {};\n  const normalizedURL = originalUrl.toLowerCase().split(\"?\")[0];\n  const index = normalizedURL.lastIndexOf(\"/\");\n  const baseURL = normalizedURL.substring(0, index);\n  let isRouteObjFound = false;\n\n  for (let i = 0; i < routeMaps.length; i++) {\n    const routeMap = routeMaps[i];\n\n    if (routeMap && routeMap[httpMethod]) {\n      if (routeMap[httpMethod][normalizedURL]) {\n        routeObj = routeMap[httpMethod][normalizedURL];\n        isRouteObjFound = true;\n      } else if (routeMap[httpMethod][`${baseURL}/:param`] && index !== normalizedURL.length - 1) {\n        routeObj = routeMap[httpMethod][`${baseURL}/:param`];\n        isRouteObjFound = true;\n      }\n\n      if (isRouteObjFound) {\n        routeObj.httpMethod = httpMethod;\n        routeObj.baseURL = baseURL;\n        routeObj.normalizedURL = normalizedURL;\n        routeObj.routeCategory = getRouteCategory(i);\n        break;\n      }\n    }\n  } // If route is not found from RoutesMap it shoud be treated as others\n\n\n  if (!isRouteObjFound) {\n    routeObj.httpMethod = httpMethod;\n    routeObj.baseURL = baseURL;\n    routeObj.normalizedURL = normalizedURL;\n    routeObj.routeCategory = \"others\";\n  }\n\n  return routeObj;\n}; // @hotfix: For backward compatibility\n// Business & consumer user roles are stored in different keys in session\n// Possible values for users_business_portal_role are \"admin\" & \"user\"\n\n\nasync function getUserRoles(req) {\n  const session = await getSessionObj(req);\n  console.log('*****************************' + JSON.stringify(session));\n  const {\n    users_business_portal_role: userRoles\n  } = session;\n  console.log(\"+++++++++++ the role of user is \" + JSON.stringify(userRoles));\n  return [].concat(userRoles).map(value => value.toUpperCase());\n}\n\nconst checkAutorization = async req => {\n  let isAuthorizedToAccessRoute = false;\n  console.log(\"in the check authorization rule--------------------------\");\n  const userRoles = await getUserRoles(req);\n  const routeAutorizedRoles = req.routeObj?.roles || [];\n\n  if (routeAutorizedRoles?.filter(value => userRoles.includes(value.toUpperCase()))?.length > 0) {\n    isAuthorizedToAccessRoute = true;\n  }\n\n  return isAuthorizedToAccessRoute;\n};\n\nconst checkBlockListedUser = async () => {\n  // @hotfix: Rewrite this logic according to service need\n  const isBlockedUser = false;\n  return isBlockedUser; // let isBlockedUser = false;\n  // const session = await getSessionObj(req);\n  // const { mobileNo } = session;\n  // const selectCondition = {\n  //   mobileNo,\n  //   isBlockedUser: true,\n  // };\n  // const projectCondition = {\n  //   mobileNo: 1,\n  //   _id: 0,\n  // };\n  // const userObj = await AbstractModels.mongoFindOne(\n  //   Users,\n  //   selectCondition,\n  //   projectCondition,\n  // );\n  // if (userObj) {\n  //   isBlockedUser = true;\n  // }\n  // return isBlockedUser;\n};\n\nconst createSessionObj = data => {\n  const session = _jsonwebtoken.default.sign(data, _Credentials.SECREAT, {\n    expiresIn: 60 * 60 * 24 * 30\n  }); // default is in sec\n\n\n  return session;\n};\n/*\n1.newSessionRoutes\n2.authenticatedRoutes(api key check,sessoin token check,Authorize check,blocklist users check)\n3.noSessionRoutes(api key check)\n4.noAPIKeyRoutes\n5.healthCheckRoutes(Dont' store Audits)\n6.others\n\nFor each req store req, res audits\n*/\n\n\nexports.createSessionObj = createSessionObj;\n\nconst checks = async (req, res, next) => {\n  const {\n    routeCategory\n  } = req.routeObj;\n  console.log(\"++++++++++++++++++++++++THIS IS ROUTE CATEGORY          \" + routeCategory);\n\n  if (routeCategory === \"others\") {\n    const error = ErrorUtils.InvalidRequest();\n    next(error);\n  } else if (routeCategory === \"healthCheckRoutes\") {\n    next();\n  } else if (routeCategory === \"noAPIKeyRoutes\") {\n    next();\n  } else if (routeCategory === \"noSessionRoutes\" || routeCategory === \"newSessionRoutes\") {\n    const isValidAPIKey = await checkApiKeyValidity(req);\n\n    if (!isValidAPIKey) {\n      const error = ErrorUtils.InvalidAPIKey();\n      next(error);\n    } else {\n      next();\n    }\n  } else if (routeCategory === \"authenticatedRoutes\") {\n    // 1.api key check 2.session token check 3.autorization check 4.blocklisted user check\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    const session = await getSessionObj(req);\n\n    if (!session) {\n      const error = ErrorUtils.InvalidSessionToken();\n      next(error);\n    } else {\n      const isAuthorizedToAccessRoute = await checkAutorization(req);\n      console.log('***************** is authorized user ' + isAuthorizedToAccessRoute);\n      const isBlockListeduser = await checkBlockListedUser();\n\n      if (!isValidAPIKey) {\n        const error = ErrorUtils.InvalidAPIKey();\n        next(error);\n      } else if (isBlockListeduser) {\n        const error = ErrorUtils.BlockListedUser();\n        next(error);\n      } else if (!isAuthorizedToAccessRoute) {\n        const error = ErrorUtils.InvalidAuthorization();\n        next(error);\n      } else {\n        req.sesssion = session;\n        next();\n      }\n    }\n  }\n};\n\nexports.checks = checks;\n\nconst setMetrics = (req, res) => {\n  const {\n    originalUrl\n  } = req;\n  const httpMethod = req.method;\n  const routeObj = getRouteObj(originalUrl, httpMethod);\n  console.log(\"CHecking++++++++++++ \" + JSON.stringify(routeObj));\n  routeObj.startTime = new Date().getTime();\n  let correlationId = req.get(Constants.LOGGER_CORRELATIONID);\n\n  if (!correlationId) {\n    // generate and set uuid v4 version\n    correlationId = uuid.v4();\n    httpContext.set(Constants.LOGGER_CORRELATIONID, correlationId); // inject correlationId in headers\n\n    req.headers.correlationId = httpContext.get(Constants.LOGGER_CORRELATIONID);\n    res.set(\"CorrelationId\", httpContext.get(Constants.LOGGER_CORRELATIONID));\n  }\n\n  return routeObj;\n};\n\nexports.setMetrics = setMetrics;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJuZXdTZXNzaW9uUm91dGVzIiwiZnMiLCJyZWFkRmlsZVN5bmMiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsIkpTT04iLCJwYXJzZSIsImF1dGhlbnRpY2F0ZWRSb3V0ZXMiLCJ1dWlkIiwiaGVhbHRoQ2hlY2tSb3V0ZXMiLCJub0FQSUtleVJvdXRlcyIsIm5vU2Vzc2lvblJvdXRlcyIsInJvdXRlTWFwcyIsImdldFJvdXRlQ2F0ZWdvcnkiLCJyb3V0ZU1hcHNJbmRleCIsInJvdXRlQ2F0ZWdvcnkiLCJjaGVja0FwaUtleVZhbGlkaXR5IiwicmVxIiwiYXBpS2V5IiwiaGVhZGVyIiwiSEVBREVSX0FQSV9LRVkiLCJzZWxlY3RDb25kaXRpb24iLCJtZXRyb19hdXRoX2tleSIsInByb2plY3RDb25kaXRpb24iLCJfaWQiLCJpc1ZhbGlkQVBJS2V5IiwiQWJzdHJhY3RNb2RlbHMiLCJtb25nb0ZpbmRPbmUiLCJDbGllbnRzIiwiZ2V0UmVkaXNTZXNzaW9uIiwic2Vzc2lvbklkIiwicmVkaXNTZXNzaW9uIiwiUmVkaXNDbGllbnQiLCJnZXQiLCJlcnJvciIsImxvZyIsIkVycm9yVXRpbHMiLCJyZWRpc0Nvbm5lY3Rpb25FcnJvciIsImRlY3J5cHQiLCJ0ZXh0IiwicmVzdWx0Q2hpcGVyIiwiZGVjaXBoZXIiLCJjcnlwdG8iLCJjcmVhdGVEZWNpcGhlciIsIkFMR09SSVRITSIsIlBBU1NXT1JEIiwiY29uc29sZSIsImxlbmd0aCIsInVwZGF0ZSIsImZpbmFsIiwiZ2V0U2Vzc2lvbk9iaiIsInNlc3Npb250b2tlbiIsIkhFQURFUl9TRVNTSU9OX1RPS0VOIiwiSW52YWxpZFNlc3Npb25Ub2tlbiIsInNlc3Npb24iLCJnZXRSb3V0ZU9iaiIsIm9yaWdpbmFsVXJsIiwiaHR0cE1ldGhvZCIsInJvdXRlT2JqIiwibm9ybWFsaXplZFVSTCIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJpbmRleCIsImxhc3RJbmRleE9mIiwiYmFzZVVSTCIsInN1YnN0cmluZyIsImlzUm91dGVPYmpGb3VuZCIsImkiLCJyb3V0ZU1hcCIsImdldFVzZXJSb2xlcyIsInN0cmluZ2lmeSIsInVzZXJzX2J1c2luZXNzX3BvcnRhbF9yb2xlIiwidXNlclJvbGVzIiwiY29uY2F0IiwibWFwIiwidmFsdWUiLCJ0b1VwcGVyQ2FzZSIsImNoZWNrQXV0b3JpemF0aW9uIiwiaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSIsInJvdXRlQXV0b3JpemVkUm9sZXMiLCJyb2xlcyIsImZpbHRlciIsImluY2x1ZGVzIiwiY2hlY2tCbG9ja0xpc3RlZFVzZXIiLCJpc0Jsb2NrZWRVc2VyIiwiY3JlYXRlU2Vzc2lvbk9iaiIsImRhdGEiLCJqd3QiLCJzaWduIiwiU0VDUkVBVCIsImV4cGlyZXNJbiIsImNoZWNrcyIsInJlcyIsIm5leHQiLCJJbnZhbGlkUmVxdWVzdCIsIkludmFsaWRBUElLZXkiLCJpc0Jsb2NrTGlzdGVkdXNlciIsIkJsb2NrTGlzdGVkVXNlciIsIkludmFsaWRBdXRob3JpemF0aW9uIiwic2Vzc3Npb24iLCJzZXRNZXRyaWNzIiwibWV0aG9kIiwic3RhcnRUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJjb3JyZWxhdGlvbklkIiwiQ29uc3RhbnRzIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJ2NCIsInNldCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9taWRkbGV3YXJlcy8iLCJzb3VyY2VzIjpbIkF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL2NvbnN0YW50cy9Db25zdGFudHNcIjtcblxuaW1wb3J0ICogYXMgRXJyb3JVdGlscyBmcm9tIFwiLi4vZXJyb3JzL0Vycm9yVXRpbHNcIjtcbmltcG9ydCAqIGFzIEFic3RyYWN0TW9kZWxzIGZyb20gXCIuLi9tb2RlbHMvQWJzdHJhY3RNb2RlbHNcIjtcbmltcG9ydCB7IENsaWVudHMgfSBmcm9tIFwiLi4vbW9kZWxzL21haW5EYlNjaGVtYS9pbmRleFwiO1xuXG5pbXBvcnQgeyBSZWRpc0NsaWVudCB9IGZyb20gXCIuLi9jb25uZWN0aW9ucy9SZWRpc0NsaWVudFwiO1xuXG5pbXBvcnQge1xuICBTRUNSRUFULCBBTEdPUklUSE0sIFBBU1NXT1JELFxufSBmcm9tIFwiLi4vY29uc3RhbnRzL0NyZWRlbnRpYWxzXCI7XG5cbmltcG9ydCB7XG4gIEhFQURFUl9BUElfS0VZLCBIRUFERVJfU0VTU0lPTl9UT0tFTixcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9LZXlzXCI7XG5pbXBvcnQgeyBkZXByZWNhdGUgfSBmcm9tIFwidXRpbFwiO1xuXG5jb25zdCBodHRwQ29udGV4dCA9IHJlcXVpcmUoXCJleHByZXNzLWh0dHAtY29udGV4dFwiKTtcblxuLy8gU3RhdGljIGRhdGEgY2FuIGJlIHJlYWQgdXNpbmcgcmVxdWlyZSBvciBmc1xubGV0IG5ld1Nlc3Npb25Sb3V0ZXMgPSBmcy5yZWFkRmlsZVN5bmMoXG4gIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiTmV3U2Vzc2lvblJvdXRlcy5qc29uXCIpLFxuICBcInV0ZjhcIixcbik7XG5uZXdTZXNzaW9uUm91dGVzID0gSlNPTi5wYXJzZShuZXdTZXNzaW9uUm91dGVzKTtcblxubGV0IGF1dGhlbnRpY2F0ZWRSb3V0ZXMgPSBmcy5yZWFkRmlsZVN5bmMoXG4gIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi9BdXRoZW50aWNhdGVkUm91dGVzLmpzb25cIiksXG4gIFwidXRmOFwiLFxuKTtcbmF1dGhlbnRpY2F0ZWRSb3V0ZXMgPSBKU09OLnBhcnNlKGF1dGhlbnRpY2F0ZWRSb3V0ZXMpO1xuXG5jb25zdCB1dWlkID0gcmVxdWlyZShcInV1aWRcIik7XG5jb25zdCBoZWFsdGhDaGVja1JvdXRlcyA9IHJlcXVpcmUoXCIuL0hlYWx0aENoZWNrUm91dGVzLmpzb25cIik7XG5jb25zdCBub0FQSUtleVJvdXRlcyA9IHJlcXVpcmUoXCIuL05vQ2xpZW50SWRSb3V0ZXMuanNvblwiKTtcbmNvbnN0IG5vU2Vzc2lvblJvdXRlcyA9IHJlcXVpcmUoXCIuL05vU2Vzc2lvblJvdXRlcy5qc29uXCIpO1xuXG5jb25zdCByb3V0ZU1hcHMgPSBbXG4gIG5ld1Nlc3Npb25Sb3V0ZXMsXG4gIGF1dGhlbnRpY2F0ZWRSb3V0ZXMsXG4gIG5vU2Vzc2lvblJvdXRlcyxcbiAgbm9BUElLZXlSb3V0ZXMsXG4gIGhlYWx0aENoZWNrUm91dGVzLFxuXTtcblxuY29uc3QgZ2V0Um91dGVDYXRlZ29yeSA9IChyb3V0ZU1hcHNJbmRleCkgPT4ge1xuICBsZXQgcm91dGVDYXRlZ29yeSA9IFwib3RoZXJzXCI7XG4gIGlmIChyb3V0ZU1hcHNJbmRleCA9PT0gMCkge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSBcIm5ld1Nlc3Npb25Sb3V0ZXNcIjtcbiAgfSBlbHNlIGlmIChyb3V0ZU1hcHNJbmRleCA9PT0gMSkge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSBcImF1dGhlbnRpY2F0ZWRSb3V0ZXNcIjtcbiAgfSBlbHNlIGlmIChyb3V0ZU1hcHNJbmRleCA9PT0gMikge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSBcIm5vU2Vzc2lvblJvdXRlc1wiO1xuICB9IGVsc2UgaWYgKHJvdXRlTWFwc0luZGV4ID09PSAzKSB7XG4gICAgcm91dGVDYXRlZ29yeSA9IFwibm9BUElLZXlSb3V0ZXNcIjtcbiAgfSBlbHNlIGlmIChyb3V0ZU1hcHNJbmRleCA9PT0gNCkge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSBcImhlYWx0aENoZWNrUm91dGVzXCI7XG4gIH1cbiAgcmV0dXJuIHJvdXRlQ2F0ZWdvcnk7XG59O1xuXG5jb25zdCBjaGVja0FwaUtleVZhbGlkaXR5ID0gYXN5bmMgKHJlcSkgPT4ge1xuICBjb25zdCBhcGlLZXkgPSByZXEuaGVhZGVyKEhFQURFUl9BUElfS0VZKTtcbiAgY29uc3Qgc2VsZWN0Q29uZGl0aW9uID0ge1xuICAgIG1ldHJvX2F1dGhfa2V5OiBhcGlLZXksXG4gIH07XG4gIGNvbnN0IHByb2plY3RDb25kaXRpb24gPSB7XG4gICAgbWV0cm9fYXV0aF9rZXk6IDEsXG4gICAgX2lkOiAwLFxuICB9O1xuICBjb25zdCBpc1ZhbGlkQVBJS2V5ID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKFxuICAgIENsaWVudHMsXG4gICAgc2VsZWN0Q29uZGl0aW9uLFxuICAgIHByb2plY3RDb25kaXRpb24sXG4gICk7XG4gIHJldHVybiBpc1ZhbGlkQVBJS2V5O1xufTtcblxuY29uc3QgZ2V0UmVkaXNTZXNzaW9uID0gYXN5bmMgKHNlc3Npb25JZCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEBob3RmaXg6IEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHByZXByZW5kaW5nIFwic2VzczpcIiB0byBzZXNzaW9uSWRcbiAgICBjb25zdCByZWRpc1Nlc3Npb24gPSBhd2FpdCBSZWRpc0NsaWVudC5nZXQoYHNlc3M6JHtzZXNzaW9uSWR9YCk7XG4gICAgcmV0dXJuIHJlZGlzU2Vzc2lvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGVycm9yIH0pO1xuICAgIHRocm93IEVycm9yVXRpbHMucmVkaXNDb25uZWN0aW9uRXJyb3IoKTtcbiAgfVxufTtcblxuY29uc3QgZGVjcnlwdCA9ICh0ZXh0KSA9PiB7XG4gIGxldCByZXN1bHRDaGlwZXIgPSBcIlwiO1xuICBjb25zdCBkZWNpcGhlciA9IGNyeXB0by5jcmVhdGVEZWNpcGhlcihBTEdPUklUSE0sIFBBU1NXT1JEKTtcbiAgY29uc29sZS5sb2coXCIrKysrKysrKysrKysrIGxlbmd0aCBpcyBcIisgdGV4dCx0ZXh0Lmxlbmd0aCk7XG4gIHJlc3VsdENoaXBlciA9IGRlY2lwaGVyLnVwZGF0ZSh0ZXh0LCBcImhleFwiLCBcInV0ZjhcIik7XG4gIHJlc3VsdENoaXBlciArPSBkZWNpcGhlci5maW5hbChcInV0ZjhcIik7XG4gIHJldHVybiByZXN1bHRDaGlwZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2Vzc2lvbk9iaiA9IGFzeW5jIChyZXEpID0+IHtcbiAgY29uc3Qgc2Vzc2lvbnRva2VuID0gcmVxLmhlYWRlcihIRUFERVJfU0VTU0lPTl9UT0tFTik7XG4gIGlmICghc2Vzc2lvbnRva2VuKSB0aHJvdyBFcnJvclV0aWxzLkludmFsaWRTZXNzaW9uVG9rZW4oKTtcbiAgLy8gY29uc3Qgc2Vzc2lvbiA9IGp3dC52ZXJpZnkoc2Vzc2lvbnRva2VuLCBTRUNSRUFUKTtcblxuICBjb25zdCBzZXNzaW9uSWQgPSBkZWNyeXB0KHNlc3Npb250b2tlbik7XG4gIGxldCBzZXNzaW9uID0gYXdhaXQgZ2V0UmVkaXNTZXNzaW9uKHNlc3Npb25JZCk7XG4gIGxvZyhcImluZm9cIiwgeyBzZXNzaW9uLCBzZXNzaW9uSWQsIHNlc3Npb250b2tlbiB9KTtcblxuICBpZiAoIXNlc3Npb24pIHtcbiAgICB0aHJvdyBFcnJvclV0aWxzLkludmFsaWRTZXNzaW9uVG9rZW4oKTtcbiAgfVxuICB0cnkge1xuICAgIHNlc3Npb24gPSBKU09OLnBhcnNlKHNlc3Npb24pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IEVycm9yVXRpbHMuSW52YWxpZFNlc3Npb25Ub2tlbigpO1xuICB9XG4gIGNvbnNvbGUubG9nKFwidGhlIHJldHVybmVkIHZhbHVlIGZvcm10aGUgc2Vzc2lvbiBpcyArKysrKysrKysrKysrKytcIitzZXNzaW9uKTtcbiAgcmV0dXJuIHNlc3Npb247XG59O1xuY29uc3QgZ2V0Um91dGVPYmogPSAob3JpZ2luYWxVcmwsIGh0dHBNZXRob2QpID0+IHtcbiAgbGV0IHJvdXRlT2JqID0ge307XG4gIGNvbnN0IG5vcm1hbGl6ZWRVUkwgPSBvcmlnaW5hbFVybC50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiP1wiKVswXTtcbiAgY29uc3QgaW5kZXggPSBub3JtYWxpemVkVVJMLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgY29uc3QgYmFzZVVSTCA9IG5vcm1hbGl6ZWRVUkwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgbGV0IGlzUm91dGVPYmpGb3VuZCA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlTWFwcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHJvdXRlTWFwID0gcm91dGVNYXBzW2ldO1xuICAgIGlmIChyb3V0ZU1hcCAmJiByb3V0ZU1hcFtodHRwTWV0aG9kXSkge1xuICAgICAgaWYgKHJvdXRlTWFwW2h0dHBNZXRob2RdW25vcm1hbGl6ZWRVUkxdKSB7XG4gICAgICAgIHJvdXRlT2JqID0gcm91dGVNYXBbaHR0cE1ldGhvZF1bbm9ybWFsaXplZFVSTF07XG4gICAgICAgIGlzUm91dGVPYmpGb3VuZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByb3V0ZU1hcFtodHRwTWV0aG9kXVtgJHtiYXNlVVJMfS86cGFyYW1gXVxuICAgICAgICAmJiBpbmRleCAhPT0gbm9ybWFsaXplZFVSTC5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgcm91dGVPYmogPSByb3V0ZU1hcFtodHRwTWV0aG9kXVtgJHtiYXNlVVJMfS86cGFyYW1gXTtcbiAgICAgICAgaXNSb3V0ZU9iakZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JvdXRlT2JqRm91bmQpIHtcbiAgICAgICAgcm91dGVPYmouaHR0cE1ldGhvZCA9IGh0dHBNZXRob2Q7XG4gICAgICAgIHJvdXRlT2JqLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgICAgICByb3V0ZU9iai5ub3JtYWxpemVkVVJMID0gbm9ybWFsaXplZFVSTDtcbiAgICAgICAgcm91dGVPYmoucm91dGVDYXRlZ29yeSA9IGdldFJvdXRlQ2F0ZWdvcnkoaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBJZiByb3V0ZSBpcyBub3QgZm91bmQgZnJvbSBSb3V0ZXNNYXAgaXQgc2hvdWQgYmUgdHJlYXRlZCBhcyBvdGhlcnNcbiAgaWYgKCFpc1JvdXRlT2JqRm91bmQpIHtcbiAgICByb3V0ZU9iai5odHRwTWV0aG9kID0gaHR0cE1ldGhvZDtcbiAgICByb3V0ZU9iai5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICByb3V0ZU9iai5ub3JtYWxpemVkVVJMID0gbm9ybWFsaXplZFVSTDtcbiAgICByb3V0ZU9iai5yb3V0ZUNhdGVnb3J5ID0gXCJvdGhlcnNcIjtcbiAgfVxuICByZXR1cm4gcm91dGVPYmo7XG59O1xuXG4vLyBAaG90Zml4OiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuLy8gQnVzaW5lc3MgJiBjb25zdW1lciB1c2VyIHJvbGVzIGFyZSBzdG9yZWQgaW4gZGlmZmVyZW50IGtleXMgaW4gc2Vzc2lvblxuLy8gUG9zc2libGUgdmFsdWVzIGZvciB1c2Vyc19idXNpbmVzc19wb3J0YWxfcm9sZSBhcmUgXCJhZG1pblwiICYgXCJ1c2VyXCJcbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJSb2xlcyhyZXEpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25PYmoocmVxKTtcbiAgY29uc29sZS5sb2coJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqJytKU09OLnN0cmluZ2lmeShzZXNzaW9uKSk7XG4gIGNvbnN0IHsgdXNlcnNfYnVzaW5lc3NfcG9ydGFsX3JvbGU6IHVzZXJSb2xlcyB9ID0gc2Vzc2lvbjtcbiAgY29uc29sZS5sb2coXCIrKysrKysrKysrKyB0aGUgcm9sZSBvZiB1c2VyIGlzIFwiK0pTT04uc3RyaW5naWZ5KHVzZXJSb2xlcykpXG4gIHJldHVybiBbXS5jb25jYXQodXNlclJvbGVzKS5tYXAoKHZhbHVlKSA9PiB2YWx1ZS50b1VwcGVyQ2FzZSgpKTtcbn1cblxuY29uc3QgY2hlY2tBdXRvcml6YXRpb24gPSBhc3luYyAocmVxKSA9PiB7XG4gIGxldCBpc0F1dGhvcml6ZWRUb0FjY2Vzc1JvdXRlID0gZmFsc2U7XG4gIGNvbnNvbGUubG9nKFwiaW4gdGhlIGNoZWNrIGF1dGhvcml6YXRpb24gcnVsZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICBjb25zdCB1c2VyUm9sZXMgPSBhd2FpdCBnZXRVc2VyUm9sZXMocmVxKTtcbiAgY29uc3Qgcm91dGVBdXRvcml6ZWRSb2xlcyA9IHJlcS5yb3V0ZU9iaj8ucm9sZXMgfHwgW107XG4gIGlmIChyb3V0ZUF1dG9yaXplZFJvbGVzPy5maWx0ZXIoKHZhbHVlKSA9PiB1c2VyUm9sZXMuaW5jbHVkZXModmFsdWUudG9VcHBlckNhc2UoKSkpPy5sZW5ndGggPiAwKSB7XG4gICAgaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGlzQXV0aG9yaXplZFRvQWNjZXNzUm91dGU7XG59O1xuXG5jb25zdCBjaGVja0Jsb2NrTGlzdGVkVXNlciA9IGFzeW5jICgpID0+IHtcbiAgLy8gQGhvdGZpeDogUmV3cml0ZSB0aGlzIGxvZ2ljIGFjY29yZGluZyB0byBzZXJ2aWNlIG5lZWRcbiAgY29uc3QgaXNCbG9ja2VkVXNlciA9IGZhbHNlO1xuICByZXR1cm4gaXNCbG9ja2VkVXNlcjtcbiAgLy8gbGV0IGlzQmxvY2tlZFVzZXIgPSBmYWxzZTtcbiAgLy8gY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25PYmoocmVxKTtcbiAgLy8gY29uc3QgeyBtb2JpbGVObyB9ID0gc2Vzc2lvbjtcbiAgLy8gY29uc3Qgc2VsZWN0Q29uZGl0aW9uID0ge1xuICAvLyAgIG1vYmlsZU5vLFxuICAvLyAgIGlzQmxvY2tlZFVzZXI6IHRydWUsXG4gIC8vIH07XG4gIC8vIGNvbnN0IHByb2plY3RDb25kaXRpb24gPSB7XG4gIC8vICAgbW9iaWxlTm86IDEsXG4gIC8vICAgX2lkOiAwLFxuICAvLyB9O1xuICAvLyBjb25zdCB1c2VyT2JqID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKFxuICAvLyAgIFVzZXJzLFxuICAvLyAgIHNlbGVjdENvbmRpdGlvbixcbiAgLy8gICBwcm9qZWN0Q29uZGl0aW9uLFxuICAvLyApO1xuICAvLyBpZiAodXNlck9iaikge1xuICAvLyAgIGlzQmxvY2tlZFVzZXIgPSB0cnVlO1xuICAvLyB9XG4gIC8vIHJldHVybiBpc0Jsb2NrZWRVc2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlc3Npb25PYmogPSAoZGF0YSkgPT4ge1xuICBjb25zdCBzZXNzaW9uID0gand0LnNpZ24oZGF0YSwgU0VDUkVBVCwgeyBleHBpcmVzSW46IDYwICogNjAgKiAyNCAqIDMwIH0pOyAvLyBkZWZhdWx0IGlzIGluIHNlY1xuICByZXR1cm4gc2Vzc2lvbjtcbn07XG5cbi8qXG4xLm5ld1Nlc3Npb25Sb3V0ZXNcbjIuYXV0aGVudGljYXRlZFJvdXRlcyhhcGkga2V5IGNoZWNrLHNlc3NvaW4gdG9rZW4gY2hlY2ssQXV0aG9yaXplIGNoZWNrLGJsb2NrbGlzdCB1c2VycyBjaGVjaylcbjMubm9TZXNzaW9uUm91dGVzKGFwaSBrZXkgY2hlY2spXG40Lm5vQVBJS2V5Um91dGVzXG41LmhlYWx0aENoZWNrUm91dGVzKERvbnQnIHN0b3JlIEF1ZGl0cylcbjYub3RoZXJzXG5cbkZvciBlYWNoIHJlcSBzdG9yZSByZXEsIHJlcyBhdWRpdHNcbiovXG5cbmV4cG9ydCBjb25zdCBjaGVja3MgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgeyByb3V0ZUNhdGVnb3J5IH0gPSByZXEucm91dGVPYmo7XG4gIGNvbnNvbGUubG9nKFwiKysrKysrKysrKysrKysrKysrKysrKysrVEhJUyBJUyBST1VURSBDQVRFR09SWSAgICAgICAgICBcIityb3V0ZUNhdGVnb3J5KTtcbiAgaWYgKHJvdXRlQ2F0ZWdvcnkgPT09IFwib3RoZXJzXCIpIHtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yVXRpbHMuSW52YWxpZFJlcXVlc3QoKTtcbiAgICBuZXh0KGVycm9yKTtcbiAgfSBlbHNlIGlmIChyb3V0ZUNhdGVnb3J5ID09PSBcImhlYWx0aENoZWNrUm91dGVzXCIpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSBpZiAocm91dGVDYXRlZ29yeSA9PT0gXCJub0FQSUtleVJvdXRlc1wiKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2UgaWYgKFxuICAgIHJvdXRlQ2F0ZWdvcnkgPT09IFwibm9TZXNzaW9uUm91dGVzXCJcbiAgICB8fCByb3V0ZUNhdGVnb3J5ID09PSBcIm5ld1Nlc3Npb25Sb3V0ZXNcIlxuICApIHtcbiAgICBjb25zdCBpc1ZhbGlkQVBJS2V5ID0gYXdhaXQgY2hlY2tBcGlLZXlWYWxpZGl0eShyZXEpO1xuICAgIGlmICghaXNWYWxpZEFQSUtleSkge1xuICAgICAgY29uc3QgZXJyb3IgPSBFcnJvclV0aWxzLkludmFsaWRBUElLZXkoKTtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHJvdXRlQ2F0ZWdvcnkgPT09IFwiYXV0aGVudGljYXRlZFJvdXRlc1wiKSB7XG4gICAgLy8gMS5hcGkga2V5IGNoZWNrIDIuc2Vzc2lvbiB0b2tlbiBjaGVjayAzLmF1dG9yaXphdGlvbiBjaGVjayA0LmJsb2NrbGlzdGVkIHVzZXIgY2hlY2tcbiAgICBjb25zdCBpc1ZhbGlkQVBJS2V5ID0gYXdhaXQgY2hlY2tBcGlLZXlWYWxpZGl0eShyZXEpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uT2JqKHJlcSk7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICBjb25zdCBlcnJvciA9IEVycm9yVXRpbHMuSW52YWxpZFNlc3Npb25Ub2tlbigpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzQXV0aG9yaXplZFRvQWNjZXNzUm91dGUgPSBhd2FpdCBjaGVja0F1dG9yaXphdGlvbihyZXEpO1xuICAgICAgY29uc29sZS5sb2coJyoqKioqKioqKioqKioqKioqIGlzIGF1dGhvcml6ZWQgdXNlciAnK2lzQXV0aG9yaXplZFRvQWNjZXNzUm91dGUpO1xuICAgICAgY29uc3QgaXNCbG9ja0xpc3RlZHVzZXIgPSBhd2FpdCBjaGVja0Jsb2NrTGlzdGVkVXNlcigpO1xuICAgICAgaWYgKCFpc1ZhbGlkQVBJS2V5KSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JVdGlscy5JbnZhbGlkQVBJS2V5KCk7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChpc0Jsb2NrTGlzdGVkdXNlcikge1xuICAgICAgICBjb25zdCBlcnJvciA9IEVycm9yVXRpbHMuQmxvY2tMaXN0ZWRVc2VyKCk7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmICghaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IEVycm9yVXRpbHMuSW52YWxpZEF1dGhvcml6YXRpb24oKTtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXEuc2Vzc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TWV0cmljcyA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IG9yaWdpbmFsVXJsIH0gPSByZXE7XG4gIGNvbnN0IGh0dHBNZXRob2QgPSByZXEubWV0aG9kO1xuICBjb25zdCByb3V0ZU9iaiA9IGdldFJvdXRlT2JqKG9yaWdpbmFsVXJsLCBodHRwTWV0aG9kKTtcbiAgY29uc29sZS5sb2coXCJDSGVja2luZysrKysrKysrKysrKyBcIitKU09OLnN0cmluZ2lmeShyb3V0ZU9iaikpO1xuICByb3V0ZU9iai5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICBsZXQgY29ycmVsYXRpb25JZCA9IHJlcS5nZXQoQ29uc3RhbnRzLkxPR0dFUl9DT1JSRUxBVElPTklEKTtcbiAgaWYgKCFjb3JyZWxhdGlvbklkKSB7XG4gICAgLy8gZ2VuZXJhdGUgYW5kIHNldCB1dWlkIHY0IHZlcnNpb25cbiAgICBjb3JyZWxhdGlvbklkID0gdXVpZC52NCgpO1xuICAgIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX0NPUlJFTEFUSU9OSUQsIGNvcnJlbGF0aW9uSWQpO1xuICAgIC8vIGluamVjdCBjb3JyZWxhdGlvbklkIGluIGhlYWRlcnNcbiAgICByZXEuaGVhZGVycy5jb3JyZWxhdGlvbklkID0gaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfQ09SUkVMQVRJT05JRCk7XG4gICAgcmVzLnNldChcIkNvcnJlbGF0aW9uSWRcIiwgaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfQ09SUkVMQVRJT05JRCkpO1xuICB9XG5cbiAgcmV0dXJuIHJvdXRlT2JqO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUVBOztBQUVBOztBQUlBOztBQUdBOzs7Ozs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLHNCQUFELENBQTNCLEMsQ0FFQTs7O0FBQ0EsSUFBSUMsZ0JBQWdCLEdBQUdDLFlBQUdDLFlBQUgsQ0FDckJDLGNBQUtDLE9BQUwsQ0FBYUMsU0FBYixFQUF3Qix1QkFBeEIsQ0FEcUIsRUFFckIsTUFGcUIsQ0FBdkI7O0FBSUFMLGdCQUFnQixHQUFHTSxJQUFJLENBQUNDLEtBQUwsQ0FBV1AsZ0JBQVgsQ0FBbkI7O0FBRUEsSUFBSVEsbUJBQW1CLEdBQUdQLFlBQUdDLFlBQUgsQ0FDeEJDLGNBQUtDLE9BQUwsQ0FBYUMsU0FBYixFQUF3Qiw0QkFBeEIsQ0FEd0IsRUFFeEIsTUFGd0IsQ0FBMUI7O0FBSUFHLG1CQUFtQixHQUFHRixJQUFJLENBQUNDLEtBQUwsQ0FBV0MsbUJBQVgs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","map":{"version":3,"names":["httpContext","require","newSessionRoutes","fs","readFileSync","path","resolve","__dirname","JSON","parse","authenticatedRoutes","uuid","healthCheckRoutes","noAPIKeyRoutes","noSessionRoutes","routeMaps","getRouteCategory","routeMapsIndex","routeCategory","checkApiKeyValidity","req","apiKey","header","HEADER_API_KEY","selectCondition","metro_auth_key","projectCondition","_id","isValidAPIKey","AbstractModels","mongoFindOne","Clients","getRedisSession","sessionId","redisSession","RedisClient","get","error","log","ErrorUtils","redisConnectionError","decrypt","text","resultChiper","decipher","crypto","createDecipher","ALGORITHM","PASSWORD","console","length","update","final","getSessionObj","sessiontoken","HEADER_SESSION_TOKEN","InvalidSessionToken","session","getRouteObj","originalUrl","httpMethod","routeObj","normalizedURL","toLowerCase","split","index","lastIndexOf","baseURL","substring","isRouteObjFound","i","routeMap","getUserRoles","stringify","users_business_portal_role","userRoles","concat","map","value","toUpperCase","checkAutorization","isAuthorizedToAccessRoute","routeAutorizedRoles","roles","filter","includes","checkBlockListedUser","isBlockedUser","createSessionObj","data","jwt","sign","SECREAT","expiresIn","checks","res","next","InvalidRequest","InvalidAPIKey","isBlockListeduser","BlockListedUser","InvalidAuthorization","sesssion","setMetrics","method","startTime","Date","getTime","correlationId","Constants","LOGGER_CORRELATIONID","v4","set","headers"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/","sources":["Auth.js"],"sourcesContent":["import path from \"path\";\nimport jwt from \"jsonwebtoken\";\nimport fs from \"fs\";\nimport crypto from \"crypto\";\nimport * as Constants from \"../constants/Constants\";\n\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport { Clients } from \"../models/mainDbSchema/index\";\n\nimport { RedisClient } from \"../connections/RedisClient\";\n\nimport {\n  SECREAT, ALGORITHM, PASSWORD,\n} from \"../constants/Credentials\";\n\nimport {\n  HEADER_API_KEY, HEADER_SESSION_TOKEN,\n} from \"../constants/Keys\";\nimport { deprecate } from \"util\";\n\nconst httpContext = require(\"express-http-context\");\n\n// Static data can be read using require or fs\nlet newSessionRoutes = fs.readFileSync(\n  path.resolve(__dirname, \"NewSessionRoutes.json\"),\n  \"utf8\",\n);\nnewSessionRoutes = JSON.parse(newSessionRoutes);\n\nlet authenticatedRoutes = fs.readFileSync(\n  path.resolve(__dirname, \"./AuthenticatedRoutes.json\"),\n  \"utf8\",\n);\nauthenticatedRoutes = JSON.parse(authenticatedRoutes);\n\nconst uuid = require(\"uuid\");\nconst healthCheckRoutes = require(\"./HealthCheckRoutes.json\");\nconst noAPIKeyRoutes = require(\"./NoClientIdRoutes.json\");\nconst noSessionRoutes = require(\"./NoSessionRoutes.json\");\n\nconst routeMaps = [\n  newSessionRoutes,\n  authenticatedRoutes,\n  noSessionRoutes,\n  noAPIKeyRoutes,\n  healthCheckRoutes,\n];\n\nconst getRouteCategory = (routeMapsIndex) => {\n  let routeCategory = \"others\";\n  if (routeMapsIndex === 0) {\n    routeCategory = \"newSessionRoutes\";\n  } else if (routeMapsIndex === 1) {\n    routeCategory = \"authenticatedRoutes\";\n  } else if (routeMapsIndex === 2) {\n    routeCategory = \"noSessionRoutes\";\n  } else if (routeMapsIndex === 3) {\n    routeCategory = \"noAPIKeyRoutes\";\n  } else if (routeMapsIndex === 4) {\n    routeCategory = \"healthCheckRoutes\";\n  }\n  return routeCategory;\n};\n\nconst checkApiKeyValidity = async (req) => {\n  const apiKey = req.header(HEADER_API_KEY);\n  const selectCondition = {\n    metro_auth_key: apiKey,\n  };\n  const projectCondition = {\n    metro_auth_key: 1,\n    _id: 0,\n  };\n  const isValidAPIKey = await AbstractModels.mongoFindOne(\n    Clients,\n    selectCondition,\n    projectCondition,\n  );\n  return isValidAPIKey;\n};\n\nconst getRedisSession = async (sessionId) => {\n  try {\n    // @hotfix: For backward compatibility preprending \"sess:\" to sessionId\n    const redisSession = await RedisClient.get(`sess:${sessionId}`);\n    return redisSession;\n  } catch (error) {\n    log(\"error\", { error });\n    throw ErrorUtils.redisConnectionError();\n  }\n};\n\nconst decrypt = (text) => {\n  let resultChiper = \"\";\n  const decipher = crypto.createDecipher(ALGORITHM, PASSWORD);\n  console.log(\"+++++++++++++ length is \"+ text,text.length);\n  resultChiper = decipher.update(text, \"hex\", \"utf8\");\n  resultChiper += decipher.final(\"utf8\");\n  return resultChiper;\n};\n\nexport const getSessionObj = async (req) => {\n  const sessiontoken = req.header(HEADER_SESSION_TOKEN);\n  if (!sessiontoken) throw ErrorUtils.InvalidSessionToken();\n  // const session = jwt.verify(sessiontoken, SECREAT);\n\n  const sessionId = decrypt(sessiontoken);\n  let session = await getRedisSession(sessionId);\n  log(\"info\", { session, sessionId, sessiontoken });\n\n  if (!session) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n  try {\n    session = JSON.parse(session);\n  } catch (error) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n  console.log(\"the returned value formthe session is +++++++++++++++\"+session);\n  return session;\n};\nconst getRouteObj = (originalUrl, httpMethod) => {\n  let routeObj = {};\n  const normalizedURL = originalUrl.toLowerCase().split(\"?\")[0];\n  const index = normalizedURL.lastIndexOf(\"/\");\n  const baseURL = normalizedURL.substring(0, index);\n  let isRouteObjFound = false;\n  for (let i = 0; i < routeMaps.length; i++) {\n    const routeMap = routeMaps[i];\n    if (routeMap && routeMap[httpMethod]) {\n      if (routeMap[httpMethod][normalizedURL]) {\n        routeObj = routeMap[httpMethod][normalizedURL];\n        isRouteObjFound = true;\n      } else if (\n        routeMap[httpMethod][`${baseURL}/:param`]\n        && index !== normalizedURL.length - 1\n      ) {\n        routeObj = routeMap[httpMethod][`${baseURL}/:param`];\n        isRouteObjFound = true;\n      }\n      if (isRouteObjFound) {\n        routeObj.httpMethod = httpMethod;\n        routeObj.baseURL = baseURL;\n        routeObj.normalizedURL = normalizedURL;\n        routeObj.routeCategory = getRouteCategory(i);\n        break;\n      }\n    }\n  }\n  // If route is not found from RoutesMap it shoud be treated as others\n  if (!isRouteObjFound) {\n    routeObj.httpMethod = httpMethod;\n    routeObj.baseURL = baseURL;\n    routeObj.normalizedURL = normalizedURL;\n    routeObj.routeCategory = \"others\";\n  }\n  return routeObj;\n};\n\n// @hotfix: For backward compatibility\n// Business & consumer user roles are stored in different keys in session\n// Possible values for users_business_portal_role are \"admin\" & \"user\"\nasync function getUserRoles(req) {\n  const session = await getSessionObj(req);\n  console.log('*****************************'+JSON.stringify(session));\n  const { users_business_portal_role: userRoles } = session;\n  console.log(\"+++++++++++ the role of user is \"+JSON.stringify(userRoles))\n  return [].concat(userRoles).map((value) => value.toUpperCase());\n}\n\nconst checkAutorization = async (req) => {\n  let isAuthorizedToAccessRoute = false;\n  console.log(\"in the check authorization rule--------------------------\");\n  const userRoles = await getUserRoles(req);\n  const routeAutorizedRoles = req.routeObj?.roles || [];\n  if (routeAutorizedRoles?.filter((value) => userRoles.includes(value.toUpperCase()))?.length > 0) {\n    isAuthorizedToAccessRoute = true;\n  }\n  return isAuthorizedToAccessRoute;\n};\n\nconst checkBlockListedUser = async () => {\n  // @hotfix: Rewrite this logic according to service need\n  const isBlockedUser = false;\n  return isBlockedUser;\n  // let isBlockedUser = false;\n  // const session = await getSessionObj(req);\n  // const { mobileNo } = session;\n  // const selectCondition = {\n  //   mobileNo,\n  //   isBlockedUser: true,\n  // };\n  // const projectCondition = {\n  //   mobileNo: 1,\n  //   _id: 0,\n  // };\n  // const userObj = await AbstractModels.mongoFindOne(\n  //   Users,\n  //   selectCondition,\n  //   projectCondition,\n  // );\n  // if (userObj) {\n  //   isBlockedUser = true;\n  // }\n  // return isBlockedUser;\n};\n\nexport const createSessionObj = (data) => {\n  const session = jwt.sign(data, SECREAT, { expiresIn: 60 * 60 * 24 * 30 }); // default is in sec\n  return session;\n};\n\n/*\n1.newSessionRoutes\n2.authenticatedRoutes(api key check,sessoin token check,Authorize check,blocklist users check)\n3.noSessionRoutes(api key check)\n4.noAPIKeyRoutes\n5.healthCheckRoutes(Dont' store Audits)\n6.others\n\nFor each req store req, res audits\n*/\n\nexport const checks = async (req, res, next) => {\n  const { routeCategory } = req.routeObj;\n  console.log(\"++++++++++++++++++++++++THIS IS ROUTE CATEGORY          \"+routeCategory);\n  if (routeCategory === \"others\") {\n    const error = ErrorUtils.InvalidRequest();\n    next(error);\n  } else if (routeCategory === \"healthCheckRoutes\") {\n    next();\n  } else if (routeCategory === \"noAPIKeyRoutes\") {\n    next();\n  } else if (\n    routeCategory === \"noSessionRoutes\"\n    || routeCategory === \"newSessionRoutes\"\n  ) {\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    if (!isValidAPIKey) {\n      const error = ErrorUtils.InvalidAPIKey();\n      next(error);\n    } else {\n      next();\n    }\n  } else if (routeCategory === \"authenticatedRoutes\") {\n    // 1.api key check 2.session token check 3.autorization check 4.blocklisted user check\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    const session = await getSessionObj(req);\n    if (!session) {\n      const error = ErrorUtils.InvalidSessionToken();\n      next(error);\n    } else {\n      const isAuthorizedToAccessRoute = await checkAutorization(req);\n      console.log('***************** is authorized user '+isAuthorizedToAccessRoute);\n      const isBlockListeduser = await checkBlockListedUser();\n      if (!isValidAPIKey) {\n        const error = ErrorUtils.InvalidAPIKey();\n        next(error);\n      } else if (isBlockListeduser) {\n        const error = ErrorUtils.BlockListedUser();\n        next(error);\n      } else if (!isAuthorizedToAccessRoute) {\n        const error = ErrorUtils.InvalidAuthorization();\n        next(error);\n      } else {\n        req.sesssion = session;\n        next();\n      }\n    }\n  }\n};\n\nexport const setMetrics = (req, res) => {\n  const { originalUrl } = req;\n  const httpMethod = req.method;\n  const routeObj = getRouteObj(originalUrl, httpMethod);\n  console.log(\"CHecking++++++++++++ \"+JSON.stringify(routeObj));\n  routeObj.startTime = new Date().getTime();\n\n  let correlationId = req.get(Constants.LOGGER_CORRELATIONID);\n  if (!correlationId) {\n    // generate and set uuid v4 version\n    correlationId = uuid.v4();\n    httpContext.set(Constants.LOGGER_CORRELATIONID, correlationId);\n    // inject correlationId in headers\n    req.headers.correlationId = httpContext.get(Constants.LOGGER_CORRELATIONID);\n    res.set(\"CorrelationId\", httpContext.get(Constants.LOGGER_CORRELATIONID));\n  }\n\n  return routeObj;\n};\n"],"mappings":"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"}},"mtime":1653913240437},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/errors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/errors/ErrorUtils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BlockListedUser = BlockListedUser;\nexports.DataAlreadyExists = DataAlreadyExists;\nexports.DataNotFound = DataNotFound;\nexports.ExpiredUser = ExpiredUser;\nexports.IncorrectOTP = IncorrectOTP;\nexports.InternalServerError = InternalServerError;\nexports.InvalidAPIKey = InvalidAPIKey;\nexports.InvalidAuthorization = InvalidAuthorization;\nexports.InvalidPasswordError = InvalidPasswordError;\nexports.InvalidRequest = InvalidRequest;\nexports.InvalidSchemaError = InvalidSchemaError;\nexports.InvalidSessionToken = InvalidSessionToken;\nexports.InvalidUserError = InvalidUserError;\nexports.MongoError = MongoError;\nexports.NotRegisteredUser = NotRegisteredUser;\nexports.UserNotFoundError = UserNotFoundError;\nexports.redisConnectionError = redisConnectionError;\n\nvar ErrorType = _interopRequireWildcard(require(\"../constants/ErrorConstants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst RESPONSE_STATUS_400_BAD_REQUEST = 400;\nconst RESPONSE_STATUS_401_UNAUTHORIZED = 401;\nconst RESPONSE_STATUS_403_FORBIDDEN = 403;\nconst RESPONSE_STATUS_404_NOT_FOUND = 404;\nconst RESPONSE_STATUS_409_CONFLICT = 409;\nconst RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR = 500;\n\nfunction ErrorUtils(functionName, customMessage, httpResponseStatusCode) {\n  Error.captureStackTrace(this, functionName || ErrorUtils);\n  this.name = this.constructor.name;\n  this.message = customMessage?.message;\n  this.code = customMessage?.code;\n  this.statusCode = httpResponseStatusCode;\n}\n\nfunction InvalidRequest() {\n  return new ErrorUtils(InvalidRequest, ErrorType.INVALID_REQUEST, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidAPIKey() {\n  return new ErrorUtils(InvalidAPIKey, ErrorType.INVALID_API_KEY, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidSessionToken() {\n  return new ErrorUtils(InvalidSessionToken, ErrorType.INVALID_SESSION_TOKEN, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidAuthorization() {\n  return new ErrorUtils(InvalidAuthorization, ErrorType.INVALID_AUTHORIZATION, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction BlockListedUser() {\n  return new ErrorUtils(BlockListedUser, ErrorType.BLOCK_LISTED_USER, RESPONSE_STATUS_403_FORBIDDEN);\n}\n\nfunction UserNotFoundError() {\n  return new ErrorUtils(UserNotFoundError, ErrorType.USER_DOES_NOT_EXIST, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction InvalidPasswordError() {\n  return new ErrorUtils(InvalidPasswordError, ErrorType.INVALID_PASSWORD, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction InvalidSchemaError() {\n  return new ErrorUtils(InvalidSchemaError, ErrorType.INVALID_SCHEMA.code, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction InternalServerError() {\n  return new ErrorUtils(InternalServerError, ErrorType.INTERNAL_SERVER_ERR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction DataNotFound() {\n  return new ErrorUtils(DataNotFound, ErrorType.DATA_NOT_FOUND, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction MongoError() {\n  return new ErrorUtils(MongoError, ErrorType.MONGO_ERROR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction DataAlreadyExists() {\n  return new ErrorUtils(DataAlreadyExists, ErrorType.DATA_ALREADY_EXISTS, RESPONSE_STATUS_409_CONFLICT);\n}\n\nfunction IncorrectOTP() {\n  return new ErrorUtils(IncorrectOTP, ErrorType.INCORRECT_OTP, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction InvalidUserError() {\n  return new ErrorUtils(InvalidUserError, ErrorType.INVALID_USER, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction ExpiredUser() {\n  return new ErrorUtils(ExpiredUser, ErrorType.EXPIRED_USER, RESPONSE_STATUS_403_FORBIDDEN);\n}\n\nfunction NotRegisteredUser() {\n  return new ErrorUtils(NotRegisteredUser, ErrorType.NOT_REGISTERED_USER, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction redisConnectionError() {\n  return new ErrorUtils(redisConnectionError, ErrorType.REDIS_CONNECTION_ERROR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSRVNQT05TRV9TVEFUVVNfNDAwX0JBRF9SRVFVRVNUIiwiUkVTUE9OU0VfU1RBVFVTXzQwMV9VTkFVVEhPUklaRUQiLCJSRVNQT05TRV9TVEFUVVNfNDAzX0ZPUkJJRERFTiIsIlJFU1BPTlNFX1NUQVRVU180MDRfTk9UX0ZPVU5EIiwiUkVTUE9OU0VfU1RBVFVTXzQwOV9DT05GTElDVCIsIlJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwiRXJyb3JVdGlscyIsImZ1bmN0aW9uTmFtZSIsImN1c3RvbU1lc3NhZ2UiLCJodHRwUmVzcG9uc2VTdGF0dXNDb2RlIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIm5hbWUiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwic3RhdHVzQ29kZSIsIkludmFsaWRSZXF1ZXN0IiwiRXJyb3JUeXBlIiwiSU5WQUxJRF9SRVFVRVNUIiwiSW52YWxpZEFQSUtleSIsIklOVkFMSURfQVBJX0tFWSIsIkludmFsaWRTZXNzaW9uVG9rZW4iLCJJTlZBTElEX1NFU1NJT05fVE9LRU4iLCJJbnZhbGlkQXV0aG9yaXphdGlvbiIsIklOVkFMSURfQVVUSE9SSVpBVElPTiIsIkJsb2NrTGlzdGVkVXNlciIsIkJMT0NLX0xJU1RFRF9VU0VSIiwiVXNlck5vdEZvdW5kRXJyb3IiLCJVU0VSX0RPRVNfTk9UX0VYSVNUIiwiSW52YWxpZFBhc3N3b3JkRXJyb3IiLCJJTlZBTElEX1BBU1NXT1JEIiwiSW52YWxpZFNjaGVtYUVycm9yIiwiSU5WQUxJRF9TQ0hFTUEiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiSU5URVJOQUxfU0VSVkVSX0VSUiIsIkRhdGFOb3RGb3VuZCIsIkRBVEFfTk9UX0ZPVU5EIiwiTW9uZ29FcnJvciIsIk1PTkdPX0VSUk9SIiwiRGF0YUFscmVhZHlFeGlzdHMiLCJEQVRBX0FMUkVBRFlfRVhJU1RTIiwiSW5jb3JyZWN0T1RQIiwiSU5DT1JSRUNUX09UUCIsIkludmFsaWRVc2VyRXJyb3IiLCJJTlZBTElEX1VTRVIiLCJFeHBpcmVkVXNlciIsIkVYUElSRURfVVNFUiIsIk5vdFJlZ2lzdGVyZWRVc2VyIiwiTk9UX1JFR0lTVEVSRURfVVNFUiIsInJlZGlzQ29ubmVjdGlvbkVycm9yIiwiUkVESVNfQ09OTkVDVElPTl9FUlJPUiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2Vycm9ycy8iLCJzb3VyY2VzIjpbIkVycm9yVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRXJyb3JUeXBlIGZyb20gXCIuLi9jb25zdGFudHMvRXJyb3JDb25zdGFudHNcIjtcblxuY29uc3QgUkVTUE9OU0VfU1RBVFVTXzQwMF9CQURfUkVRVUVTVCA9IDQwMDtcbmNvbnN0IFJFU1BPTlNFX1NUQVRVU180MDFfVU5BVVRIT1JJWkVEID0gNDAxO1xuY29uc3QgUkVTUE9OU0VfU1RBVFVTXzQwM19GT1JCSURERU4gPSA0MDM7XG5jb25zdCBSRVNQT05TRV9TVEFUVVNfNDA0X05PVF9GT1VORCA9IDQwNDtcbmNvbnN0IFJFU1BPTlNFX1NUQVRVU180MDlfQ09ORkxJQ1QgPSA0MDk7XG5cbmNvbnN0IFJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwO1xuXG5mdW5jdGlvbiBFcnJvclV0aWxzKGZ1bmN0aW9uTmFtZSwgY3VzdG9tTWVzc2FnZSwgaHR0cFJlc3BvbnNlU3RhdHVzQ29kZSkge1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBmdW5jdGlvbk5hbWUgfHwgRXJyb3JVdGlscyk7XG4gIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgdGhpcy5tZXNzYWdlID0gY3VzdG9tTWVzc2FnZT8ubWVzc2FnZTtcbiAgdGhpcy5jb2RlID0gY3VzdG9tTWVzc2FnZT8uY29kZTtcbiAgdGhpcy5zdGF0dXNDb2RlID0gaHR0cFJlc3BvbnNlU3RhdHVzQ29kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRSZXF1ZXN0KCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgSW52YWxpZFJlcXVlc3QsXG4gICAgRXJyb3JUeXBlLklOVkFMSURfUkVRVUVTVCxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAwX0JBRF9SRVFVRVNULFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZEFQSUtleSgpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRBUElLZXksXG4gICAgRXJyb3JUeXBlLklOVkFMSURfQVBJX0tFWSxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAwX0JBRF9SRVFVRVNULFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZFNlc3Npb25Ub2tlbigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRTZXNzaW9uVG9rZW4sXG4gICAgRXJyb3JUeXBlLklOVkFMSURfU0VTU0lPTl9UT0tFTixcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAwX0JBRF9SRVFVRVNULFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZEF1dGhvcml6YXRpb24oKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnZhbGlkQXV0aG9yaXphdGlvbixcbiAgICBFcnJvclR5cGUuSU5WQUxJRF9BVVRIT1JJWkFUSU9OLFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDFfVU5BVVRIT1JJWkVELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxvY2tMaXN0ZWRVc2VyKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgQmxvY2tMaXN0ZWRVc2VyLFxuICAgIEVycm9yVHlwZS5CTE9DS19MSVNURURfVVNFUixcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAzX0ZPUkJJRERFTixcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJOb3RGb3VuZEVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgVXNlck5vdEZvdW5kRXJyb3IsXG4gICAgRXJyb3JUeXBlLlVTRVJfRE9FU19OT1RfRVhJU1QsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwNF9OT1RfRk9VTkQsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkUGFzc3dvcmRFcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRQYXNzd29yZEVycm9yLFxuICAgIEVycm9yVHlwZS5JTlZBTElEX1BBU1NXT1JELFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDFfVU5BVVRIT1JJWkVELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZFNjaGVtYUVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgSW52YWxpZFNjaGVtYUVycm9yLFxuICAgIEVycm9yVHlwZS5JTlZBTElEX1NDSEVNQS5jb2RlLFxuICAgIFJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW50ZXJuYWxTZXJ2ZXJFcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludGVybmFsU2VydmVyRXJyb3IsXG4gICAgRXJyb3JUeXBlLklOVEVSTkFMX1NFUlZFUl9FUlIsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzUwMF9JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEYXRhTm90Rm91bmQoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBEYXRhTm90Rm91bmQsXG4gICAgRXJyb3JUeXBlLkRBVEFfTk9UX0ZPVU5ELFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDRfTk9UX0ZPVU5ELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9uZ29FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIE1vbmdvRXJyb3IsXG4gICAgRXJyb3JUeXBlLk1PTkdPX0VSUk9SLFxuICAgIFJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRGF0YUFscmVhZHlFeGlzdHMoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBEYXRhQWxyZWFkeUV4aXN0cyxcbiAgICBFcnJvclR5cGUuREFUQV9BTFJFQURZX0VYSVNUUyxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDA5X0NPTkZMSUNULFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5jb3JyZWN0T1RQKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgSW5jb3JyZWN0T1RQLFxuICAgIEVycm9yVHlwZS5JTkNPUlJFQ1RfT1RQLFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDFfVU5BVVRIT1JJWkVELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZFVzZXJFcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRVc2VyRXJyb3IsXG4gICAgRXJyb3JUeXBlLklOVkFMSURfVVNFUixcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAxX1VOQVVUSE9SSVpFRCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4cGlyZWRVc2VyKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgRXhwaXJlZFVzZXIsXG4gICAgRXJyb3JUeXBlLkVYUElSRURfVVNFUixcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAzX0ZPUkJJRERFTixcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdFJlZ2lzdGVyZWRVc2VyKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgTm90UmVnaXN0ZXJlZFVzZXIsXG4gICAgRXJyb3JUeXBlLk5PVF9SRUdJU1RFUkVEX1VTRVIsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwNF9OT1RfRk9VTkQsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWRpc0Nvbm5lY3Rpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIHJlZGlzQ29ubmVjdGlvbkVycm9yLFxuICAgIEVycm9yVHlwZS5SRURJU19DT05ORUNUSU9OX0VSUk9SLFxuICAgIFJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxNQUFNQSwrQkFBK0IsR0FBRyxHQUF4QztBQUNBLE1BQU1DLGdDQUFnQyxHQUFHLEdBQXpDO0FBQ0EsTUFBTUMsNkJBQTZCLEdBQUcsR0FBdEM7QUFDQSxNQUFNQyw2QkFBNkIsR0FBRyxHQUF0QztBQUNBLE1BQU1DLDRCQUE0QixHQUFHLEdBQXJDO0FBRUEsTUFBTUMseUNBQXlDLEdBQUcsR0FBbEQ7O0FBRUEsU0FBU0MsVUFBVCxDQUFvQkMsWUFBcEIsRUFBa0NDLGFBQWxDLEVBQWlEQyxzQkFBakQsRUFBeUU7RUFDdkVDLEtBQUssQ0FBQ0MsaUJBQU4sQ0FBd0IsSUFBeEIsRUFBOEJKLFlBQVksSUFBSUQsVUFBOUM7RUFDQSxLQUFLTSxJQUFMLEdBQVksS0FBS0MsV0FBTCxDQUFpQkQsSUFBN0I7RUFDQSxLQUFLRSxPQUFMLEdBQWVOLGFBQWEsRUFBRU0sT0FBOUI7RUFDQSxLQUFLQyxJQUFMLEdBQVlQLGFBQWEsRUFBRU8sSUFBM0I7RUFDQSxLQUFLQyxVQUFMLEdBQWtCUCxzQkFBbEI7QUFDRDs7QUFFTSxTQUFTUSxjQUFULEdBQTBCO0VBQy9CLE9BQU8sSUFBSVgsVUFBSixDQUNMVyxjQURLLEVBRUxDLFNBQVMsQ0FBQ0MsZUFGTCxFQUdMbkIsK0JBSEssQ0FBUDtBQUtEOztBQUVNLFNBQVNvQixhQUFULEdBQXlCO0VBQzlCLE9BQU8sSUFBSWQsVUFBSixDQUNMYyxhQURLLEVBRUxGLFNBQVMsQ0FBQ0cs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","map":{"version":3,"names":["RESPONSE_STATUS_400_BAD_REQUEST","RESPONSE_STATUS_401_UNAUTHORIZED","RESPONSE_STATUS_403_FORBIDDEN","RESPONSE_STATUS_404_NOT_FOUND","RESPONSE_STATUS_409_CONFLICT","RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR","ErrorUtils","functionName","customMessage","httpResponseStatusCode","Error","captureStackTrace","name","constructor","message","code","statusCode","InvalidRequest","ErrorType","INVALID_REQUEST","InvalidAPIKey","INVALID_API_KEY","InvalidSessionToken","INVALID_SESSION_TOKEN","InvalidAuthorization","INVALID_AUTHORIZATION","BlockListedUser","BLOCK_LISTED_USER","UserNotFoundError","USER_DOES_NOT_EXIST","InvalidPasswordError","INVALID_PASSWORD","InvalidSchemaError","INVALID_SCHEMA","InternalServerError","INTERNAL_SERVER_ERR","DataNotFound","DATA_NOT_FOUND","MongoError","MONGO_ERROR","DataAlreadyExists","DATA_ALREADY_EXISTS","IncorrectOTP","INCORRECT_OTP","InvalidUserError","INVALID_USER","ExpiredUser","EXPIRED_USER","NotRegisteredUser","NOT_REGISTERED_USER","redisConnectionError","REDIS_CONNECTION_ERROR"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/errors/","sources":["ErrorUtils.js"],"sourcesContent":["import * as ErrorType from \"../constants/ErrorConstants\";\n\nconst RESPONSE_STATUS_400_BAD_REQUEST = 400;\nconst RESPONSE_STATUS_401_UNAUTHORIZED = 401;\nconst RESPONSE_STATUS_403_FORBIDDEN = 403;\nconst RESPONSE_STATUS_404_NOT_FOUND = 404;\nconst RESPONSE_STATUS_409_CONFLICT = 409;\n\nconst RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR = 500;\n\nfunction ErrorUtils(functionName, customMessage, httpResponseStatusCode) {\n  Error.captureStackTrace(this, functionName || ErrorUtils);\n  this.name = this.constructor.name;\n  this.message = customMessage?.message;\n  this.code = customMessage?.code;\n  this.statusCode = httpResponseStatusCode;\n}\n\nexport function InvalidRequest() {\n  return new ErrorUtils(\n    InvalidRequest,\n    ErrorType.INVALID_REQUEST,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidAPIKey() {\n  return new ErrorUtils(\n    InvalidAPIKey,\n    ErrorType.INVALID_API_KEY,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidSessionToken() {\n  return new ErrorUtils(\n    InvalidSessionToken,\n    ErrorType.INVALID_SESSION_TOKEN,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidAuthorization() {\n  return new ErrorUtils(\n    InvalidAuthorization,\n    ErrorType.INVALID_AUTHORIZATION,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function BlockListedUser() {\n  return new ErrorUtils(\n    BlockListedUser,\n    ErrorType.BLOCK_LISTED_USER,\n    RESPONSE_STATUS_403_FORBIDDEN,\n  );\n}\n\nexport function UserNotFoundError() {\n  return new ErrorUtils(\n    UserNotFoundError,\n    ErrorType.USER_DOES_NOT_EXIST,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function InvalidPasswordError() {\n  return new ErrorUtils(\n    InvalidPasswordError,\n    ErrorType.INVALID_PASSWORD,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function InvalidSchemaError() {\n  return new ErrorUtils(\n    InvalidSchemaError,\n    ErrorType.INVALID_SCHEMA.code,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function InternalServerError() {\n  return new ErrorUtils(\n    InternalServerError,\n    ErrorType.INTERNAL_SERVER_ERR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function DataNotFound() {\n  return new ErrorUtils(\n    DataNotFound,\n    ErrorType.DATA_NOT_FOUND,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function MongoError() {\n  return new ErrorUtils(\n    MongoError,\n    ErrorType.MONGO_ERROR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function DataAlreadyExists() {\n  return new ErrorUtils(\n    DataAlreadyExists,\n    ErrorType.DATA_ALREADY_EXISTS,\n    RESPONSE_STATUS_409_CONFLICT,\n  );\n}\n\nexport function IncorrectOTP() {\n  return new ErrorUtils(\n    IncorrectOTP,\n    ErrorType.INCORRECT_OTP,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function InvalidUserError() {\n  return new ErrorUtils(\n    InvalidUserError,\n    ErrorType.INVALID_USER,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function ExpiredUser() {\n  return new ErrorUtils(\n    ExpiredUser,\n    ErrorType.EXPIRED_USER,\n    RESPONSE_STATUS_403_FORBIDDEN,\n  );\n}\n\nexport function NotRegisteredUser() {\n  return new ErrorUtils(\n    NotRegisteredUser,\n    ErrorType.NOT_REGISTERED_USER,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function redisConnectionError() {\n  return new ErrorUtils(\n    redisConnectionError,\n    ErrorType.REDIS_CONNECTION_ERROR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,MAAMA,+BAA+B,GAAG,GAAxC;AACA,MAAMC,gCAAgC,GAAG,GAAzC;AACA,MAAMC,6BAA6B,GAAG,GAAtC;AACA,MAAMC,6BAA6B,GAAG,GAAtC;AACA,MAAMC,4BAA4B,GAAG,GAArC;AAEA,MAAMC,yCAAyC,GAAG,GAAlD;;AAEA,SAASC,UAAT,CAAoBC,YAApB,EAAkCC,aAAlC,EAAiDC,sBAAjD,EAAyE;EACvEC,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8BJ,YAAY,IAAID,UAA9C;EACA,KAAKM,IAAL,GAAY,KAAKC,WAAL,CAAiBD,IAA7B;EACA,KAAKE,OAAL,GAAeN,aAAa,EAAEM,OAA9B;EACA,KAAKC,IAAL,GAAYP,aAAa,EAAEO,IAA3B;EACA,KAAKC,UAAL,GAAkBP,sBAAlB;AACD;;AAEM,SAASQ,cAAT,GAA0B;EAC/B,OAAO,IAAIX,UAAJ,CACLW,cADK,EAELC,SAAS,CAACC,eAFL,EAGLnB,+BAHK,CAAP;AAKD;;AAEM,SAASoB,aAAT,GAAyB;EAC9B,OAAO,IAAId,UAAJ,CACLc,aADK,EAELF,SAAS,CAACG,eAFL,EAGLrB,+BAHK,CAAP;AAKD;;AAEM,SAASsB,mBAAT,GAA+B;EACpC,OAAO,IAAIhB,UAAJ,CACLgB,mBADK,EAELJ,SAAS,CAACK,qBAFL,EAGLvB,+BAHK,CAAP;AAKD;;AAEM,SAASwB,oBAAT,GAAgC;EACrC,OAAO,IAAIlB,UAAJ,CACLkB,oBADK,EAELN,SAAS,CAACO,qBAFL,EAGLxB,gCAHK,CAAP;AAKD;;AAEM,SAASyB,eAAT,GAA2B;EAChC,OAAO,IAAIpB,UAAJ,CACLoB,eADK,EAELR,SAAS,CAACS,iBAFL,EAGLzB,6BAHK,CAAP;AAKD;;AAEM,SAAS0B,iBAAT,GAA6B;EAClC,OAAO,IAAItB,UAAJ,CACLsB,iBADK,EAELV,SAAS,CAACW,mBAFL,EAGL1B,6BAHK,CAAP;AAKD;;AAEM,SAAS2B,oBAAT,GAAgC;EACrC,OAAO,IAAIxB,UAAJ,CACLwB,oBADK,EAELZ,SAAS,CAACa,gBAFL,EAGL9B,gCAHK,CAAP;AAKD;;AAEM,SAAS+B,kBAAT,GAA8B;EACnC,OAAO,IAAI1B,UAAJ,CACL0B,kBADK,EAELd,SAAS,CAACe,cAAV,CAAyBlB,IAFpB,EAGLV,yCAHK,CAAP;AAKD;;AAEM,SAAS6B,mBAAT,GAA+B;EACpC,OAAO,IAAI5B,UAAJ,CACL4B,mBADK,EAELhB,SAAS,CAACiB,mBAFL,EAGL9B,yCAHK,CAAP;AAKD;;AAEM,SAAS+B,YAAT,GAAwB;EAC7B,OAAO,IAAI9B,UAAJ,CACL8B,YADK,EAELlB,SAAS,CAACmB,cAFL,EAGLlC,6BAHK,CAAP;AAKD;;AAEM,SAASmC,UAAT,GAAsB;EAC3B,OAAO,IAAIhC,UAAJ,CACLgC,UADK,EAELpB,SAAS,CAACqB,WAFL,EAGLlC,yCAHK,CAAP;AAKD;;AAEM,SAASmC,iBAAT,GAA6B;EAClC,OAAO,IAAIlC,UAAJ,CACLkC,iBADK,EAELtB,SAAS,CAACuB,mBAFL,EAGLrC,4BAHK,CAAP;AAKD;;AAEM,SAASsC,YAAT,GAAwB;EAC7B,OAAO,IAAIpC,UAAJ,CACLoC,YADK,EAELxB,SAAS,CAACyB,aAFL,EAGL1C,gCAHK,CAAP;AAKD;;AAEM,SAAS2C,gBAAT,GAA4B;EACjC,OAAO,IAAItC,UAAJ,CACLsC,gBADK,EAEL1B,SAAS,CAAC2B,YAFL,EAGL5C,gCAHK,CAAP;AAKD;;AAEM,SAAS6C,WAAT,GAAuB;EAC5B,OAAO,IAAIxC,UAAJ,CACLwC,WADK,EAEL5B,SAAS,CAAC6B,YAFL,EAGL7C,6BAHK,CAAP;AAKD;;AAEM,SAAS8C,iBAAT,GAA6B;EAClC,OAAO,IAAI1C,UAAJ,CACL0C,iBADK,EAEL9B,SAAS,CAAC+B,mBAFL,EAGL9C,6BAHK,CAAP;AAKD;;AAEM,SAAS+C,oBAAT,GAAgC;EACrC,OAAO,IAAI5C,UAAJ,CACL4C,oBADK,EAELhC,SAAS,CAACiC,sBAFL,EAGL9C,yCAHK,CAAP;AAKD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/ErrorConstants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.USER_DOES_NOT_EXIST = exports.REDIS_CONNECTION_ERROR = exports.NOT_REGISTERED_USER = exports.MONGO_ERROR = exports.INVALID_SESSION_TOKEN = exports.INVALID_SCHEMA = exports.INVALID_REQUEST = exports.INVALID_PASSWORD = exports.INVALID_AUTHORIZATION = exports.INVALID_API_KEY = exports.INTERNAL_SERVER_ERR = exports.INCORRECT_OTP = exports.EXPIRED_USER = exports.DATA_NOT_FOUND = exports.DATA_ALREADY_EXISTS = exports.BLOCK_LISTED_USER = void 0;\nconst INTERNAL_SERVER_ERR = {\n  code: 1000,\n  message: \"Internal Server Error. Something went wrong!\"\n};\nexports.INTERNAL_SERVER_ERR = INTERNAL_SERVER_ERR;\nconst INVALID_REQUEST = {\n  code: 1001,\n  message: \"invalid request\"\n};\nexports.INVALID_REQUEST = INVALID_REQUEST;\nconst INVALID_API_KEY = {\n  code: 1002,\n  message: \"invalid api key id\"\n};\nexports.INVALID_API_KEY = INVALID_API_KEY;\nconst INVALID_SESSION_TOKEN = {\n  code: 1003,\n  message: \"invalid session token\"\n};\nexports.INVALID_SESSION_TOKEN = INVALID_SESSION_TOKEN;\nconst INVALID_AUTHORIZATION = {\n  code: 1004,\n  message: \"invalid authorization\"\n};\nexports.INVALID_AUTHORIZATION = INVALID_AUTHORIZATION;\nconst BLOCK_LISTED_USER = {\n  code: 1005,\n  message: \"invalid authorization\"\n};\nexports.BLOCK_LISTED_USER = BLOCK_LISTED_USER;\nconst USER_DOES_NOT_EXIST = {\n  code: 1006,\n  message: \"User does not exist\"\n};\nexports.USER_DOES_NOT_EXIST = USER_DOES_NOT_EXIST;\nconst INCORRECT_OTP = {\n  code: 1007,\n  message: \"Incorrect OTP\"\n};\nexports.INCORRECT_OTP = INCORRECT_OTP;\nconst INVALID_PASSWORD = {\n  code: 1008,\n  message: \"Invalid Password\"\n};\nexports.INVALID_PASSWORD = INVALID_PASSWORD;\nconst INVALID_SCHEMA = {\n  code: 1009,\n  message: \"Invalid schema or Missing Data sent\"\n};\nexports.INVALID_SCHEMA = INVALID_SCHEMA;\nconst DATA_NOT_FOUND = {\n  code: 1010,\n  message: \"Data not found\"\n};\nexports.DATA_NOT_FOUND = DATA_NOT_FOUND;\nconst MONGO_ERROR = {\n  code: 1011,\n  message: \"Error in Mongo Query\"\n};\nexports.MONGO_ERROR = MONGO_ERROR;\nconst DATA_ALREADY_EXISTS = {\n  code: 1012,\n  message: \"Data already exist\"\n};\nexports.DATA_ALREADY_EXISTS = DATA_ALREADY_EXISTS;\nconst EXPIRED_USER = {\n  code: 1016,\n  message: \"Expired user\"\n};\nexports.EXPIRED_USER = EXPIRED_USER;\nconst NOT_REGISTERED_USER = {\n  code: 1017,\n  message: \"Not registered user\"\n};\nexports.NOT_REGISTERED_USER = NOT_REGISTERED_USER;\nconst REDIS_CONNECTION_ERROR = {\n  code: 1018,\n  message: \"Redis connection error\"\n};\nexports.REDIS_CONNECTION_ERROR = REDIS_CONNECTION_ERROR;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJTlRFUk5BTF9TRVJWRVJfRVJSIiwiY29kZSIsIm1lc3NhZ2UiLCJJTlZBTElEX1JFUVVFU1QiLCJJTlZBTElEX0FQSV9LRVkiLCJJTlZBTElEX1NFU1NJT05fVE9LRU4iLCJJTlZBTElEX0FVVEhPUklaQVRJT04iLCJCTE9DS19MSVNURURfVVNFUiIsIlVTRVJfRE9FU19OT1RfRVhJU1QiLCJJTkNPUlJFQ1RfT1RQIiwiSU5WQUxJRF9QQVNTV09SRCIsIklOVkFMSURfU0NIRU1BIiwiREFUQV9OT1RfRk9VTkQiLCJNT05HT19FUlJPUiIsIkRBVEFfQUxSRUFEWV9FWElTVFMiLCJFWFBJUkVEX1VTRVIiLCJOT1RfUkVHSVNURVJFRF9VU0VSIiwiUkVESVNfQ09OTkVDVElPTl9FUlJPUiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbnN0YW50cy8iLCJzb3VyY2VzIjpbIkVycm9yQ29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBJTlRFUk5BTF9TRVJWRVJfRVJSID0ge1xuICBjb2RlOiAxMDAwLFxuICBtZXNzYWdlOiBcIkludGVybmFsIFNlcnZlciBFcnJvci4gU29tZXRoaW5nIHdlbnQgd3JvbmchXCIsXG59O1xuXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRVFVRVNUID0ge1xuICBjb2RlOiAxMDAxLFxuICBtZXNzYWdlOiBcImludmFsaWQgcmVxdWVzdFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfQVBJX0tFWSA9IHtcbiAgY29kZTogMTAwMixcbiAgbWVzc2FnZTogXCJpbnZhbGlkIGFwaSBrZXkgaWRcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX1NFU1NJT05fVE9LRU4gPSB7XG4gIGNvZGU6IDEwMDMsXG4gIG1lc3NhZ2U6IFwiaW52YWxpZCBzZXNzaW9uIHRva2VuXCIsXG59O1xuXG5leHBvcnQgY29uc3QgSU5WQUxJRF9BVVRIT1JJWkFUSU9OID0ge1xuICBjb2RlOiAxMDA0LFxuICBtZXNzYWdlOiBcImludmFsaWQgYXV0aG9yaXphdGlvblwiLFxufTtcblxuZXhwb3J0IGNvbnN0IEJMT0NLX0xJU1RFRF9VU0VSID0ge1xuICBjb2RlOiAxMDA1LFxuICBtZXNzYWdlOiBcImludmFsaWQgYXV0aG9yaXphdGlvblwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFVTRVJfRE9FU19OT1RfRVhJU1QgPSB7XG4gIGNvZGU6IDEwMDYsXG4gIG1lc3NhZ2U6IFwiVXNlciBkb2VzIG5vdCBleGlzdFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOQ09SUkVDVF9PVFAgPSB7XG4gIGNvZGU6IDEwMDcsXG4gIG1lc3NhZ2U6IFwiSW5jb3JyZWN0IE9UUFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfUEFTU1dPUkQgPSB7XG4gIGNvZGU6IDEwMDgsXG4gIG1lc3NhZ2U6IFwiSW52YWxpZCBQYXNzd29yZFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfU0NIRU1BID0ge1xuICBjb2RlOiAxMDA5LFxuICBtZXNzYWdlOiBcIkludmFsaWQgc2NoZW1hIG9yIE1pc3NpbmcgRGF0YSBzZW50XCIsXG59O1xuXG5leHBvcnQgY29uc3QgREFUQV9OT1RfRk9VTkQgPSB7XG4gIGNvZGU6IDEwMTAsXG4gIG1lc3NhZ2U6IFwiRGF0YSBub3QgZm91bmRcIixcbn07XG5cbmV4cG9ydCBjb25zdCBNT05HT19FUlJPUiA9IHtcbiAgY29kZTogMTAxMSxcbiAgbWVzc2FnZTogXCJFcnJvciBpbiBNb25nbyBRdWVyeVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IERBVEFfQUxSRUFEWV9FWElTVFMgPSB7XG4gIGNvZGU6IDEwMTIsXG4gIG1lc3NhZ2U6IFwiRGF0YSBhbHJlYWR5IGV4aXN0XCIsXG59O1xuXG5leHBvcnQgY29uc3QgRVhQSVJFRF9VU0VSID0ge1xuICBjb2RlOiAxMDE2LFxuICBtZXNzYWdlOiBcIkV4cGlyZWQgdXNlclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IE5PVF9SRUdJU1RFUkVEX1VTRVIgPSB7XG4gIGNvZGU6IDEwMTcsXG4gIG1lc3NhZ2U6IFwiTm90IHJlZ2lzdGVyZWQgdXNlclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFJFRElTX0NPTk5FQ1RJT05fRVJST1IgPSB7XG4gIGNvZGU6IDEwMTgsXG4gIG1lc3NhZ2U6IFwiUmVkaXMgY29ubmVjdGlvbiBlcnJvclwiLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUc7RUFDakNDLElBQUksRUFBRSxJQUQyQjtFQUVqQ0MsT0FBTyxFQUFFO0FBRndCLENBQTVCOztBQUtBLE1BQU1DLGVBQWUsR0FBRztFQUM3QkYsSUFBSSxFQUFFLElBRHVCO0VBRTdCQyxPQUFPLEVBQUU7QUFGb0IsQ0FBeEI7O0FBS0EsTUFBTUUsZUFBZSxHQUFHO0VBQzdCSCxJQUFJLEVBQUUsSUFEdUI7RUFFN0JDLE9BQU8sRUFBRTtBQUZvQixDQUF4Qjs7QUFLQSxNQUFNRyxxQkFBcUIsR0FBRztFQUNuQ0osSUFBSSxFQUFFLElBRDZCO0VBRW5DQyxPQUFPLEVBQUU7QUFGMEIsQ0FBOUI7O0FBS0EsTUFBTUkscUJBQXFCLEdBQUc7RUFDbkNMLElBQUksRUFBRSxJQUQ2QjtFQUVuQ0MsT0FBTyxFQUFFO0FBRjBCLENBQTlCOztBQUtBLE1BQU1LLGlCQUFpQixHQUFHO0VBQy9CTixJQUFJLEVBQUUsSUFEeUI7RUFFL0JDLE9BQU8sRUFBRTtBQUZzQixDQUExQjs7QUFLQSxNQUFNTSxtQkFBbUIsR0FBRztFQUNqQ1AsSUFBSSxFQUFFLElBRDJCO0VBRWpDQyxPQUFPLEVBQUU7QUFGd0IsQ0FBNUI7O0FBS0EsTUFBTU8sYUFBYSxHQUFHO0VBQzNCUixJQUFJLEVBQUUsSUFEcUI7RUFFM0JDLE9BQU8sRUFBRTtBQUZrQixDQUF0Qjs7QUFLQSxNQUFNUSxnQkFBZ0IsR0FBRztFQUM5QlQsSUFBSSxFQUFFLElBRHdCO0VBRTlCQyxPQUFPLEVBQUU7QUFGcUIsQ0FBekI7O0FBS0EsTUFBTVMsY0FBYyxHQUFHO0VBQzVCVixJQUFJLEVBQUUsSUFEc0I7RUFFNUJDLE9BQU8sRUFBRTtBQUZtQixDQUF2Qjs7QUFLQSxNQUFNVSxjQUFjLEdBQUc7RUFDNUJYLElBQUksRUFBRSxJQURzQjtFQUU1QkMsT0FBTyxFQUFFO0FBRm1CLENBQXZCOztBQUtBLE1BQU1XLFdBQVcsR0FBRztFQUN6QlosSUFBSSxFQUFFLElBRG1CO0VBRXpCQyxPQUFPLEVBQUU7QUFGZ0IsQ0FBcEI7O0FBS0EsTUFBTVksbUJBQW1CLEdBQUc7RUFDakNiLElBQUksRUFBRSxJQUQyQjtFQUVqQ0MsT0FBTyxFQUFFO0FBRndCLENBQTVCOztBQUtBLE1BQU1hLFlBQVksR0FBRztFQUMxQmQsSUFBSSxFQUFFLElBRG9CO0VBRTFCQyxPQUFPLEVBQUU7QUFGaUIsQ0FBckI7O0FBS0EsTUFBTWMsbUJBQW1CLEdBQUc7RUFDakNmLElBQUksRUFBRSxJQUQyQjtFQUVqQ0MsT0FBTyxFQUFFO0FBRndCLENBQTVCOztBQUtBLE1BQU1lLHNCQUFzQixHQUFHO0VBQ3BDaEIsSUFBSSxFQUFFLElBRDhCO0VBRXBDQyxPQUFPLEVBQUU7QUFGMkIsQ0FBL0IifQ==","map":{"version":3,"names":["INTERNAL_SERVER_ERR","code","message","INVALID_REQUEST","INVALID_API_KEY","INVALID_SESSION_TOKEN","INVALID_AUTHORIZATION","BLOCK_LISTED_USER","USER_DOES_NOT_EXIST","INCORRECT_OTP","INVALID_PASSWORD","INVALID_SCHEMA","DATA_NOT_FOUND","MONGO_ERROR","DATA_ALREADY_EXISTS","EXPIRED_USER","NOT_REGISTERED_USER","REDIS_CONNECTION_ERROR"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/","sources":["ErrorConstants.js"],"sourcesContent":["export const INTERNAL_SERVER_ERR = {\n  code: 1000,\n  message: \"Internal Server Error. Something went wrong!\",\n};\n\nexport const INVALID_REQUEST = {\n  code: 1001,\n  message: \"invalid request\",\n};\n\nexport const INVALID_API_KEY = {\n  code: 1002,\n  message: \"invalid api key id\",\n};\n\nexport const INVALID_SESSION_TOKEN = {\n  code: 1003,\n  message: \"invalid session token\",\n};\n\nexport const INVALID_AUTHORIZATION = {\n  code: 1004,\n  message: \"invalid authorization\",\n};\n\nexport const BLOCK_LISTED_USER = {\n  code: 1005,\n  message: \"invalid authorization\",\n};\n\nexport const USER_DOES_NOT_EXIST = {\n  code: 1006,\n  message: \"User does not exist\",\n};\n\nexport const INCORRECT_OTP = {\n  code: 1007,\n  message: \"Incorrect OTP\",\n};\n\nexport const INVALID_PASSWORD = {\n  code: 1008,\n  message: \"Invalid Password\",\n};\n\nexport const INVALID_SCHEMA = {\n  code: 1009,\n  message: \"Invalid schema or Missing Data sent\",\n};\n\nexport const DATA_NOT_FOUND = {\n  code: 1010,\n  message: \"Data not found\",\n};\n\nexport const MONGO_ERROR = {\n  code: 1011,\n  message: \"Error in Mongo Query\",\n};\n\nexport const DATA_ALREADY_EXISTS = {\n  code: 1012,\n  message: \"Data already exist\",\n};\n\nexport const EXPIRED_USER = {\n  code: 1016,\n  message: \"Expired user\",\n};\n\nexport const NOT_REGISTERED_USER = {\n  code: 1017,\n  message: \"Not registered user\",\n};\n\nexport const REDIS_CONNECTION_ERROR = {\n  code: 1018,\n  message: \"Redis connection error\",\n};\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG;EACjCC,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMC,eAAe,GAAG;EAC7BF,IAAI,EAAE,IADuB;EAE7BC,OAAO,EAAE;AAFoB,CAAxB;;AAKA,MAAME,eAAe,GAAG;EAC7BH,IAAI,EAAE,IADuB;EAE7BC,OAAO,EAAE;AAFoB,CAAxB;;AAKA,MAAMG,qBAAqB,GAAG;EACnCJ,IAAI,EAAE,IAD6B;EAEnCC,OAAO,EAAE;AAF0B,CAA9B;;AAKA,MAAMI,qBAAqB,GAAG;EACnCL,IAAI,EAAE,IAD6B;EAEnCC,OAAO,EAAE;AAF0B,CAA9B;;AAKA,MAAMK,iBAAiB,GAAG;EAC/BN,IAAI,EAAE,IADyB;EAE/BC,OAAO,EAAE;AAFsB,CAA1B;;AAKA,MAAMM,mBAAmB,GAAG;EACjCP,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMO,aAAa,GAAG;EAC3BR,IAAI,EAAE,IADqB;EAE3BC,OAAO,EAAE;AAFkB,CAAtB;;AAKA,MAAMQ,gBAAgB,GAAG;EAC9BT,IAAI,EAAE,IADwB;EAE9BC,OAAO,EAAE;AAFqB,CAAzB;;AAKA,MAAMS,cAAc,GAAG;EAC5BV,IAAI,EAAE,IADsB;EAE5BC,OAAO,EAAE;AAFmB,CAAvB;;AAKA,MAAMU,cAAc,GAAG;EAC5BX,IAAI,EAAE,IADsB;EAE5BC,OAAO,EAAE;AAFmB,CAAvB;;AAKA,MAAMW,WAAW,GAAG;EACzBZ,IAAI,EAAE,IADmB;EAEzBC,OAAO,EAAE;AAFgB,CAApB;;AAKA,MAAMY,mBAAmB,GAAG;EACjCb,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMa,YAAY,GAAG;EAC1Bd,IAAI,EAAE,IADoB;EAE1BC,OAAO,EAAE;AAFiB,CAArB;;AAKA,MAAMc,mBAAmB,GAAG;EACjCf,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMe,sBAAsB,GAAG;EACpChB,IAAI,EAAE,IAD8B;EAEpCC,OAAO,EAAE;AAF2B,CAA/B"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/AbstractModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mongoUpsertOne = exports.mongoUpdateOne = exports.mongoUpdateMany = exports.mongoInsertOne = exports.mongoInsertMany = exports.mongoFindWithSort = exports.mongoFindOneWithOutLean = exports.mongoFindOneAndUpdate = exports.mongoFindOneAndRemove = exports.mongoFindOne = exports.mongoFindMany = exports.mongoFindCursor = exports.mongoDistinct = exports.mongoDeleteOne = exports.mongoDeleteMany = exports.mongoCount = exports.mongoAggregate = void 0;\n\nconst mongoFindOne = async (col, findCondition, selectCondition = {}) => {\n  const result = await col.findOne(findCondition).select(selectCondition).lean().exec();\n  return result;\n};\n\nexports.mongoFindOne = mongoFindOne;\n\nconst mongoFindOneWithOutLean = async (col, findCondition, selectCondition = {}) => {\n  const result = await col.findOne(findCondition).select(selectCondition).exec();\n  return result;\n};\n\nexports.mongoFindOneWithOutLean = mongoFindOneWithOutLean;\n\nconst mongoFindWithSort = async (col, findCondition, selectCondition = {}, limit = 0, sortCondition = {\n  _id: -1\n}) => {\n  const result = await col.find(findCondition).select(selectCondition).sort(sortCondition).limit(limit).lean().exec();\n  return result;\n};\n\nexports.mongoFindWithSort = mongoFindWithSort;\n\nconst mongoFindMany = async (col, findCondition, selectCondition = {}, limit = 0) => {\n  const result = await col.find(findCondition).select(selectCondition).limit(limit).lean().exec();\n  return result;\n};\n\nexports.mongoFindMany = mongoFindMany;\n\nconst mongoFindCursor = async (col, findCondition, selectCondition = {}, limit = 0) => {\n  const cursor = await col.find(findCondition).select(selectCondition).limit(limit).lean().cursor();\n  return cursor;\n};\n\nexports.mongoFindCursor = mongoFindCursor;\n\nconst mongoCount = async (col, findCondition) => {\n  const count = await col.count(findCondition);\n  return count;\n};\n\nexports.mongoCount = mongoCount;\n\nconst mongoUpdateOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition);\n};\n\nexports.mongoUpdateOne = mongoUpdateOne;\n\nconst mongoUpsertOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, {\n    upsert: true\n  });\n};\n\nexports.mongoUpsertOne = mongoUpsertOne;\n\nconst mongoUpdateMany = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, {\n    multi: true\n  });\n};\n\nexports.mongoUpdateMany = mongoUpdateMany;\n\nconst mongoAggregate = async (col, aggregateCondition) => {\n  const result = col.aggregate(aggregateCondition);\n  return result;\n};\n\nexports.mongoAggregate = mongoAggregate;\n\nconst mongoDeleteOne = async (col, findCondition) => {\n  await col.deleteOne(findCondition);\n};\n\nexports.mongoDeleteOne = mongoDeleteOne;\n\nconst mongoDeleteMany = async (col, findCondition) => {\n  await col.deleteMany(findCondition);\n};\n\nexports.mongoDeleteMany = mongoDeleteMany;\n\nconst mongoInsertOne = async (col, doc) => {\n  const moongooseDoc = col(doc);\n  await moongooseDoc.save();\n};\n\nexports.mongoInsertOne = mongoInsertOne;\n\nconst mongoInsertMany = async (col, docs) => {\n  await col.insertMany(docs);\n};\n\nexports.mongoInsertMany = mongoInsertMany;\n\nconst mongoDistinct = async (col, string, findCondition) => {\n  const result = await col.distinct(string, findCondition);\n  return result;\n};\n\nexports.mongoDistinct = mongoDistinct;\n\nconst mongoFindOneAndUpdate = async (col, findCondition, updateCondition, returnCondition) => {\n  const result = await col.findOneAndUpdate(findCondition, updateCondition, returnCondition);\n  return result;\n};\n\nexports.mongoFindOneAndUpdate = mongoFindOneAndUpdate;\n\nconst mongoFindOneAndRemove = async (col, findCondition) => {\n  const result = await col.findOneAndRemove(findCondition);\n  return result;\n};\n\nexports.mongoFindOneAndRemove = mongoFindOneAndRemove;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb0ZpbmRPbmUiLCJjb2wiLCJmaW5kQ29uZGl0aW9uIiwic2VsZWN0Q29uZGl0aW9uIiwicmVzdWx0IiwiZmluZE9uZSIsInNlbGVjdCIsImxlYW4iLCJleGVjIiwibW9uZ29GaW5kT25lV2l0aE91dExlYW4iLCJtb25nb0ZpbmRXaXRoU29ydCIsImxpbWl0Iiwic29ydENvbmRpdGlvbiIsIl9pZCIsImZpbmQiLCJzb3J0IiwibW9uZ29GaW5kTWFueSIsIm1vbmdvRmluZEN1cnNvciIsImN1cnNvciIsIm1vbmdvQ291bnQiLCJjb3VudCIsIm1vbmdvVXBkYXRlT25lIiwidXBkYXRlQ29uZGl0aW9uIiwidXBkYXRlT25lIiwibW9uZ29VcHNlcnRPbmUiLCJ1cHNlcnQiLCJtb25nb1VwZGF0ZU1hbnkiLCJtdWx0aSIsIm1vbmdvQWdncmVnYXRlIiwiYWdncmVnYXRlQ29uZGl0aW9uIiwiYWdncmVnYXRlIiwibW9uZ29EZWxldGVPbmUiLCJkZWxldGVPbmUiLCJtb25nb0RlbGV0ZU1hbnkiLCJkZWxldGVNYW55IiwibW9uZ29JbnNlcnRPbmUiLCJkb2MiLCJtb29uZ29vc2VEb2MiLCJzYXZlIiwibW9uZ29JbnNlcnRNYW55IiwiZG9jcyIsImluc2VydE1hbnkiLCJtb25nb0Rpc3RpbmN0Iiwic3RyaW5nIiwiZGlzdGluY3QiLCJtb25nb0ZpbmRPbmVBbmRVcGRhdGUiLCJyZXR1cm5Db25kaXRpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwibW9uZ29GaW5kT25lQW5kUmVtb3ZlIiwiZmluZE9uZUFuZFJlbW92ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL21vZGVscy8iLCJzb3VyY2VzIjpbIkFic3RyYWN0TW9kZWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBtb25nb0ZpbmRPbmUgPSBhc3luYyAoXG4gIGNvbCxcbiAgZmluZENvbmRpdGlvbixcbiAgc2VsZWN0Q29uZGl0aW9uID0ge30sXG4pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sXG4gICAgLmZpbmRPbmUoZmluZENvbmRpdGlvbilcbiAgICAuc2VsZWN0KHNlbGVjdENvbmRpdGlvbilcbiAgICAubGVhbigpXG4gICAgLmV4ZWMoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0ZpbmRPbmVXaXRoT3V0TGVhbiA9IGFzeW5jIChcbiAgY29sLFxuICBmaW5kQ29uZGl0aW9uLFxuICBzZWxlY3RDb25kaXRpb24gPSB7fSxcbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xcbiAgICAuZmluZE9uZShmaW5kQ29uZGl0aW9uKVxuICAgIC5zZWxlY3Qoc2VsZWN0Q29uZGl0aW9uKVxuICAgIC5leGVjKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29GaW5kV2l0aFNvcnQgPSBhc3luYyAoXG4gIGNvbCxcbiAgZmluZENvbmRpdGlvbixcbiAgc2VsZWN0Q29uZGl0aW9uID0ge30sXG4gIGxpbWl0ID0gMCxcbiAgc29ydENvbmRpdGlvbiA9IHsgX2lkOiAtMSB9LFxuKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbFxuICAgIC5maW5kKGZpbmRDb25kaXRpb24pXG4gICAgLnNlbGVjdChzZWxlY3RDb25kaXRpb24pXG4gICAgLnNvcnQoc29ydENvbmRpdGlvbilcbiAgICAubGltaXQobGltaXQpXG4gICAgLmxlYW4oKVxuICAgIC5leGVjKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29GaW5kTWFueSA9IGFzeW5jIChcbiAgY29sLFxuICBmaW5kQ29uZGl0aW9uLFxuICBzZWxlY3RDb25kaXRpb24gPSB7fSxcbiAgbGltaXQgPSAwLFxuKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbFxuICAgIC5maW5kKGZpbmRDb25kaXRpb24pXG4gICAgLnNlbGVjdChzZWxlY3RDb25kaXRpb24pXG4gICAgLmxpbWl0KGxpbWl0KVxuICAgIC5sZWFuKClcbiAgICAuZXhlYygpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRmluZEN1cnNvciA9IGFzeW5jIChcbiAgY29sLFxuICBmaW5kQ29uZGl0aW9uLFxuICBzZWxlY3RDb25kaXRpb24gPSB7fSxcbiAgbGltaXQgPSAwLFxuKSA9PiB7XG4gIGNvbnN0IGN1cnNvciA9IGF3YWl0IGNvbFxuICAgIC5maW5kKGZpbmRDb25kaXRpb24pXG4gICAgLnNlbGVjdChzZWxlY3RDb25kaXRpb24pXG4gICAgLmxpbWl0KGxpbWl0KVxuICAgIC5sZWFuKClcbiAgICAuY3Vyc29yKCk7XG4gIHJldHVybiBjdXJzb3I7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29Db3VudCA9IGFzeW5jIChjb2wsIGZpbmRDb25kaXRpb24pID0+IHtcbiAgY29uc3QgY291bnQgPSBhd2FpdCBjb2wuY291bnQoZmluZENvbmRpdGlvbik7XG4gIHJldHVybiBjb3VudDtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb1VwZGF0ZU9uZSA9IGFzeW5jIChjb2wsIGZpbmRDb25kaXRpb24sIHVwZGF0ZUNvbmRpdGlvbikgPT4ge1xuICBhd2FpdCBjb2wudXBkYXRlT25lKGZpbmRDb25kaXRpb24sIHVwZGF0ZUNvbmRpdGlvbik7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29VcHNlcnRPbmUgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24pID0+IHtcbiAgYXdhaXQgY29sLnVwZGF0ZU9uZShmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24sIHsgdXBzZXJ0OiB0cnVlIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvVXBkYXRlTWFueSA9IGFzeW5jIChjb2wsIGZpbmRDb25kaXRpb24sIHVwZGF0ZUNvbmRpdGlvbikgPT4ge1xuICBhd2FpdCBjb2wudXBkYXRlT25lKGZpbmRDb25kaXRpb24sIHVwZGF0ZUNvbmRpdGlvbiwgeyBtdWx0aTogdHJ1ZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0FnZ3JlZ2F0ZSA9IGFzeW5jIChjb2wsIGFnZ3JlZ2F0ZUNvbmRpdGlvbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBjb2wuYWdncmVnYXRlKGFnZ3JlZ2F0ZUNvbmRpdGlvbik7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29EZWxldGVPbmUgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uKSA9PiB7XG4gIGF3YWl0IGNvbC5kZWxldGVPbmUoZmluZENvbmRpdGlvbik7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29EZWxldGVNYW55ID0gYXN5bmMgKGNvbCwgZmluZENvbmRpdGlvbikgPT4ge1xuICBhd2FpdCBjb2wuZGVsZXRlTWFueShmaW5kQ29uZGl0aW9uKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0luc2VydE9uZSA9IGFzeW5jIChjb2wsIGRvYykgPT4ge1xuICBjb25zdCBtb29uZ29vc2VEb2MgPSBjb2woZG9jKTtcbiAgYXdhaXQgbW9vbmdvb3NlRG9jLnNhdmUoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0luc2VydE1hbnkgPSBhc3luYyAoY29sLCBkb2NzKSA9PiB7XG4gIGF3YWl0IGNvbC5pbnNlcnRNYW55KGRvY3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRGlzdGluY3QgPSBhc3luYyAoY29sLCBzdHJpbmcsIGZpbmRDb25kaXRpb24pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sLmRpc3RpbmN0KHN0cmluZywgZmluZENvbmRpdGlvbik7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29GaW5kT25lQW5kVXBkYXRlID0gYXN5bmMgKFxuICBjb2wsXG4gIGZpbmRDb25kaXRpb24sXG4gIHVwZGF0ZUNvbmRpdGlvbixcbiAgcmV0dXJuQ29uZGl0aW9uLFxuKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbC5maW5kT25lQW5kVXBkYXRlKFxuICAgIGZpbmRDb25kaXRpb24sXG4gICAgdXBkYXRlQ29uZGl0aW9uLFxuICAgIHJldHVybkNvbmRpdGlvbixcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0ZpbmRPbmVBbmRSZW1vdmUgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbC5maW5kT25lQW5kUmVtb3ZlKGZpbmRDb25kaXRpb24pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFlBQVksR0FBRyxPQUMxQkMsR0FEMEIsRUFFMUJDLGFBRjBCLEVBRzFCQyxlQUFlLEdBQUcsRUFIUSxLQUl2QjtFQUNILE1BQU1DLE1BQU0sR0FBRyxNQUFNSCxHQUFHLENBQ3JCSSxPQURrQixDQUNWSCxhQURVLEVBRWxCSSxNQUZrQixDQUVYSCxlQUZXLEVBR2xCSSxJQUhrQixHQUlsQkMsSUFKa0IsRUFBckI7RUFLQSxPQUFPSixNQUFQO0FBQ0QsQ0FYTTs7OztBQWFBLE1BQU1LLHVCQUF1QixHQUFHLE9BQ3JDUixHQURxQyxFQUVyQ0MsYUFGcUMsRUFHckNDLGVBQWUsR0FBRyxFQUhtQixLQUlsQztFQUNILE1BQU1DLE1BQU0sR0FBRyxNQUFNSCxHQUFHLENBQ3JCSSxPQURrQixDQUNWSCxhQURVLEVBRWxCSSxNQUZrQixDQUVYSCxlQUZXLEVBR2xCSyxJQUhrQixFQUFyQjtFQUlBLE9BQU9KLE1BQVA7QUFDRCxDQVZNOzs7O0FBWUEsTUFBTU0saUJBQWlCLEdBQUcsT0FDL0JULEdBRCtCLEVBRS9CQyxhQUYrQixFQUcvQkMsZUFBZSxHQUFHLEVBSGEsRUFJL0JRLEtBQUssR0FBRyxDQUp1QixFQUsvQkMsYUFBYSxHQUFHO0VBQUVDLEdBQUcsRUFBRSxDQUFDO0FBQVIsQ0FMZSxLQU01QjtFQUNILE1BQU1ULE1B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","map":{"version":3,"names":["mongoFindOne","col","findCondition","selectCondition","result","findOne","select","lean","exec","mongoFindOneWithOutLean","mongoFindWithSort","limit","sortCondition","_id","find","sort","mongoFindMany","mongoFindCursor","cursor","mongoCount","count","mongoUpdateOne","updateCondition","updateOne","mongoUpsertOne","upsert","mongoUpdateMany","multi","mongoAggregate","aggregateCondition","aggregate","mongoDeleteOne","deleteOne","mongoDeleteMany","deleteMany","mongoInsertOne","doc","moongooseDoc","save","mongoInsertMany","docs","insertMany","mongoDistinct","string","distinct","mongoFindOneAndUpdate","returnCondition","findOneAndUpdate","mongoFindOneAndRemove","findOneAndRemove"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/","sources":["AbstractModels.js"],"sourcesContent":["export const mongoFindOne = async (\n  col,\n  findCondition,\n  selectCondition = {},\n) => {\n  const result = await col\n    .findOne(findCondition)\n    .select(selectCondition)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindOneWithOutLean = async (\n  col,\n  findCondition,\n  selectCondition = {},\n) => {\n  const result = await col\n    .findOne(findCondition)\n    .select(selectCondition)\n    .exec();\n  return result;\n};\n\nexport const mongoFindWithSort = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n  sortCondition = { _id: -1 },\n) => {\n  const result = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .sort(sortCondition)\n    .limit(limit)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindMany = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n) => {\n  const result = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .limit(limit)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindCursor = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n) => {\n  const cursor = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .limit(limit)\n    .lean()\n    .cursor();\n  return cursor;\n};\n\nexport const mongoCount = async (col, findCondition) => {\n  const count = await col.count(findCondition);\n  return count;\n};\n\nexport const mongoUpdateOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition);\n};\n\nexport const mongoUpsertOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, { upsert: true });\n};\n\nexport const mongoUpdateMany = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, { multi: true });\n};\n\nexport const mongoAggregate = async (col, aggregateCondition) => {\n  const result = col.aggregate(aggregateCondition);\n  return result;\n};\n\nexport const mongoDeleteOne = async (col, findCondition) => {\n  await col.deleteOne(findCondition);\n};\n\nexport const mongoDeleteMany = async (col, findCondition) => {\n  await col.deleteMany(findCondition);\n};\n\nexport const mongoInsertOne = async (col, doc) => {\n  const moongooseDoc = col(doc);\n  await moongooseDoc.save();\n};\n\nexport const mongoInsertMany = async (col, docs) => {\n  await col.insertMany(docs);\n};\n\nexport const mongoDistinct = async (col, string, findCondition) => {\n  const result = await col.distinct(string, findCondition);\n  return result;\n};\n\nexport const mongoFindOneAndUpdate = async (\n  col,\n  findCondition,\n  updateCondition,\n  returnCondition,\n) => {\n  const result = await col.findOneAndUpdate(\n    findCondition,\n    updateCondition,\n    returnCondition,\n  );\n  return result;\n};\n\nexport const mongoFindOneAndRemove = async (col, findCondition) => {\n  const result = await col.findOneAndRemove(findCondition);\n  return result;\n};\n"],"mappings":"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"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/Constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGGER_USER_IP_ADDRESS = exports.LOGGER_USER_DETAILS = exports.LOGGER_URL_REDIRECTION_OBJ = exports.LOGGER_RESPONSE_TIME = exports.LOGGER_RESPONSE_PAYLOAD = exports.LOGGER_REQUEST_START_TIME = exports.LOGGER_REQUEST_PAYLOAD = exports.LOGGER_CORRELATIONID = exports.LOGGER_API_ROUTE = void 0;\nconst LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexports.LOGGER_USER_DETAILS = LOGGER_USER_DETAILS;\nconst LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexports.LOGGER_REQUEST_PAYLOAD = LOGGER_REQUEST_PAYLOAD;\nconst LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexports.LOGGER_RESPONSE_PAYLOAD = LOGGER_RESPONSE_PAYLOAD;\nconst LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexports.LOGGER_REQUEST_START_TIME = LOGGER_REQUEST_START_TIME;\nconst LOGGER_API_ROUTE = \"loggerRoute\";\nexports.LOGGER_API_ROUTE = LOGGER_API_ROUTE;\nconst LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexports.LOGGER_USER_IP_ADDRESS = LOGGER_USER_IP_ADDRESS;\nconst LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexports.LOGGER_CORRELATIONID = LOGGER_CORRELATIONID;\nconst LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexports.LOGGER_RESPONSE_TIME = LOGGER_RESPONSE_TIME;\nconst LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\nexports.LOGGER_URL_REDIRECTION_OBJ = LOGGER_URL_REDIRECTION_OBJ;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMT0dHRVJfVVNFUl9ERVRBSUxTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFUVVFU1RfU1RBUlRfVElNRSIsIkxPR0dFUl9BUElfUk9VVEUiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJMT0dHRVJfUkVTUE9OU0VfVElNRSIsIkxPR0dFUl9VUkxfUkVESVJFQ1RJT05fT0JKIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29uc3RhbnRzLyIsInNvdXJjZXMiOlsiQ29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBMT0dHRVJfVVNFUl9ERVRBSUxTID0gXCJsb2dnZXJVc2VyRGV0YWlsc1wiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVFVRVNUX1BBWUxPQUQgPSBcImxvZ2dlclJlcXVlc3RQYXlsb2FkXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX1JFU1BPTlNFX1BBWUxPQUQgPSBcImxvZ2dlclJlc3BvbnNlUGF5bG9hZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVFVRVNUX1NUQVJUX1RJTUUgPSBcImxvZ2dlclJlcXVlc3RTdGFydFRpbWVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfQVBJX1JPVVRFID0gXCJsb2dnZXJSb3V0ZVwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9VU0VSX0lQX0FERFJFU1MgPSBcImxvZ2dlclVzZXJJcEFkZHJlc3NcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfQ09SUkVMQVRJT05JRCA9IFwibG9nZ2VyQ29ycmVsYXRpb25JZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVNQT05TRV9USU1FID0gXCJsb2dnZXJSZXNwb25zZVRpbWVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfVVJMX1JFRElSRUNUSU9OX09CSiA9IFwibG9nZ2VyVXJsUmVkaXJlY3Rpb25PYmpcIjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUcsbUJBQTVCOztBQUNBLE1BQU1DLHNCQUFzQixHQUFHLHNCQUEvQjs7QUFDQSxNQUFNQyx1QkFBdUIsR0FBRyx1QkFBaEM7O0FBQ0EsTUFBTUMseUJBQXlCLEdBQUcsd0JBQWxDOztBQUNBLE1BQU1DLGdCQUFnQixHQUFHLGFBQXpCOztBQUNBLE1BQU1DLHNCQUFzQixHQUFHLHFCQUEvQjs7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxxQkFBN0I7O0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcsb0JBQTdCOztBQUNBLE1BQU1DLDBCQUEwQixHQUFHLHlCQUFuQyJ9","map":{"version":3,"names":["LOGGER_USER_DETAILS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","LOGGER_REQUEST_START_TIME","LOGGER_API_ROUTE","LOGGER_USER_IP_ADDRESS","LOGGER_CORRELATIONID","LOGGER_RESPONSE_TIME","LOGGER_URL_REDIRECTION_OBJ"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/","sources":["Constants.js"],"sourcesContent":["export const LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexport const LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexport const LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexport const LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexport const LOGGER_API_ROUTE = \"loggerRoute\";\nexport const LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexport const LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexport const LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexport const LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG,mBAA5B;;AACA,MAAMC,sBAAsB,GAAG,sBAA/B;;AACA,MAAMC,uBAAuB,GAAG,uBAAhC;;AACA,MAAMC,yBAAyB,GAAG,wBAAlC;;AACA,MAAMC,gBAAgB,GAAG,aAAzB;;AACA,MAAMC,sBAAsB,GAAG,qBAA/B;;AACA,MAAMC,oBAAoB,GAAG,qBAA7B;;AACA,MAAMC,oBAAoB,GAAG,oBAA7B;;AACA,MAAMC,0BAA0B,GAAG,yBAAnC"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/MainDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  _mongoose.default.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwibW9uZ29vc2UiLCJzZXQiLCJjb2xsZWN0aW9uTmFtZSIsIm1ldGhvZE5hbWUiLCJtZXRob2RBcmdzIiwibG9nIiwiam9pbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29ubmVjdGlvbnMvIiwic291cmNlcyI6WyJNYWluRGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWltcG9ydC1tb2R1bGUtZXhwb3J0cyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxubGV0IGNvbm47XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBSRUNPTk5FQ1RfVElNRSA9IDUwMDA7XG4gIGNvbnN0IENPTk5fVVJMID0gY29uZmlnLm1haW5EYmNvbmZpZy5jb25uU3RyaW5nO1xuXG4gIGlmIChjb25uKSB7XG4gICAgcmV0dXJuIGNvbm47XG4gIH1cblxuICBtb25nb29zZS5zZXQoXCJkZWJ1Z1wiLCAoY29sbGVjdGlvbk5hbWUsIG1ldGhvZE5hbWUsIC4uLm1ldGhvZEFyZ3MpID0+IHtcbiAgICAvLyB1c2UgY3VzdG9tIGZ1bmN0aW9uIHRvIGxvZyBjb2xsZWN0aW9uIG1ldGhvZHMgKyBhcmd1bWVudHNcbiAgICBsb2coXCJpbmZvXCIsIGBNb25nb29zZTogJHtjb2xsZWN0aW9uTmFtZX0uJHttZXRob2ROYW1lfSgke21ldGhvZEFyZ3Muam9pbihcIiwgXCIpfSlgKTtcbiAgfSk7XG5cbiAgbG9nKFwiaW5mb1wiLCBgQ09OTl9VUkwgdG8gY29ubmVjdCB0byBtYWluIGRhdGFiYXNlICR7Q09OTl9VUkx9YCk7XG4gIGNvbm4gPSBtb25nb29zZS5jcmVhdGVDb25uZWN0aW9uKENPTk5fVVJMKTtcblxuICAvLyAgTW9uZ29vc2UgQ29ubmVjdGlvbiBFdmVudHNcbiAgY29ubi5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub25jZShcIm9wZW5cIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwib3BlblwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGluZ1wiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0aW5nXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJyZWNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJyZWNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiZGlzY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogYGRpc2Nvbm5lY3RlZCBSZWNvbm5lY3RpbmcgaW4gJHtSRUNPTk5FQ1RfVElNRSAvIDEwMDB9cy4uLmAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F1dG9tYXR0aWMvbW9uZ29vc2UvaXNzdWVzLzUxNjkjaXNzdWVjb21tZW50LTMxNDk4MzExM1xuICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb25uLm9wZW5VcmkoQ09OTl9VUkwpLmNhdGNoKCgpID0+IHsgfSk7IH0sIFJFQ09OTkVDVF9USU1FKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gY29ubjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUhBO0FBS0EsSUFBSUEsSUFBSjs7QUFFTyxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRyxJQUF2QjtFQUNBLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsWUFBUCxDQUFvQkMsVUFBckM7O0VBRUEsSUFBSU4sSUFBSixFQUFVO0lBQ1IsT0FBT0EsSUFBUDtFQUNEOztFQUVETyxrQkFBU0MsR0FBVCxDQUFhLE9BQWIsRUFBc0IsQ0FBQ0MsY0FBRCxFQUFpQkMsVUFBakIsRUFBNkIsR0FBR0MsVUFBaEMsS0FBK0M7SUFDbkU7SUFDQUMsR0FBRyxDQUFDLE1BQUQsRUFBVSxhQUFZSCxjQUFlLElBQUdDLFVBQVcsSUFBR0MsVUFBVSxDQUFDRSxJQUFYLENBQWdCLElBQWhCLENBQXNCLEdBQTVFLENBQUg7RUFDRCxDQUhEOztFQUtBRCxHQUFHLENBQUMsTUFBRCxFQUFVLHdDQUF1Q1QsUUFBUyxFQUExRCxDQUFIO0VBQ0FILElBQUksR0FBR08sa0JBQVNPLGdCQUFULENBQTBCWCxRQUExQixDQUFQLENBZHFCLENBZ0JyQjs7RUFDQUgsSUFBSSxDQUFDZSxFQUFMLENBQVEsT0FBUixFQUFrQkMsS0FBRCxJQUFXO0lBQzFCSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0QsQ0FGRDtFQUlBaEIsSUFBSSxDQUFDaUIsSUFBTCxDQUFVLE1BQVYsRUFBa0IsTUFBTTtJQUN0QkwsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxXQUFSLEVBQXFCLE1BQU07SUFDekJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsWUFBUixFQUFzQixNQUFNO0lBQzFCSCxHQUFHLENBQUMsTUFBRCxFQUFTO01BQUVNLGtCQUFrQixFQUFFO0lBQXRCLENBQVQsQ0FBSDtFQUNELENBRkQ7RUFJQWxCLElBQUksQ0FBQ2UsRUFBTCxDQUFRLGFBQVIsRUFBdUIsTUFBTTtJQUMzQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLE1BQU07SUFDNUJILEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRU0sa0JBQWtCLEVBQUcsZ0NBQStCaEIsY0FBYyxHQUFHLElBQUs7SUFBNUUsQ0FBVixDQUFILENBRDRCLENBRTVCOztJQUNBaUIsVUFBVSxDQUFDLE1BQU07TUFBRW5CLElBQUksQ0FBQ29CLE9BQUwsQ0FBYWpCLFFBQWIsRUFBdUJrQixLQUF2QixDQUE2QixNQUFNLENBQUcsQ0FBdEM7SUFBMEMsQ0FBbkQsRUFBcURuQixjQUFyRCxDQUFWO0VBQ0QsQ0FKRDtFQU1BLE9BQU9GLElBQVA7QUFDRDs7QUFFTSxTQUFTc0IsYUFBVCxHQUF5QjtFQUM5QixPQUFPdEIsSUFBUDtBQUNEIn0=","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","mainDbconfig","connString","mongoose","set","collectionName","methodName","methodArgs","log","join","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["MainDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  mongoose.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,YAAP,CAAoBC,UAArC;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,kBAASC,GAAT,CAAa,OAAb,EAAsB,CAACC,cAAD,EAAiBC,UAAjB,EAA6B,GAAGC,UAAhC,KAA+C;IACnE;IACAC,GAAG,CAAC,MAAD,EAAU,aAAYH,cAAe,IAAGC,UAAW,IAAGC,UAAU,CAACE,IAAX,CAAgB,IAAhB,CAAsB,GAA5E,CAAH;EACD,CAHD;;EAKAD,GAAG,CAAC,MAAD,EAAU,wCAAuCT,QAAS,EAA1D,CAAH;EACAH,IAAI,GAAGO,kBAASO,gBAAT,CAA0BX,QAA1B,CAAP,CAdqB,CAgBrB;;EACAH,IAAI,CAACe,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAhB,IAAI,CAACiB,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BhB,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAiB,UAAU,CAAC,MAAM;MAAEnB,IAAI,CAACoB,OAAL,CAAajB,QAAb,EAAuBkB,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDnB,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASsB,aAAT,GAAyB;EAC9B,OAAOtB,IAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Users = exports.Organisations = exports.IVRVirtualProfile = exports.Clients = exports.BusinessVirtualNumbers = exports.BusinessDIDNumbers = exports.BusinessCalls = void 0;\n\nvar mainDbConnection = _interopRequireWildcard(require(\"../../connections/MainDb\"));\n\nvar _ClientsSchema = _interopRequireDefault(require(\"./ClientsSchema\"));\n\nvar _UsersSchema = _interopRequireDefault(require(\"./UsersSchema\"));\n\nvar _OrganisationSchema = _interopRequireDefault(require(\"./OrganisationSchema\"));\n\nvar _IVRVirtualprofileSchema = _interopRequireDefault(require(\"./IVRVirtualprofileSchema\"));\n\nvar _BussinesscallSchema = _interopRequireDefault(require(\"./BussinesscallSchema\"));\n\nvar _BussinessDIDNumbersSchema = _interopRequireDefault(require(\"./BussinessDIDNumbersSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst conn = mainDbConnection.getDbInstance();\nconst Users = conn.model(\"Users\", _UsersSchema.default, \"Users\"); // @hotfix: Collection name is Client (singular)\n// We can use plural name through out the code (Collection name can be changed while migrating)\n\nexports.Users = Users;\nconst Clients = conn.model(\"Clients\", _ClientsSchema.default, \"Client\");\nexports.Clients = Clients;\nconst Organisations = conn.model(\"Organisations\", _OrganisationSchema.default, \"Organisations\");\nexports.Organisations = Organisations;\nconst IVRVirtualProfile = conn.model(\"IVRVirtualProfile\", _IVRVirtualprofileSchema.default, \"IVRVirtualProfile\");\nexports.IVRVirtualProfile = IVRVirtualProfile;\nconst BusinessCalls = conn.model(\"BusinessCalls\", _BussinesscallSchema.default, \"BusinessCalls\");\nexports.BusinessCalls = BusinessCalls;\nconst BusinessVirtualNumbers = conn.model(\"BusinessVirtualNumbers\", _BussinessDIDNumbersSchema.default, \"BusinessVirtualNumbers\");\nexports.BusinessVirtualNumbers = BusinessVirtualNumbers;\nconst BusinessDIDNumbers = conn.model(\"BusinessDIDNumbers\", _BussinessDIDNumbersSchema.default, \"BusinessDIDNumbers\");\nexports.BusinessDIDNumbers = BusinessDIDNumbers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwibWFpbkRiQ29ubmVjdGlvbiIsImdldERiSW5zdGFuY2UiLCJVc2VycyIsIm1vZGVsIiwiVXNlcnNTY2hlbWEiLCJDbGllbnRzIiwiQ2xpZW50c1NjaGVtYSIsIk9yZ2FuaXNhdGlvbnMiLCJPcmdhbmlzYXRpb25TY2hlbWEiLCJJVlJWaXJ0dWFsUHJvZmlsZSIsIklWUlZpcnR1YWxwcm9maWxlU2NoZW1hIiwiQnVzaW5lc3NDYWxscyIsIkJ1c3NpbmVzc2NhbGxTY2hlbWEiLCJCdXNpbmVzc1ZpcnR1YWxOdW1iZXJzIiwiQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hIiwiQnVzaW5lc3NESUROdW1iZXJzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG1haW5EYkNvbm5lY3Rpb24gZnJvbSBcIi4uLy4uL2Nvbm5lY3Rpb25zL01haW5EYlwiO1xuaW1wb3J0IENsaWVudHNTY2hlbWEgZnJvbSBcIi4vQ2xpZW50c1NjaGVtYVwiO1xuaW1wb3J0IFVzZXJzU2NoZW1hIGZyb20gXCIuL1VzZXJzU2NoZW1hXCI7XG5pbXBvcnQgT3JnYW5pc2F0aW9uU2NoZW1hIGZyb20gXCIuL09yZ2FuaXNhdGlvblNjaGVtYVwiO1xuaW1wb3J0IElWUlZpcnR1YWxwcm9maWxlU2NoZW1hIGZyb20gXCIuL0lWUlZpcnR1YWxwcm9maWxlU2NoZW1hXCI7XG5pbXBvcnQgQnVzc2luZXNzY2FsbFNjaGVtYSBmcm9tIFwiLi9CdXNzaW5lc3NjYWxsU2NoZW1hXCI7XG5pbXBvcnQgQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hIGZyb20gXCIuL0J1c3NpbmVzc0RJRE51bWJlcnNTY2hlbWFcIjtcblxuY29uc3QgY29ubiA9IG1haW5EYkNvbm5lY3Rpb24uZ2V0RGJJbnN0YW5jZSgpO1xuZXhwb3J0IGNvbnN0IFVzZXJzID0gY29ubi5tb2RlbChcIlVzZXJzXCIsIFVzZXJzU2NoZW1hLCBcIlVzZXJzXCIpO1xuLy8gQGhvdGZpeDogQ29sbGVjdGlvbiBuYW1lIGlzIENsaWVudCAoc2luZ3VsYXIpXG4vLyBXZSBjYW4gdXNlIHBsdXJhbCBuYW1lIHRocm91Z2ggb3V0IHRoZSBjb2RlIChDb2xsZWN0aW9uIG5hbWUgY2FuIGJlIGNoYW5nZWQgd2hpbGUgbWlncmF0aW5nKVxuZXhwb3J0IGNvbnN0IENsaWVudHMgPSBjb25uLm1vZGVsKFwiQ2xpZW50c1wiLCBDbGllbnRzU2NoZW1hLCBcIkNsaWVudFwiKTtcblxuZXhwb3J0IGNvbnN0IE9yZ2FuaXNhdGlvbnMgPSBjb25uLm1vZGVsKFwiT3JnYW5pc2F0aW9uc1wiLCBPcmdhbmlzYXRpb25TY2hlbWEsIFwiT3JnYW5pc2F0aW9uc1wiKTtcbmV4cG9ydCBjb25zdCBJVlJWaXJ0dWFsUHJvZmlsZSA9IGNvbm4ubW9kZWwoXCJJVlJWaXJ0dWFsUHJvZmlsZVwiLCBJVlJWaXJ0dWFscHJvZmlsZVNjaGVtYSwgXCJJVlJWaXJ0dWFsUHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBCdXNpbmVzc0NhbGxzID0gY29ubi5tb2RlbChcIkJ1c2luZXNzQ2FsbHNcIiwgQnVzc2luZXNzY2FsbFNjaGVtYSwgXCJCdXNpbmVzc0NhbGxzXCIpO1xuZXhwb3J0IGNvbnN0IEJ1c2luZXNzVmlydHVhbE51bWJlcnMgPSBjb25uLm1vZGVsKFwiQnVzaW5lc3NWaXJ0dWFsTnVtYmVyc1wiLCBCdXNpbmVzc0RJRE51bWJlcnNTY2hlbWEsIFwiQnVzaW5lc3NWaXJ0dWFsTnVtYmVyc1wiKTtcbmV4cG9ydCBjb25zdCBCdXNpbmVzc0RJRE51bWJlcnMgPSBjb25uLm1vZGVsKFwiQnVzaW5lc3NESUROdW1iZXJzXCIsQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hLFwiQnVzaW5lc3NESUROdW1iZXJzXCIpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsTUFBTUEsSUFBSSxHQUFHQyxnQkFBZ0IsQ0FBQ0MsYUFBakIsRUFBYjtBQUNPLE1BQU1DLEtBQUssR0FBR0gsSUFBSSxDQUFDSSxLQUFMLENBQVcsT0FBWCxFQUFvQkMsb0JBQXBCLEVBQWlDLE9BQWpDLENBQWQsQyxDQUNQO0FBQ0E7OztBQUNPLE1BQU1DLE9BQU8sR0FBR04sSUFBSSxDQUFDSSxLQUFMLENBQVcsU0FBWCxFQUFzQkcsc0JBQXRCLEVBQXFDLFFBQXJDLENBQWhCOztBQUVBLE1BQU1DLGFBQWEsR0FBR1IsSUFBSSxDQUFDSSxLQUFMLENBQVcsZUFBWCxFQUE0QkssMkJBQTVCLEVBQWdELGVBQWhELENBQXRCOztBQUNBLE1BQU1DLGlCQUFpQixHQUFHVixJQUFJLENBQUNJLEtBQUwsQ0FBVyxtQkFBWCxFQUFnQ08sZ0NBQWhDLEVBQXlELG1CQUF6RCxDQUExQjs7QUFDQSxNQUFNQyxhQUFhLEdBQUdaLElBQUksQ0FBQ0ksS0FBTCxDQUFXLGVBQVgsRUFBNEJTLDRCQUE1QixFQUFpRCxlQUFqRCxDQUF0Qjs7QUFDQSxNQUFNQyxzQkFBc0IsR0FBR2QsSUFBSSxDQUFDSSxLQUFMLENBQVcsd0JBQVgsRUFBcUNXLGtDQUFyQyxFQUErRCx3QkFBL0QsQ0FBL0I7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUdoQixJQUFJLENBQUNJLEtBQUwsQ0FBVyxvQkFBWCxFQUFnQ1csa0NBQWhDLEVBQXlELG9CQUF6RCxDQUEzQiJ9","map":{"version":3,"names":["conn","mainDbConnection","getDbInstance","Users","model","UsersSchema","Clients","ClientsSchema","Organisations","OrganisationSchema","IVRVirtualProfile","IVRVirtualprofileSchema","BusinessCalls","BussinesscallSchema","BusinessVirtualNumbers","BusinessDIDNumbersSchema","BusinessDIDNumbers"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["index.js"],"sourcesContent":["import * as mainDbConnection from \"../../connections/MainDb\";\nimport ClientsSchema from \"./ClientsSchema\";\nimport UsersSchema from \"./UsersSchema\";\nimport OrganisationSchema from \"./OrganisationSchema\";\nimport IVRVirtualprofileSchema from \"./IVRVirtualprofileSchema\";\nimport BussinesscallSchema from \"./BussinesscallSchema\";\nimport BusinessDIDNumbersSchema from \"./BussinessDIDNumbersSchema\";\n\nconst conn = mainDbConnection.getDbInstance();\nexport const Users = conn.model(\"Users\", UsersSchema, \"Users\");\n// @hotfix: Collection name is Client (singular)\n// We can use plural name through out the code (Collection name can be changed while migrating)\nexport const Clients = conn.model(\"Clients\", ClientsSchema, \"Client\");\n\nexport const Organisations = conn.model(\"Organisations\", OrganisationSchema, \"Organisations\");\nexport const IVRVirtualProfile = conn.model(\"IVRVirtualProfile\", IVRVirtualprofileSchema, \"IVRVirtualProfile\");\nexport const BusinessCalls = conn.model(\"BusinessCalls\", BussinesscallSchema, \"BusinessCalls\");\nexport const BusinessVirtualNumbers = conn.model(\"BusinessVirtualNumbers\", BusinessDIDNumbersSchema, \"BusinessVirtualNumbers\");\nexport const BusinessDIDNumbers = conn.model(\"BusinessDIDNumbers\",BusinessDIDNumbersSchema,\"BusinessDIDNumbers\");\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,IAAI,GAAGC,gBAAgB,CAACC,aAAjB,EAAb;AACO,MAAMC,KAAK,GAAGH,IAAI,CAACI,KAAL,CAAW,OAAX,EAAoBC,oBAApB,EAAiC,OAAjC,CAAd,C,CACP;AACA;;;AACO,MAAMC,OAAO,GAAGN,IAAI,CAACI,KAAL,CAAW,SAAX,EAAsBG,sBAAtB,EAAqC,QAArC,CAAhB;;AAEA,MAAMC,aAAa,GAAGR,IAAI,CAACI,KAAL,CAAW,eAAX,EAA4BK,2BAA5B,EAAgD,eAAhD,CAAtB;;AACA,MAAMC,iBAAiB,GAAGV,IAAI,CAACI,KAAL,CAAW,mBAAX,EAAgCO,gCAAhC,EAAyD,mBAAzD,CAA1B;;AACA,MAAMC,aAAa,GAAGZ,IAAI,CAACI,KAAL,CAAW,eAAX,EAA4BS,4BAA5B,EAAiD,eAAjD,CAAtB;;AACA,MAAMC,sBAAsB,GAAGd,IAAI,CAACI,KAAL,CAAW,wBAAX,EAAqCW,kCAArC,EAA+D,wBAA/D,CAA/B;;AACA,MAAMC,kBAAkB,GAAGhB,IAAI,CAACI,KAAL,CAAW,oBAAX,EAAgCW,kCAAhC,EAAyD,oBAAzD,CAA3B"}},"mtime":1653909945262},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/ClientsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst ClientsSchema = new _mongoose.Schema({\n  metro_auth_key: {\n    type: String\n  }\n});\nvar _default = ClientsSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnRzU2NoZW1hIiwiU2NoZW1hIiwibWV0cm9fYXV0aF9rZXkiLCJ0eXBlIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbIkNsaWVudHNTY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IENsaWVudHNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbWV0cm9fYXV0aF9rZXk6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpZW50c1NjaGVtYTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQy9CQyxjQUFjLEVBQUU7SUFDZEMsSUFBSSxFQUFFQztFQURRO0FBRGUsQ0FBWCxDQUF0QjtlQU1lSixhIn0=","map":{"version":3,"names":["ClientsSchema","Schema","metro_auth_key","type","String"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["ClientsSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst ClientsSchema = new Schema({\n  metro_auth_key: {\n    type: String,\n  },\n});\n\nexport default ClientsSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;EAC/BC,cAAc,EAAE;IACdC,IAAI,EAAEC;EADQ;AADe,CAAX,CAAtB;eAMeJ,a"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/UsersSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst UsersSchema = new _mongoose.Schema({\n  password: {\n    type: String\n  },\n  firstName: {\n    type: String\n  },\n  lastName: {\n    required: false,\n    type: String\n  },\n  mobileNo: {\n    type: String\n  },\n  alternateMobileNo: {\n    type: String\n  },\n  email: {\n    type: String\n  },\n  clientId: {\n    required: true,\n    type: String\n  },\n  userType: {\n    type: Array,\n    required: true\n  },\n  sessionToken: {\n    type: String\n  },\n  isBlockedUser: {\n    type: Boolean\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nvar _default = UsersSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2Vyc1NjaGVtYSIsIlNjaGVtYSIsInBhc3N3b3JkIiwidHlwZSIsIlN0cmluZyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicmVxdWlyZWQiLCJtb2JpbGVObyIsImFsdGVybmF0ZU1vYmlsZU5vIiwiZW1haWwiLCJjbGllbnRJZCIsInVzZXJUeXBlIiwiQXJyYXkiLCJzZXNzaW9uVG9rZW4iLCJpc0Jsb2NrZWRVc2VyIiwiQm9vbGVhbiIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbIlVzZXJzU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBVc2Vyc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwYXNzd29yZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgZmlyc3ROYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBsYXN0TmFtZToge1xuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIG1vYmlsZU5vOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBhbHRlcm5hdGVNb2JpbGVObzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGNsaWVudElkOiB7XG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICB1c2VyVHlwZToge1xuICAgIHR5cGU6IEFycmF5LFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBzZXNzaW9uVG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGlzQmxvY2tlZFVzZXI6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICB9LFxuICBjcmVhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICB9LFxuICB1cGRhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJzU2NoZW1hO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDN0JDLFFBQVEsRUFBRTtJQUNSQyxJQUFJLEVBQUVDO0VBREUsQ0FEbUI7RUFJN0JDLFNBQVMsRUFBRTtJQUNURixJQUFJLEVBQUVDO0VBREcsQ0FKa0I7RUFPN0JFLFFBQVEsRUFBRTtJQUNSQyxRQUFRLEVBQUUsS0FERjtJQUVSSixJQUFJLEVBQUVDO0VBRkUsQ0FQbUI7RUFXN0JJLFFBQVEsRUFBRTtJQUNSTCxJQUFJLEVBQUVDO0VBREUsQ0FYbUI7RUFjN0JLLGlCQUFpQixFQUFFO0lBQ2pCTixJQUFJLEVBQUVDO0VBRFcsQ0FkVTtFQWlCN0JNLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVDO0VBREQsQ0FqQnNCO0VBb0I3Qk8sUUFBUSxFQUFFO0lBQ1JKLFFBQVEsRUFBRSxJQURGO0lBRVJKLElBQUksRUFBRUM7RUFGRSxDQXBCbUI7RUF3QjdCUSxRQUFRLEVBQUU7SUFDUlQsSUFBSSxFQUFFVSxLQURFO0lBRVJOLFFBQVEsRUFBRTtFQUZGLENBeEJtQjtFQTRCN0JPLFlBQVksRUFBRTtJQUNaWCxJQUFJLEVBQUVDO0VBRE0sQ0E1QmU7RUErQjdCVyxhQUFhLEVBQUU7SUFDYlosSUFBSSxFQUFFYTtFQURPLENBL0JjO0VBa0M3QkMsU0FBUyxFQUFFO0lBQ1RkLElBQUksRUFBRWUsSUFERztJQUVUQyxPQUFPLEVBQUVELElBQUksQ0FBQ0U7RUFGTCxDQWxDa0I7RUFzQzdCQyxTQUFTLEVBQUU7SUFDVGxCLElBQUksRUFBRWUsSUFERztJQUVUQyxPQUFPLEVBQUVELElBQUksQ0FBQ0U7RUFGTDtBQXRDa0IsQ0FBWCxDQUFwQjtlQTRDZXBCLFcifQ==","map":{"version":3,"names":["UsersSchema","Schema","password","type","String","firstName","lastName","required","mobileNo","alternateMobileNo","email","clientId","userType","Array","sessionToken","isBlockedUser","Boolean","createdAt","Date","default","now","updatedAt"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["UsersSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst UsersSchema = new Schema({\n  password: {\n    type: String,\n  },\n  firstName: {\n    type: String,\n  },\n  lastName: {\n    required: false,\n    type: String,\n  },\n  mobileNo: {\n    type: String,\n  },\n  alternateMobileNo: {\n    type: String,\n  },\n  email: {\n    type: String,\n  },\n  clientId: {\n    required: true,\n    type: String,\n  },\n  userType: {\n    type: Array,\n    required: true,\n  },\n  sessionToken: {\n    type: String,\n  },\n  isBlockedUser: {\n    type: Boolean,\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now,\n  },\n});\n\nexport default UsersSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC7BC,QAAQ,EAAE;IACRC,IAAI,EAAEC;EADE,CADmB;EAI7BC,SAAS,EAAE;IACTF,IAAI,EAAEC;EADG,CAJkB;EAO7BE,QAAQ,EAAE;IACRC,QAAQ,EAAE,KADF;IAERJ,IAAI,EAAEC;EAFE,CAPmB;EAW7BI,QAAQ,EAAE;IACRL,IAAI,EAAEC;EADE,CAXmB;EAc7BK,iBAAiB,EAAE;IACjBN,IAAI,EAAEC;EADW,CAdU;EAiB7BM,KAAK,EAAE;IACLP,IAAI,EAAEC;EADD,CAjBsB;EAoB7BO,QAAQ,EAAE;IACRJ,QAAQ,EAAE,IADF;IAERJ,IAAI,EAAEC;EAFE,CApBmB;EAwB7BQ,QAAQ,EAAE;IACRT,IAAI,EAAEU,KADE;IAERN,QAAQ,EAAE;EAFF,CAxBmB;EA4B7BO,YAAY,EAAE;IACZX,IAAI,EAAEC;EADM,CA5Be;EA+B7BW,aAAa,EAAE;IACbZ,IAAI,EAAEa;EADO,CA/Bc;EAkC7BC,SAAS,EAAE;IACTd,IAAI,EAAEe,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL,CAlCkB;EAsC7BC,SAAS,EAAE;IACTlB,IAAI,EAAEe,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL;AAtCkB,CAAX,CAApB;eA4CepB,W"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default2 = _interopRequireDefault(require(\"./default\"));\n\nvar _dev = _interopRequireDefault(require(\"./dev\"));\n\nvar _prod = _interopRequireDefault(require(\"./prod\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return _default2.default;\n\n    case \"dev\":\n      return _dev.default;\n\n    case \"production\":\n      return _prod.default;\n\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\n\nvar _default = config();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsb2NhbENvbmZpZyIsImRldkNvbmZpZyIsInByb2RDb25maWciLCJFcnJvciJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbmZpZy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2NhbENvbmZpZyBmcm9tIFwiLi9kZWZhdWx0XCI7XG5pbXBvcnQgZGV2Q29uZmlnIGZyb20gXCIuL2RldlwiO1xuaW1wb3J0IHByb2RDb25maWcgZnJvbSBcIi4vcHJvZFwiO1xuXG5jb25zdCBjb25maWcgPSAoKSA9PiB7XG4gIC8vIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gXCJkZWZhdWx0XCI7XG4gIHN3aXRjaCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgcmV0dXJuIGxvY2FsQ29uZmlnO1xuICAgIGNhc2UgXCJkZXZcIjpcbiAgICAgIHJldHVybiBkZXZDb25maWc7XG4gICAgY2FzZSBcInByb2R1Y3Rpb25cIjpcbiAgICAgIHJldHVybiBwcm9kQ29uZmlnO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWcgdmFyaWFibGVzIG5vdCBzZXRcIik7XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWcoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLE1BQU07RUFDbkI7RUFDQSxRQUFRQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBcEI7SUFDRSxLQUFLLFNBQUw7TUFDRSxPQUFPQyxpQkFBUDs7SUFDRixLQUFLLEtBQUw7TUFDRSxPQUFPQyxZQUFQOztJQUNGLEtBQUssWUFBTDtNQUNFLE9BQU9DLGFBQVA7O0lBQ0Y7TUFDRSxNQUFNLElBQUlDLEtBQUosQ0FBVSwwQkFBVixDQUFOO0VBUko7QUFVRCxDQVpEOztlQWFlUCxNQUFNLEUifQ==","map":{"version":3,"names":["config","process","env","NODE_ENV","localConfig","devConfig","prodConfig","Error"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["index.js"],"sourcesContent":["import localConfig from \"./default\";\nimport devConfig from \"./dev\";\nimport prodConfig from \"./prod\";\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return localConfig;\n    case \"dev\":\n      return devConfig;\n    case \"production\":\n      return prodConfig;\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\nexport default config();\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,MAAM;EACnB;EACA,QAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB;IACE,KAAK,SAAL;MACE,OAAOC,iBAAP;;IACF,KAAK,KAAL;MACE,OAAOC,YAAP;;IACF,KAAK,YAAL;MACE,OAAOC,aAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;EARJ;AAUD,CAZD;;eAaeP,MAAM,E"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/default.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\"\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\"\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwiYW5hbHl0aWNzRGJDb25maWciLCJyZWRpc0NvbmZpZyIsInNlbnRyeV9kc24iLCJwcm9jZXNzIiwiZW52IiwiU0VOVFJZX0RTTiJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvbGNfbWV0cm9fZGJcIixcbiAgfSxcbiAgYW5hbHl0aWNzRGJDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvYW5hbHl0aWNzZGJcIixcbiAgfSxcbiAgcmVkaXNDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcInJlZGlzOi8vbG9jYWxob3N0OjYzNzlcIixcbiAgfSxcbiAgc2VudHJ5X2RzbjogcHJvY2Vzcy5lbnYuU0VOVFJZX0RTTixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUU7RUFEQSxDQUREO0VBSWJDLGlCQUFpQixFQUFFO0lBQ2pCRCxVQUFVLEVBQUU7RUFESyxDQUpOO0VBT2JFLFdBQVcsRUFBRTtJQUNYRixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJHLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","analyticsDbConfig","redisConfig","sentry_dsn","process","env","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["default.js"],"sourcesContent":["export default {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\",\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\",\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;eAAe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAE;EADA,CADD;EAIbC,iBAAiB,EAAE;IACjBD,UAAU,EAAE;EADK,CAJN;EAObE,WAAW,EAAE;IACXF,UAAU,EAAE;EADD,CAPA;EAUbG,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/OrganisationSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _MainDb = _interopRequireDefault(require(\"../../connections/MainDb\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import { Organisations } from \".\";\nconst Organisations = new _mongoose.Schema({\n  organisation_id: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  logo: {\n    type: String\n  },\n  client_id: {\n    type: String\n  },\n  contact_name: {\n    type: String\n  },\n  phone_number: {\n    type: String\n  },\n  address: {\n    type: Object\n  },\n  plan: {\n    type: String\n  },\n  status: {\n    type: String,\n    // [\"CREATED\", \"ACTIVE\", \"INACTIVE\"]\n    default: 'CREATED'\n  },\n  created_at: {\n    type: Date,\n    default: Date.now\n  },\n  updated_at: {\n    type: Date,\n    getDbInstance: _MainDb.default\n  },\n  deleted_at: {\n    type: Date\n  },\n  call_priority_routing: {\n    type: Boolean,\n    default: false\n  },\n  isOrgOutboundCallEnabled: {\n    type: Boolean,\n    default: false\n  },\n  call_minutes_available: {\n    type: Number,\n    default: 0\n  },\n  callerTuneUrl: {\n    type: String\n  },\n  is_caller_tune_enable: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: {\n    createdAt: 'created_at',\n    updatedAt: 'updated_at'\n  }\n}); // const Organisations = mongo_db.model(\n//   'Organisations',\n//   OrganisationsSchema,\n//   'Organisations'\n// );\n\nvar _default = Organisations; // export default Organisations = getDbInstance();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPcmdhbmlzYXRpb25zIiwiU2NoZW1hIiwib3JnYW5pc2F0aW9uX2lkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsImVtYWlsIiwibG9nbyIsImNsaWVudF9pZCIsImNvbnRhY3RfbmFtZSIsInBob25lX251bWJlciIsImFkZHJlc3MiLCJPYmplY3QiLCJwbGFuIiwic3RhdHVzIiwiZGVmYXVsdCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwibm93IiwidXBkYXRlZF9hdCIsImdldERiSW5zdGFuY2UiLCJkZWxldGVkX2F0IiwiY2FsbF9wcmlvcml0eV9yb3V0aW5nIiwiQm9vbGVhbiIsImlzT3JnT3V0Ym91bmRDYWxsRW5hYmxlZCIsImNhbGxfbWludXRlc19hdmFpbGFibGUiLCJOdW1iZXIiLCJjYWxsZXJUdW5lVXJsIiwiaXNfY2FsbGVyX3R1bmVfZW5hYmxlIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJPcmdhbmlzYXRpb25TY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldERiSW5zdGFuY2UgZnJvbSBcIi4uLy4uL2Nvbm5lY3Rpb25zL01haW5EYlwiO1xuaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xuLy8gaW1wb3J0IHsgT3JnYW5pc2F0aW9ucyB9IGZyb20gXCIuXCI7XG5cbmNvbnN0IE9yZ2FuaXNhdGlvbnMgPSBuZXcgU2NoZW1hKFxuICB7XG4gICAgb3JnYW5pc2F0aW9uX2lkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGxvZ286IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY2xpZW50X2lkOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGNvbnRhY3RfbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBwaG9uZV9udW1iZXI6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgYWRkcmVzczoge1xuICAgICAgdHlwZTogT2JqZWN0XG4gICAgfSxcbiAgICBwbGFuOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgdHlwZTogU3RyaW5nLCAvLyBbXCJDUkVBVEVEXCIsIFwiQUNUSVZFXCIsIFwiSU5BQ1RJVkVcIl1cbiAgICAgIGRlZmF1bHQ6ICdDUkVBVEVEJ1xuICAgIH0sXG4gICAgY3JlYXRlZF9hdDoge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIGRlZmF1bHQ6IERhdGUubm93XG4gICAgfSxcbiAgICB1cGRhdGVkX2F0OiB7XG4gICAgICB0eXBlOiBEYXRlLGdldERiSW5zdGFuY2VcbiAgICB9LFxuICAgIGRlbGV0ZWRfYXQ6IHtcbiAgICAgIHR5cGU6IERhdGVcbiAgICB9LFxuICAgIGNhbGxfcHJpb3JpdHlfcm91dGluZzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBpc09yZ091dGJvdW5kQ2FsbEVuYWJsZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgY2FsbF9taW51dGVzX2F2YWlsYWJsZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMFxuICAgIH0sXG4gICAgY2FsbGVyVHVuZVVybDoge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBpc19jYWxsZXJfdHVuZV9lbmFibGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB7IGNyZWF0ZWRBdDogJ2NyZWF0ZWRfYXQnLCB1cGRhdGVkQXQ6ICd1cGRhdGVkX2F0JyB9IH1cbik7XG5cbi8vIGNvbnN0IE9yZ2FuaXNhdGlvbnMgPSBtb25nb19kYi5tb2RlbChcbi8vICAgJ09yZ2FuaXNhdGlvbnMnLFxuLy8gICBPcmdhbmlzYXRpb25zU2NoZW1hLFxuLy8gICAnT3JnYW5pc2F0aW9ucydcbi8vICk7XG5leHBvcnQgZGVmYXVsdCBPcmdhbmlzYXRpb25zO1xuLy8gZXhwb3J0IGRlZmF1bHQgT3JnYW5pc2F0aW9ucyA9IGdldERiSW5zdGFuY2UoKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBO0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGdCQUFKLENBQ3BCO0VBQ0VDLGVBQWUsRUFBRTtJQUNmQyxJQUFJLEVBQUVDLE1BRFM7SUFFZkMsUUFBUSxFQUFFLElBRks7SUFHZkMsTUFBTSxFQUFFO0VBSE8sQ0FEbkI7RUFNRUMsSUFBSSxFQUFFO0lBQ0pKLElBQUksRUFBRUMsTUFERjtJQUVKQyxRQUFRLEVBQUU7RUFGTixDQU5SO0VBVUVHLEtBQUssRUFBRTtJQUNMTCxJQUFJLEVBQUVDO0VBREQsQ0FWVDtFQWFFSyxJQUFJLEVBQUU7SUFDSk4sSUFBSSxFQUFFQztFQURGLENBYlI7RUFnQkVNLFNBQVMsRUFBRTtJQUNUUCxJQUFJLEVBQUVDO0VBREcsQ0FoQmI7RUFtQkVPLFlBQVksRUFBRTtJQUNaUixJQUFJLEVBQUVDO0VBRE0sQ0FuQmhCO0VBc0JFUSxZQUFZLEVBQUU7SUFDWlQsSUFBSSxFQUFFQztFQURNLENBdEJoQjtFQXlCRVMsT0FBTyxFQUFFO0lBQ1BWLElBQUksRUFBRVc7RUFEQyxDQXpCWDtFQTRCRUMsSUFBSSxFQUFFO0lBQ0paLElBQUksRUFBRUM7RUFERixDQTVCUjtFQStCRVksTUFBTSxFQUFFO0lBQ05iLElBQUksRUFBRUMsTUFEQTtJQUNRO0lBQ2RhLE9BQU8sRUFBRTtFQUZILENBL0JWO0VBbUNFQyxVQUFVLEVBQUU7SUFDVmYsSUFBSSxFQUFFZ0IsSUFESTtJQUVWRixPQUFPLEVBQUVFLElBQUksQ0FBQ0M7RUFGSixDQW5DZDtFQXVDRUMsVUFBVSxFQUFFO0lBQ1ZsQixJQUFJLEVBQUVnQixJQURJO0lBQ0NHLGFBQWEsRUFBYkE7RUFERCxDQXZDZDtFQTBDRUMsVUFBVSxFQUFFO0lBQ1ZwQixJQUFJLEVBQUVnQjtFQURJLENBMUNkO0VBNkNFSyxxQkFBcUIsRUFBRTtJQUNyQnJCLElBQUksRUFBRXNCLE9BRGU7SUFFckJSLE9BQU8sRUFBRTtFQUZZLENBN0N6QjtFQWlERVMsd0JBQXdCLEVBQUU7SUFDeEJ2QixJQUFJLEVBQUVzQixPQURrQjtJQUV4QlIsT0FBTyxFQUFFO0VBRmUsQ0FqRDVCO0VBcURFVSxzQkFBc0IsRUFBRTtJQUN0QnhCLElBQUksRUFBRXlCLE1BRGdCO0lBRXRCWCxPQUFPLEVBQUU7RUFGYSxDQXJEMUI7RUF5REVZLGFBQWEsRUFBRTtJQUNiMUIsSUFBSSxFQUFFQztFQURPLENBekRqQjtFQTRERTBCLHFCQUFxQixFQUFFO0lBQ3JCM0IsSUFBSSxFQUFFc0IsT0FEZTtJQUVyQlIsT0FBTyxFQUFFO0VBRlk7QUE1RHpCLENBRG9CLEVBa0VwQjtFQUFFYyxVQUFVLEVBQUU7SUFBRUMsU0FBUyxFQUFFLFlBQWI7SUFBMkJDLFNBQVMsRUFBRTtFQUF0QztBQUFkLENBbEVvQixDQUF0QixDLENBcUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBQ2VqQyxhLEVBQ2YifQ==","map":{"version":3,"names":["Organisations","Schema","organisation_id","type","String","required","unique","name","email","logo","client_id","contact_name","phone_number","address","Object","plan","status","default","created_at","Date","now","updated_at","getDbInstance","deleted_at","call_priority_routing","Boolean","isOrgOutboundCallEnabled","call_minutes_available","Number","callerTuneUrl","is_caller_tune_enable","timestamps","createdAt","updatedAt"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["OrganisationSchema.js"],"sourcesContent":["import getDbInstance from \"../../connections/MainDb\";\nimport { Schema } from 'mongoose';\n// import { Organisations } from \".\";\n\nconst Organisations = new Schema(\n  {\n    organisation_id: {\n      type: String,\n      required: true,\n      unique: true\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    email: {\n      type: String\n    },\n    logo: {\n      type: String\n    },\n    client_id: {\n      type: String\n    },\n    contact_name: {\n      type: String\n    },\n    phone_number: {\n      type: String\n    },\n    address: {\n      type: Object\n    },\n    plan: {\n      type: String\n    },\n    status: {\n      type: String, // [\"CREATED\", \"ACTIVE\", \"INACTIVE\"]\n      default: 'CREATED'\n    },\n    created_at: {\n      type: Date,\n      default: Date.now\n    },\n    updated_at: {\n      type: Date,getDbInstance\n    },\n    deleted_at: {\n      type: Date\n    },\n    call_priority_routing: {\n      type: Boolean,\n      default: false\n    },\n    isOrgOutboundCallEnabled: {\n      type: Boolean,\n      default: false\n    },\n    call_minutes_available: {\n      type: Number,\n      default: 0\n    },\n    callerTuneUrl: {\n      type: String\n    },\n    is_caller_tune_enable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  { timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' } }\n);\n\n// const Organisations = mongo_db.model(\n//   'Organisations',\n//   OrganisationsSchema,\n//   'Organisations'\n// );\nexport default Organisations;\n// export default Organisations = getDbInstance();"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CACpB;EACEC,eAAe,EAAE;IACfC,IAAI,EAAEC,MADS;IAEfC,QAAQ,EAAE,IAFK;IAGfC,MAAM,EAAE;EAHO,CADnB;EAMEC,IAAI,EAAE;IACJJ,IAAI,EAAEC,MADF;IAEJC,QAAQ,EAAE;EAFN,CANR;EAUEG,KAAK,EAAE;IACLL,IAAI,EAAEC;EADD,CAVT;EAaEK,IAAI,EAAE;IACJN,IAAI,EAAEC;EADF,CAbR;EAgBEM,SAAS,EAAE;IACTP,IAAI,EAAEC;EADG,CAhBb;EAmBEO,YAAY,EAAE;IACZR,IAAI,EAAEC;EADM,CAnBhB;EAsBEQ,YAAY,EAAE;IACZT,IAAI,EAAEC;EADM,CAtBhB;EAyBES,OAAO,EAAE;IACPV,IAAI,EAAEW;EADC,CAzBX;EA4BEC,IAAI,EAAE;IACJZ,IAAI,EAAEC;EADF,CA5BR;EA+BEY,MAAM,EAAE;IACNb,IAAI,EAAEC,MADA;IACQ;IACda,OAAO,EAAE;EAFH,CA/BV;EAmCEC,UAAU,EAAE;IACVf,IAAI,EAAEgB,IADI;IAEVF,OAAO,EAAEE,IAAI,CAACC;EAFJ,CAnCd;EAuCEC,UAAU,EAAE;IACVlB,IAAI,EAAEgB,IADI;IACCG,aAAa,EAAbA;EADD,CAvCd;EA0CEC,UAAU,EAAE;IACVpB,IAAI,EAAEgB;EADI,CA1Cd;EA6CEK,qBAAqB,EAAE;IACrBrB,IAAI,EAAEsB,OADe;IAErBR,OAAO,EAAE;EAFY,CA7CzB;EAiDES,wBAAwB,EAAE;IACxBvB,IAAI,EAAEsB,OADkB;IAExBR,OAAO,EAAE;EAFe,CAjD5B;EAqDEU,sBAAsB,EAAE;IACtBxB,IAAI,EAAEyB,MADgB;IAEtBX,OAAO,EAAE;EAFa,CArD1B;EAyDEY,aAAa,EAAE;IACb1B,IAAI,EAAEC;EADO,CAzDjB;EA4DE0B,qBAAqB,EAAE;IACrB3B,IAAI,EAAEsB,OADe;IAErBR,OAAO,EAAE;EAFY;AA5DzB,CADoB,EAkEpB;EAAEc,UAAU,EAAE;IAAEC,SAAS,EAAE,YAAb;IAA2BC,SAAS,EAAE;EAAtC;AAAd,CAlEoB,CAAtB,C,CAqEA;AACA;AACA;AACA;AACA;;eACejC,a,EACf"}},"mtime":1653910293714},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/IVRVirtualprofileSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbIklWUlZpcnR1YWxwcm9maWxlU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiJdLCJtYXBwaW5ncyI6IiJ9","map":{"version":3,"names":[],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["IVRVirtualprofileSchema.js"],"sourcesContent":[""],"mappings":""}},"mtime":1653887715130},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/BussinesscallSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbIkJ1c3NpbmVzc2NhbGxTY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIl0sIm1hcHBpbmdzIjoiIn0=","map":{"version":3,"names":[],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["BussinesscallSchema.js"],"sourcesContent":[""],"mappings":""}},"mtime":1653887715130},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/BussinessDIDNumbersSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst BusinessDIDNumbersSchema = new _mongoose.Schema({\n  associatedOrganisation: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'Organisations'\n  },\n  virtualNumber: {\n    type: String,\n    required: true\n  },\n  type: {\n    type: String,\n    enum: ['DID', 'VMN'],\n    required: true\n  },\n  active: {\n    type: Boolean,\n    default: true\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n}); // const BusinessDIDNumbers = mongoose.model(\n//   'BusinessDIDNumbers', BusinessDIDNumbersSchema, 'BusinessDIDNumbers'\n// );\n\nvar _default = BusinessDIDNumbersSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCdXNpbmVzc0RJRE51bWJlcnNTY2hlbWEiLCJTY2hlbWEiLCJhc3NvY2lhdGVkT3JnYW5pc2F0aW9uIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ2aXJ0dWFsTnVtYmVyIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbnVtIiwiYWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL21haW5EYlNjaGVtYS8iLCJzb3VyY2VzIjpbIkJ1c3NpbmVzc0RJRE51bWJlcnNTY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIGFzc29jaWF0ZWRPcmdhbmlzYXRpb246IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdPcmdhbmlzYXRpb25zJyB9LFxuICB2aXJ0dWFsTnVtYmVyOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsnRElEJywgJ1ZNTiddLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxuICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcbiAgdXBkYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbn0pO1xuXG4vLyBjb25zdCBCdXNpbmVzc0RJRE51bWJlcnMgPSBtb25nb29zZS5tb2RlbChcbi8vICAgJ0J1c2luZXNzRElETnVtYmVycycsIEJ1c2luZXNzRElETnVtYmVyc1NjaGVtYSwgJ0J1c2luZXNzRElETnVtYmVycydcbi8vICk7XG5leHBvcnQgZGVmYXVsdCBCdXNpbmVzc0RJRE51bWJlcnNTY2hlbWE7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsTUFBTUEsd0JBQXdCLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQ0Msc0JBQXNCLEVBQUU7SUFBRUMsSUFBSSxFQUFFRixpQkFBT0csS0FBUCxDQUFhQyxRQUFyQjtJQUErQkMsR0FBRyxFQUFFO0VBQXBDLENBRGtCO0VBRTFDQyxhQUFhLEVBQUU7SUFBRUosSUFBSSxFQUFFSyxNQUFSO0lBQWdCQyxRQUFRLEVBQUU7RUFBMUIsQ0FGMkI7RUFHMUNOLElBQUksRUFBRTtJQUFFQSxJQUFJLEVBQUVLLE1BQVI7SUFBZ0JFLElBQUksRUFBRSxDQUFDLEtBQUQsRUFBUSxLQUFSLENBQXRCO0lBQXNDRCxRQUFRLEVBQUU7RUFBaEQsQ0FIb0M7RUFJMUNFLE1BQU0sRUFBRTtJQUFFUixJQUFJLEVBQUVTLE9BQVI7SUFBaUJDLE9BQU8sRUFBRTtFQUExQixDQUprQztFQUsxQ0MsU0FBUyxFQUFFO0lBQUVYLElBQUksRUFBRVksSUFBUjtJQUFjRixPQUFPLEVBQUVFLElBQUksQ0FBQ0M7RUFBNUIsQ0FMK0I7RUFNMUNDLFNBQVMsRUFBRTtJQUFFZCxJQUFJLEVBQUVZLElBQVI7SUFBY0YsT0FBTyxFQUFFRSxJQUFJLENBQUNDO0VBQTVCO0FBTitCLENBQVgsQ0FBakMsQyxDQVNBO0FBQ0E7QUFDQTs7ZUFDZWhCLHdCIn0=","map":{"version":3,"names":["BusinessDIDNumbersSchema","Schema","associatedOrganisation","type","Types","ObjectId","ref","virtualNumber","String","required","enum","active","Boolean","default","createdAt","Date","now","updatedAt"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/mainDbSchema/","sources":["BussinessDIDNumbersSchema.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst BusinessDIDNumbersSchema = new Schema({\n  associatedOrganisation: { type: Schema.Types.ObjectId, ref: 'Organisations' },\n  virtualNumber: { type: String, required: true },\n  type: { type: String, enum: ['DID', 'VMN'], required: true },\n  active: { type: Boolean, default: true },\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now }\n});\n\n// const BusinessDIDNumbers = mongoose.model(\n//   'BusinessDIDNumbers', BusinessDIDNumbersSchema, 'BusinessDIDNumbers'\n// );\nexport default BusinessDIDNumbersSchema;\n"],"mappings":";;;;;;;AAAA;;;;;;AAEA,MAAMA,wBAAwB,GAAG,IAAIC,gBAAJ,CAAW;EAC1CC,sBAAsB,EAAE;IAAEC,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QAArB;IAA+BC,GAAG,EAAE;EAApC,CADkB;EAE1CC,aAAa,EAAE;IAAEJ,IAAI,EAAEK,MAAR;IAAgBC,QAAQ,EAAE;EAA1B,CAF2B;EAG1CN,IAAI,EAAE;IAAEA,IAAI,EAAEK,MAAR;IAAgBE,IAAI,EAAE,CAAC,KAAD,EAAQ,KAAR,CAAtB;IAAsCD,QAAQ,EAAE;EAAhD,CAHoC;EAI1CE,MAAM,EAAE;IAAER,IAAI,EAAES,OAAR;IAAiBC,OAAO,EAAE;EAA1B,CAJkC;EAK1CC,SAAS,EAAE;IAAEX,IAAI,EAAEY,IAAR;IAAcF,OAAO,EAAEE,IAAI,CAACC;EAA5B,CAL+B;EAM1CC,SAAS,EAAE;IAAEd,IAAI,EAAEY,IAAR;IAAcF,OAAO,EAAEE,IAAI,CAACC;EAA5B;AAN+B,CAAX,CAAjC,C,CASA;AACA;AACA;;eACehB,wB"}},"mtime":1653909912075},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/Credentials.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SECREAT = exports.PASSWORD = exports.ALGORITHM = void 0;\nconst SECREAT = \"UxZAXfGONYXkvATj552wBQ\";\nexports.SECREAT = SECREAT;\nconst ALGORITHM = \"aes-256-ctr\";\nexports.ALGORITHM = ALGORITHM;\nconst PASSWORD = \"meTro729@wes0K5\";\nexports.PASSWORD = PASSWORD;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTRUNSRUFUIiwiQUxHT1JJVEhNIiwiUEFTU1dPUkQiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9jb25zdGFudHMvIiwic291cmNlcyI6WyJDcmVkZW50aWFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0VDUkVBVCA9IFwiVXhaQVhmR09OWVhrdkFUajU1MndCUVwiO1xuZXhwb3J0IGNvbnN0IEFMR09SSVRITSA9IFwiYWVzLTI1Ni1jdHJcIjtcbmV4cG9ydCBjb25zdCBQQVNTV09SRCA9IFwibWVUcm83MjlAd2VzMEs1XCI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLE9BQU8sR0FBRyx3QkFBaEI7O0FBQ0EsTUFBTUMsU0FBUyxHQUFHLGFBQWxCOztBQUNBLE1BQU1DLFFBQVEsR0FBRyxpQkFBakIifQ==","map":{"version":3,"names":["SECREAT","ALGORITHM","PASSWORD"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/","sources":["Credentials.js"],"sourcesContent":["export const SECREAT = \"UxZAXfGONYXkvATj552wBQ\";\nexport const ALGORITHM = \"aes-256-ctr\";\nexport const PASSWORD = \"meTro729@wes0K5\";\n"],"mappings":";;;;;;AAAO,MAAMA,OAAO,GAAG,wBAAhB;;AACA,MAAMC,SAAS,GAAG,aAAlB;;AACA,MAAMC,QAAQ,GAAG,iBAAjB"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/Keys.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HEADER_SESSION_TOKEN = exports.HEADER_API_KEY = void 0;\nconst HEADER_API_KEY = \"x-metro-api-key\";\nexports.HEADER_API_KEY = HEADER_API_KEY;\nconst HEADER_SESSION_TOKEN = \"x-metro-sessiontoken\";\nexports.HEADER_SESSION_TOKEN = HEADER_SESSION_TOKEN;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIRUFERVJfQVBJX0tFWSIsIkhFQURFUl9TRVNTSU9OX1RPS0VOIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29uc3RhbnRzLyIsInNvdXJjZXMiOlsiS2V5cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgSEVBREVSX0FQSV9LRVkgPSBcIngtbWV0cm8tYXBpLWtleVwiO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9TRVNTSU9OX1RPS0VOID0gXCJ4LW1ldHJvLXNlc3Npb250b2tlblwiO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxjQUFjLEdBQUcsaUJBQXZCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLHNCQUE3QiJ9","map":{"version":3,"names":["HEADER_API_KEY","HEADER_SESSION_TOKEN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/constants/","sources":["Keys.js"],"sourcesContent":["export const HEADER_API_KEY = \"x-metro-api-key\";\nexport const HEADER_SESSION_TOKEN = \"x-metro-sessiontoken\";\n"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAG,iBAAvB;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/UserService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserDetails = exports.registerUser = exports.getUserDetails = void 0;\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar EncryptionService = _interopRequireWildcard(require(\"./EncryptionService\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nasync function getClientIdFromApiKey(apiKey) {\n  const findCondition = {\n    metro_auth_key: apiKey\n  };\n  const clientObj = await AbstractModels.mongoFindOne(_index.Clients, findCondition);\n  const clientId = clientObj._id;\n  return clientId;\n}\n\nconst registerUser = async (userDetails, clientDetails) => {\n  const {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  } = userDetails;\n  const findCondition = {\n    mobileNo\n  };\n  let userObj = await AbstractModels.mongoFindOne(_index.Users, findCondition);\n\n  if (userObj) {\n    throw ErrorUtils.DataAlreadyExists();\n  } else {\n    const bcryptedPassword = EncryptionService.generateBcryptPassword(password);\n    const clientId = await getClientIdFromApiKey(clientDetails.apiKey);\n    userObj = {\n      mobileNo,\n      firstName,\n      lastName,\n      password: bcryptedPassword,\n      clientId,\n      userType: \"user\"\n    };\n    await AbstractModels.mongoInsertOne(_index.Users, userObj);\n    delete userObj.password;\n    return userObj;\n  }\n};\n\nexports.registerUser = registerUser;\n\nconst getUserDetails = async mobileNo => {\n  const selectCondition = {\n    mobileNo\n  };\n  const projectCondition = {\n    _id: 0,\n    mobileNo: 1,\n    firstName: 1,\n    lastName: 1,\n    alternateMobileNo: 1,\n    email: 1\n  };\n  const userObj = await AbstractModels.mongoFindOne(_index.Users, selectCondition, projectCondition);\n  return userObj;\n};\n\nexports.getUserDetails = getUserDetails;\n\nconst updateUserDetails = async userDetails => {\n  const {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo\n  } = userDetails;\n  const selectCondition = {\n    mobileNo\n  };\n  const updateCondition = {\n    $set: {\n      firstName,\n      lastName,\n      alternateMobileNo,\n      email\n    }\n  };\n  await AbstractModels.mongoUpdateOne(_index.Users, selectCondition, updateCondition);\n};\n\nexports.updateUserDetails = updateUserDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRDbGllbnRJZEZyb21BcGlLZXkiLCJhcGlLZXkiLCJmaW5kQ29uZGl0aW9uIiwibWV0cm9fYXV0aF9rZXkiLCJjbGllbnRPYmoiLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvRmluZE9uZSIsIkNsaWVudHMiLCJjbGllbnRJZCIsIl9pZCIsInJlZ2lzdGVyVXNlciIsInVzZXJEZXRhaWxzIiwiY2xpZW50RGV0YWlscyIsIm1vYmlsZU5vIiwicGFzc3dvcmQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJPYmoiLCJVc2VycyIsIkVycm9yVXRpbHMiLCJEYXRhQWxyZWFkeUV4aXN0cyIsImJjcnlwdGVkUGFzc3dvcmQiLCJFbmNyeXB0aW9uU2VydmljZSIsImdlbmVyYXRlQmNyeXB0UGFzc3dvcmQiLCJ1c2VyVHlwZSIsIm1vbmdvSW5zZXJ0T25lIiwiZ2V0VXNlckRldGFpbHMiLCJzZWxlY3RDb25kaXRpb24iLCJwcm9qZWN0Q29uZGl0aW9uIiwiYWx0ZXJuYXRlTW9iaWxlTm8iLCJlbWFpbCIsInVwZGF0ZVVzZXJEZXRhaWxzIiwidXBkYXRlQ29uZGl0aW9uIiwiJHNldCIsIm1vbmdvVXBkYXRlT25lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvc2VydmljZXMvIiwic291cmNlcyI6WyJVc2VyU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBFcnJvclV0aWxzIGZyb20gXCIuLi9lcnJvcnMvRXJyb3JVdGlsc1wiO1xuaW1wb3J0ICogYXMgQWJzdHJhY3RNb2RlbHMgZnJvbSBcIi4uL21vZGVscy9BYnN0cmFjdE1vZGVsc1wiO1xuaW1wb3J0ICogYXMgRW5jcnlwdGlvblNlcnZpY2UgZnJvbSBcIi4vRW5jcnlwdGlvblNlcnZpY2VcIjtcblxuaW1wb3J0IHsgVXNlcnMsIENsaWVudHMgfSBmcm9tIFwiLi4vbW9kZWxzL21haW5EYlNjaGVtYS9pbmRleFwiO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRDbGllbnRJZEZyb21BcGlLZXkoYXBpS2V5KSB7XG4gIGNvbnN0IGZpbmRDb25kaXRpb24gPSB7XG4gICAgbWV0cm9fYXV0aF9rZXk6IGFwaUtleSxcbiAgfTtcbiAgY29uc3QgY2xpZW50T2JqID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKENsaWVudHMsIGZpbmRDb25kaXRpb24pO1xuICBjb25zdCBjbGllbnRJZCA9IGNsaWVudE9iai5faWQ7XG4gIHJldHVybiBjbGllbnRJZDtcbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVXNlciA9IGFzeW5jICh1c2VyRGV0YWlscywgY2xpZW50RGV0YWlscykgPT4ge1xuICBjb25zdCB7XG4gICAgbW9iaWxlTm8sIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLFxuICB9ID0gdXNlckRldGFpbHM7XG4gIGNvbnN0IGZpbmRDb25kaXRpb24gPSB7XG4gICAgbW9iaWxlTm8sXG4gIH07XG4gIGxldCB1c2VyT2JqID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKFVzZXJzLCBmaW5kQ29uZGl0aW9uKTtcbiAgaWYgKHVzZXJPYmopIHtcbiAgICB0aHJvdyBFcnJvclV0aWxzLkRhdGFBbHJlYWR5RXhpc3RzKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYmNyeXB0ZWRQYXNzd29yZCA9IEVuY3J5cHRpb25TZXJ2aWNlLmdlbmVyYXRlQmNyeXB0UGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGNvbnN0IGNsaWVudElkID0gYXdhaXQgZ2V0Q2xpZW50SWRGcm9tQXBpS2V5KGNsaWVudERldGFpbHMuYXBpS2V5KTtcbiAgICB1c2VyT2JqID0ge1xuICAgICAgbW9iaWxlTm8sXG4gICAgICBmaXJzdE5hbWUsXG4gICAgICBsYXN0TmFtZSxcbiAgICAgIHBhc3N3b3JkOiBiY3J5cHRlZFBhc3N3b3JkLFxuICAgICAgY2xpZW50SWQsXG4gICAgICB1c2VyVHlwZTogXCJ1c2VyXCIsXG4gICAgfTtcbiAgICBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0luc2VydE9uZShVc2VycywgdXNlck9iaik7XG4gICAgZGVsZXRlIHVzZXJPYmoucGFzc3dvcmQ7XG4gICAgcmV0dXJuIHVzZXJPYmo7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyRGV0YWlscyA9IGFzeW5jIChtb2JpbGVObykgPT4ge1xuICBjb25zdCBzZWxlY3RDb25kaXRpb24gPSB7XG4gICAgbW9iaWxlTm8sXG4gIH07XG4gIGNvbnN0IHByb2plY3RDb25kaXRpb24gPSB7XG4gICAgX2lkOiAwLFxuICAgIG1vYmlsZU5vOiAxLFxuICAgIGZpcnN0TmFtZTogMSxcbiAgICBsYXN0TmFtZTogMSxcbiAgICBhbHRlcm5hdGVNb2JpbGVObzogMSxcbiAgICBlbWFpbDogMSxcbiAgfTtcbiAgY29uc3QgdXNlck9iaiA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShcbiAgICBVc2VycyxcbiAgICBzZWxlY3RDb25kaXRpb24sXG4gICAgcHJvamVjdENvbmRpdGlvbixcbiAgKTtcbiAgcmV0dXJuIHVzZXJPYmo7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckRldGFpbHMgPSBhc3luYyAodXNlckRldGFpbHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGFsdGVybmF0ZU1vYmlsZU5vLCBlbWFpbCwgbW9iaWxlTm8sXG4gIH0gPSB1c2VyRGV0YWlscztcbiAgY29uc3Qgc2VsZWN0Q29uZGl0aW9uID0ge1xuICAgIG1vYmlsZU5vLFxuICB9O1xuICBjb25zdCB1cGRhdGVDb25kaXRpb24gPSB7XG4gICAgJHNldDoge1xuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICBhbHRlcm5hdGVNb2JpbGVObyxcbiAgICAgIGVtYWlsLFxuICAgIH0sXG4gIH07XG4gIGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvVXBkYXRlT25lKFVzZXJzLCBz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","map":{"version":3,"names":["getClientIdFromApiKey","apiKey","findCondition","metro_auth_key","clientObj","AbstractModels","mongoFindOne","Clients","clientId","_id","registerUser","userDetails","clientDetails","mobileNo","password","firstName","lastName","userObj","Users","ErrorUtils","DataAlreadyExists","bcryptedPassword","EncryptionService","generateBcryptPassword","userType","mongoInsertOne","getUserDetails","selectCondition","projectCondition","alternateMobileNo","email","updateUserDetails","updateCondition","$set","mongoUpdateOne"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["UserService.js"],"sourcesContent":["import * as ErrorUtils from \"../errors/ErrorUtils\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport * as EncryptionService from \"./EncryptionService\";\n\nimport { Users, Clients } from \"../models/mainDbSchema/index\";\n\nasync function getClientIdFromApiKey(apiKey) {\n  const findCondition = {\n    metro_auth_key: apiKey,\n  };\n  const clientObj = await AbstractModels.mongoFindOne(Clients, findCondition);\n  const clientId = clientObj._id;\n  return clientId;\n}\n\nexport const registerUser = async (userDetails, clientDetails) => {\n  const {\n    mobileNo, password, firstName, lastName,\n  } = userDetails;\n  const findCondition = {\n    mobileNo,\n  };\n  let userObj = await AbstractModels.mongoFindOne(Users, findCondition);\n  if (userObj) {\n    throw ErrorUtils.DataAlreadyExists();\n  } else {\n    const bcryptedPassword = EncryptionService.generateBcryptPassword(password);\n    const clientId = await getClientIdFromApiKey(clientDetails.apiKey);\n    userObj = {\n      mobileNo,\n      firstName,\n      lastName,\n      password: bcryptedPassword,\n      clientId,\n      userType: \"user\",\n    };\n    await AbstractModels.mongoInsertOne(Users, userObj);\n    delete userObj.password;\n    return userObj;\n  }\n};\n\nexport const getUserDetails = async (mobileNo) => {\n  const selectCondition = {\n    mobileNo,\n  };\n  const projectCondition = {\n    _id: 0,\n    mobileNo: 1,\n    firstName: 1,\n    lastName: 1,\n    alternateMobileNo: 1,\n    email: 1,\n  };\n  const userObj = await AbstractModels.mongoFindOne(\n    Users,\n    selectCondition,\n    projectCondition,\n  );\n  return userObj;\n};\n\nexport const updateUserDetails = async (userDetails) => {\n  const {\n    firstName, lastName, alternateMobileNo, email, mobileNo,\n  } = userDetails;\n  const selectCondition = {\n    mobileNo,\n  };\n  const updateCondition = {\n    $set: {\n      firstName,\n      lastName,\n      alternateMobileNo,\n      email,\n    },\n  };\n  await AbstractModels.mongoUpdateOne(Users, selectCondition, updateCondition);\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;;;AAEA,eAAeA,qBAAf,CAAqCC,MAArC,EAA6C;EAC3C,MAAMC,aAAa,GAAG;IACpBC,cAAc,EAAEF;EADI,CAAtB;EAGA,MAAMG,SAAS,GAAG,MAAMC,cAAc,CAACC,YAAf,CAA4BC,cAA5B,EAAqCL,aAArC,CAAxB;EACA,MAAMM,QAAQ,GAAGJ,SAAS,CAACK,GAA3B;EACA,OAAOD,QAAP;AACD;;AAEM,MAAME,YAAY,GAAG,OAAOC,WAAP,EAAoBC,aAApB,KAAsC;EAChE,MAAM;IACJC,QADI;IACMC,QADN;IACgBC,SADhB;IAC2BC;EAD3B,IAEFL,WAFJ;EAGA,MAAMT,aAAa,GAAG;IACpBW;EADoB,CAAtB;EAGA,IAAII,OAAO,GAAG,MAAMZ,cAAc,CAACC,YAAf,CAA4BY,YAA5B,EAAmChB,aAAnC,CAApB;;EACA,IAAIe,OAAJ,EAAa;IACX,MAAME,UAAU,CAACC,iBAAX,EAAN;EACD,CAFD,MAEO;IACL,MAAMC,gBAAgB,GAAGC,iBAAiB,CAACC,sBAAlB,CAAyCT,QAAzC,CAAzB;IACA,MAAMN,QAAQ,GAAG,MAAMR,qBAAqB,CAACY,aAAa,CAACX,MAAf,CAA5C;IACAgB,OAAO,GAAG;MACRJ,QADQ;MAERE,SAFQ;MAGRC,QAHQ;MAIRF,QAAQ,EAAEO,gBAJF;MAKRb,QALQ;MAMRgB,QAAQ,EAAE;IANF,CAAV;IAQA,MAAMnB,cAAc,CAACoB,cAAf,CAA8BP,YAA9B,EAAqCD,OAArC,CAAN;IACA,OAAOA,OAAO,CAACH,QAAf;IACA,OAAOG,OAAP;EACD;AACF,CAzBM;;;;AA2BA,MAAMS,cAAc,GAAG,MAAOb,QAAP,IAAoB;EAChD,MAAMc,eAAe,GAAG;IACtBd;EADsB,CAAxB;EAGA,MAAMe,gBAAgB,GAAG;IACvBnB,GAAG,EAAE,CADkB;IAEvBI,QAAQ,EAAE,CAFa;IAGvBE,SAAS,EAAE,CAHY;IAIvBC,QAAQ,EAAE,CAJa;IAKvBa,iBAAiB,EAAE,CALI;IAMvBC,KAAK,EAAE;EANgB,CAAzB;EAQA,MAAMb,OAAO,GAAG,MAAMZ,cAAc,CAACC,YAAf,CACpBY,YADoB,EAEpBS,eAFoB,EAGpBC,gBAHoB,CAAtB;EAKA,OAAOX,OAAP;AACD,CAlBM;;;;AAoBA,MAAMc,iBAAiB,GAAG,MAAOpB,WAAP,IAAuB;EACtD,MAAM;IACJI,SADI;IACOC,QADP;IACiBa,iBADjB;IACoCC,KADpC;IAC2CjB;EAD3C,IAEFF,WAFJ;EAGA,MAAMgB,eAAe,GAAG;IACtBd;EADsB,CAAxB;EAGA,MAAMmB,eAAe,GAAG;IACtBC,IAAI,EAAE;MACJlB,SADI;MAEJC,QAFI;MAGJa,iBAHI;MAIJC;IAJI;EADgB,CAAxB;EAQA,MAAMzB,cAAc,CAAC6B,cAAf,CAA8BhB,YAA9B,EAAqCS,eAArC,EAAsDK,eAAtD,CAAN;AACD,CAhBM"}},"mtime":1653649505371},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/EncryptionService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateBcryptPassword = exports.compareBcryptPassword = void 0;\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateBcryptPassword = password => {\n  const salt = _bcryptjs.default.genSaltSync(10);\n\n  const hash = _bcryptjs.default.hashSync(password, salt);\n\n  return hash;\n};\n\nexports.generateBcryptPassword = generateBcryptPassword;\n\nconst compareBcryptPassword = (password, bcryptedPassword) => {\n  const isValid = _bcryptjs.default.compareSync(password, bcryptedPassword);\n\n  return isValid;\n};\n\nexports.compareBcryptPassword = compareBcryptPassword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZUJjcnlwdFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdFN5bmMiLCJoYXNoIiwiaGFzaFN5bmMiLCJjb21wYXJlQmNyeXB0UGFzc3dvcmQiLCJiY3J5cHRlZFBhc3N3b3JkIiwiaXNWYWxpZCIsImNvbXBhcmVTeW5jIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvc2VydmljZXMvIiwic291cmNlcyI6WyJFbmNyeXB0aW9uU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVCY3J5cHRQYXNzd29yZCA9IChwYXNzd29yZCkgPT4ge1xuICBjb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcbiAgY29uc3QgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgc2FsdCk7XG4gIHJldHVybiBoYXNoO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVCY3J5cHRQYXNzd29yZCA9IChwYXNzd29yZCwgYmNyeXB0ZWRQYXNzd29yZCkgPT4ge1xuICBjb25zdCBpc1ZhbGlkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBiY3J5cHRlZFBhc3N3b3JkKTtcbiAgcmV0dXJuIGlzVmFsaWQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxzQkFBc0IsR0FBSUMsUUFBRCxJQUFjO0VBQ2xELE1BQU1DLElBQUksR0FBR0Msa0JBQU9DLFdBQVAsQ0FBbUIsRUFBbkIsQ0FBYjs7RUFDQSxNQUFNQyxJQUFJLEdBQUdGLGtCQUFPRyxRQUFQLENBQWdCTCxRQUFoQixFQUEwQkMsSUFBMUIsQ0FBYjs7RUFDQSxPQUFPRyxJQUFQO0FBQ0QsQ0FKTTs7OztBQU1BLE1BQU1FLHFCQUFxQixHQUFHLENBQUNOLFFBQUQsRUFBV08sZ0JBQVgsS0FBZ0M7RUFDbkUsTUFBTUMsT0FBTyxHQUFHTixrQkFBT08sV0FBUCxDQUFtQlQsUUFBbkIsRUFBNkJPLGdCQUE3QixDQUFoQjs7RUFDQSxPQUFPQyxPQUFQO0FBQ0QsQ0FITSJ9","map":{"version":3,"names":["generateBcryptPassword","password","salt","bcrypt","genSaltSync","hash","hashSync","compareBcryptPassword","bcryptedPassword","isValid","compareSync"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["EncryptionService.js"],"sourcesContent":["import bcrypt from \"bcryptjs\";\n\nexport const generateBcryptPassword = (password) => {\n  const salt = bcrypt.genSaltSync(10);\n  const hash = bcrypt.hashSync(password, salt);\n  return hash;\n};\n\nexport const compareBcryptPassword = (password, bcryptedPassword) => {\n  const isValid = bcrypt.compareSync(password, bcryptedPassword);\n  return isValid;\n};\n"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,sBAAsB,GAAIC,QAAD,IAAc;EAClD,MAAMC,IAAI,GAAGC,kBAAOC,WAAP,CAAmB,EAAnB,CAAb;;EACA,MAAMC,IAAI,GAAGF,kBAAOG,QAAP,CAAgBL,QAAhB,EAA0BC,IAA1B,CAAb;;EACA,OAAOG,IAAP;AACD,CAJM;;;;AAMA,MAAME,qBAAqB,GAAG,CAACN,QAAD,EAAWO,gBAAX,KAAgC;EACnE,MAAMC,OAAO,GAAGN,kBAAOO,WAAP,CAAmBT,QAAnB,EAA6BO,gBAA7B,CAAhB;;EACA,OAAOC,OAAP;AACD,CAHM"}},"mtime":1653649505371},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/Outboundcall.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _common = _interopRequireDefault(require(\"../commons/util/common\"));\n\nvar outboundcallController = _interopRequireWildcard(require(\"../controllers/OutboundcallController\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.post(\"/init/:param\", (0, _common.default)(outboundcallController.callInit));\nrouter.get(\"/external/call/handle/:param\", (0, _common.default)(outboundcallController.handleCall));\nrouter.get(\"/numbers/list/:param\", (0, _common.default)(outboundcallController.didNumberList));\nrouter.put(\"/user/status\", (0, _common.default)(outboundcallController.changeOutboundCallStatus));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0Iiwib3V0Ym91bmRjYWxsQ29udHJvbGxlciIsImNhbGxJbml0IiwiZ2V0IiwiaGFuZGxlQ2FsbCIsImRpZE51bWJlckxpc3QiLCJwdXQiLCJjaGFuZ2VPdXRib3VuZENhbGxTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvcm91dGVzLyIsInNvdXJjZXMiOlsiT3V0Ym91bmRjYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgIHdpdGhBc3luY0NvbnRyb2xsZXIgIGZyb20gXCIuLi9jb21tb25zL3V0aWwvY29tbW9uXCI7XG5pbXBvcnQgKiBhcyBvdXRib3VuZGNhbGxDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9PdXRib3VuZGNhbGxDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xucm91dGVyLnBvc3QoXCIvaW5pdC86cGFyYW1cIiwgd2l0aEFzeW5jQ29udHJvbGxlcihvdXRib3VuZGNhbGxDb250cm9sbGVyLmNhbGxJbml0KSk7XG5yb3V0ZXIuZ2V0KFwiL2V4dGVybmFsL2NhbGwvaGFuZGxlLzpwYXJhbVwiLCB3aXRoQXN5bmNDb250cm9sbGVyKG91dGJvdW5kY2FsbENvbnRyb2xsZXIuaGFuZGxlQ2FsbCkpO1xucm91dGVyLmdldChcIi9udW1iZXJzL2xpc3QvOnBhcmFtXCIsIHdpdGhBc3luY0NvbnRyb2xsZXIob3V0Ym91bmRjYWxsQ29udHJvbGxlci5kaWROdW1iZXJMaXN0KSk7XG5yb3V0ZXIucHV0KFwiL3VzZXIvc3RhdHVzXCIsIHdpdGhBc3luY0NvbnRyb2xsZXIob3V0Ym91bmRjYWxsQ29udHJvbGxlci5jaGFuZ2VPdXRib3VuZENhbGxTdGF0dXMpKVxuXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUNBQSxNQUFNLENBQUNDLElBQVAsQ0FBWSxjQUFaLEVBQTRCLHFCQUFvQkMsc0JBQXNCLENBQUNDLFFBQTNDLENBQTVCO0FBQ0FILE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLDhCQUFYLEVBQTJDLHFCQUFvQkYsc0JBQXNCLENBQUNHLFVBQTNDLENBQTNDO0FBQ0FMLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLHFCQUFvQkYsc0JBQXNCLENBQUNJLGFBQTNDLENBQW5DO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLGNBQVgsRUFBMkIscUJBQW9CTCxzQkFBc0IsQ0FBQ00sd0JBQTNDLENBQTNCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFlVixNQUFmIn0=","map":{"version":3,"names":["router","post","outboundcallController","callInit","get","handleCall","didNumberList","put","changeOutboundCallStatus","module","exports"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/","sources":["Outboundcall.js"],"sourcesContent":["import { Router } from \"express\";\nimport  withAsyncController  from \"../commons/util/common\";\nimport * as outboundcallController from \"../controllers/OutboundcallController\";\n\nconst router = Router();\nrouter.post(\"/init/:param\", withAsyncController(outboundcallController.callInit));\nrouter.get(\"/external/call/handle/:param\", withAsyncController(outboundcallController.handleCall));\nrouter.get(\"/numbers/list/:param\", withAsyncController(outboundcallController.didNumberList));\nrouter.put(\"/user/status\", withAsyncController(outboundcallController.changeOutboundCallStatus))\n\nmodule.exports=router;"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AACAA,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA4B,qBAAoBC,sBAAsB,CAACC,QAA3C,CAA5B;AACAH,MAAM,CAACI,GAAP,CAAW,8BAAX,EAA2C,qBAAoBF,sBAAsB,CAACG,UAA3C,CAA3C;AACAL,MAAM,CAACI,GAAP,CAAW,sBAAX,EAAmC,qBAAoBF,sBAAsB,CAACI,aAA3C,CAAnC;AACAN,MAAM,CAACO,GAAP,CAAW,cAAX,EAA2B,qBAAoBL,sBAAsB,CAACM,wBAA3C,CAA3B;AAEAC,MAAM,CAACC,OAAP,GAAeV,MAAf"}},"mtime":1653909481622},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/commons/util/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/commons/util/common.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst withAsyncController = handler => (req, res, next) => handler(req, res, next).catch(next);\n\nvar _default = withAsyncController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3aXRoQXN5bmNDb250cm9sbGVyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2NvbW1vbnMvdXRpbC8iLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB3aXRoQXN5bmNDb250cm9sbGVyID0gKGhhbmRsZXIpID0+IChyZXEsIHJlcywgbmV4dCkgPT4gaGFuZGxlcihyZXEsIHJlcywgbmV4dCkuY2F0Y2gobmV4dCk7XG5cbmV4cG9ydCBkZWZhdWx0ICB3aXRoQXN5bmNDb250cm9sbGVyIDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLG1CQUFtQixHQUFJQyxPQUFELElBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0JILE9BQU8sQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsQ0FBUCxDQUF3QkMsS0FBeEIsQ0FBOEJELElBQTlCLENBQTdEOztlQUVnQkosbUIifQ==","map":{"version":3,"names":["withAsyncController","handler","req","res","next","catch"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/commons/util/","sources":["common.js"],"sourcesContent":["const withAsyncController = (handler) => (req, res, next) => handler(req, res, next).catch(next);\n\nexport default  withAsyncController ;\n"],"mappings":";;;;;;;AAAA,MAAMA,mBAAmB,GAAIC,OAAD,IAAa,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoBH,OAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,CAAP,CAAwBC,KAAxB,CAA8BD,IAA9B,CAA7D;;eAEgBJ,mB"}},"mtime":1653887715130},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/OutboundcallController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.callInit = callInit;\nexports.changeOutboundCallStatus = changeOutboundCallStatus;\nexports.didNumberList = didNumberList;\nexports.handleCall = handleCall;\n\nvar outboundCallService = _interopRequireWildcard(require(\"../services/OutboundcallService\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nasync function callInit(req, res, next) {\n  const {\n    organisationId\n  } = req.params; // fetch and store the didID and number from the request body\n\n  const {\n    didId,\n    number\n  } = req.body;\n  log(\"info\", {\n    organisationId,\n    didId,\n    number\n  }); // get the userID from the session object\n\n  const userId = req.session.user_id; // initiate the call from the outboundcallservice from the services\n\n  await outboundCallService.initCall(organisationId, {\n    didId,\n    userId,\n    number\n  });\n  res.data = {};\n  log(\"info\", res.data);\n  next();\n}\n\nasync function didNumberList(req, res, next) {\n  const {\n    organisationId\n  } = req.params;\n  const {\n    pageNo,\n    pageSize\n  } = req.query; // log(\"info\", { organisationId, page, pageSize });\n\n  console.log(\"/*/*/*/*/*//*/*/* the page number and size is\" + pageNo, pageSize);\n  const list = await outboundCallService.didNumberList(organisationId, {\n    pageNo,\n    pageSize\n  });\n  res.data = list;\n  log(\"info\", res.data);\n  next();\n}\n\nasync function handleCall(req, res) {\n  const {\n    callId\n  } = req.params;\n  const data = req.query;\n  log(\"info\", {\n    callId,\n    data\n  });\n  const response = await outboundCallService.handleCall({\n    callId\n  }, data);\n  log(\"info\", {\n    response\n  });\n  res.send(response);\n}\n\nasync function changeOutboundCallStatus(req, res, next) {\n  const {\n    organisation_id\n  } = req.params;\n  const data = req.body;\n  const opts = {\n    orgId: organisation_id,\n    role: req.session.users_business_portal_role,\n    userId: req.session.user_id\n  };\n  logToJSON('info', {\n    organisation_id,\n    data,\n    opts\n  });\n  const response = await outboundCallService.changeOutboundCallStatus(opts, data);\n  res.data = response;\n  logToJSON('info', res.data);\n  next();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWxsSW5pdCIsInJlcSIsInJlcyIsIm5leHQiLCJvcmdhbmlzYXRpb25JZCIsInBhcmFtcyIsImRpZElkIiwibnVtYmVyIiwiYm9keSIsImxvZyIsInVzZXJJZCIsInNlc3Npb24iLCJ1c2VyX2lkIiwib3V0Ym91bmRDYWxsU2VydmljZSIsImluaXRDYWxsIiwiZGF0YSIsImRpZE51bWJlckxpc3QiLCJwYWdlTm8iLCJwYWdlU2l6ZSIsInF1ZXJ5IiwiY29uc29sZSIsImxpc3QiLCJoYW5kbGVDYWxsIiwiY2FsbElkIiwicmVzcG9uc2UiLCJzZW5kIiwiY2hhbmdlT3V0Ym91bmRDYWxsU3RhdHVzIiwib3JnYW5pc2F0aW9uX2lkIiwib3B0cyIsIm9yZ0lkIiwicm9sZSIsInVzZXJzX2J1c2luZXNzX3BvcnRhbF9yb2xlIiwibG9nVG9KU09OIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJPdXRib3VuZGNhbGxDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG91dGJvdW5kQ2FsbFNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL091dGJvdW5kY2FsbFNlcnZpY2VcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxJbml0KHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IHsgb3JnYW5pc2F0aW9uSWQgfSA9IHJlcS5wYXJhbXM7XG4gIC8vIGZldGNoIGFuZCBzdG9yZSB0aGUgZGlkSUQgYW5kIG51bWJlciBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgY29uc3QgeyBkaWRJZCwgbnVtYmVyIH0gPSByZXEuYm9keTtcbiAgbG9nKFwiaW5mb1wiLCB7IG9yZ2FuaXNhdGlvbklkLCBkaWRJZCwgbnVtYmVyIH0pO1xuICAvLyBnZXQgdGhlIHVzZXJJRCBmcm9tIHRoZSBzZXNzaW9uIG9iamVjdFxuICBjb25zdCB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VyX2lkO1xuICAvLyBpbml0aWF0ZSB0aGUgY2FsbCBmcm9tIHRoZSBvdXRib3VuZGNhbGxzZXJ2aWNlIGZyb20gdGhlIHNlcnZpY2VzXG4gIGF3YWl0IG91dGJvdW5kQ2FsbFNlcnZpY2UuaW5pdENhbGwob3JnYW5pc2F0aW9uSWQsIHtcbiAgICBkaWRJZCxcbiAgICB1c2VySWQsXG4gICAgbnVtYmVyLFxuICB9KTtcbiAgcmVzLmRhdGEgPSB7fTtcbiAgbG9nKFwiaW5mb1wiLCByZXMuZGF0YSk7XG4gIG5leHQoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpZE51bWJlckxpc3QocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3QgeyBvcmdhbmlzYXRpb25JZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgeyBwYWdlTm8sIHBhZ2VTaXplIH0gPSByZXEucXVlcnk7XG4gIC8vIGxvZyhcImluZm9cIiwgeyBvcmdhbmlzYXRpb25JZCwgcGFnZSwgcGFnZVNpemUgfSk7XG4gIGNvbnNvbGUubG9nKFwiLyovKi8qLyovKi8vKi8qLyogdGhlIHBhZ2UgbnVtYmVyIGFuZCBzaXplIGlzXCIrcGFnZU5vLHBhZ2VTaXplKTtcbiAgY29uc3QgbGlzdCA9IGF3YWl0IG91dGJvdW5kQ2FsbFNlcnZpY2UuZGlkTnVtYmVyTGlzdChvcmdhbmlzYXRpb25JZCwge1xuICAgIHBhZ2VObywgcGFnZVNpemUsXG4gIH0pO1xuICByZXMuZGF0YSA9IGxpc3Q7XG4gIGxvZyhcImluZm9cIiwgcmVzLmRhdGEpO1xuICBuZXh0KCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVDYWxsIChyZXEsIHJlcykge1xuICBjb25zdCB7IGNhbGxJZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgZGF0YSA9IHJlcS5xdWVyeTtcbiAgbG9nKFwiaW5mb1wiLCB7IGNhbGxJZCwgZGF0YSB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvdXRib3VuZENhbGxTZXJ2aWNlLmhhbmRsZUNhbGwoeyBjYWxsSWQgfSwgZGF0YSk7XG4gIGxvZyhcImluZm9cIiwgeyByZXNwb25zZSB9KTtcbiAgcmVzLnNlbmQocmVzcG9uc2UpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hhbmdlT3V0Ym91bmRDYWxsU3RhdHVzIChyZXEsIHJlcywgbmV4dCkge1xuICBjb25zdCB7IG9yZ2FuaXNhdGlvbl9pZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICBjb25zdCBvcHRzID0ge1xuICAgIG9yZ0lkOiBvcmdhbmlzYXRpb25faWQsXG4gICAgcm9sZTogcmVxLnNlc3Npb24udXNlcnNfYnVzaW5lc3NfcG9ydGFsX3JvbGUsXG4gICAgdXNlcklkOiByZXEuc2Vzc2lvbi51c2VyX2lkXG4gIH07XG4gIGxvZ1RvSlNPTignaW5mbycsIHsgb3JnYW5pc2F0aW9uX2lkLCBkYXRhLCBvcHRzIH0pO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG91dGJvdW5kQ2FsbFNlcnZpY2UuY2hhbmdlT3V0Ym91bmRDYWxsU3RhdHVzKG9wdHMsIGRhdGEpO1xuICByZXMuZGF0YSA9IHJlc3BvbnNlO1xuICBsb2dUb0pTT04oJ2luZm8nLCByZXMuZGF0YSk7XG4gIG5leHQoKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRU8sZUFBZUEsUUFBZixDQUF3QkMsR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDQyxJQUFsQyxFQUF3QztFQUM3QyxNQUFNO0lBQUVDO0VBQUYsSUFBcUJILEdBQUcsQ0FBQ0ksTUFBL0IsQ0FENkMsQ0FFN0M7O0VBQ0EsTUFBTTtJQUFFQyxLQUFGO0lBQVNDO0VBQVQsSUFBb0JOLEdBQUcsQ0FBQ08sSUFBOUI7RUFDQUMsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFTCxjQUFGO0lBQWtCRSxLQUFsQjtJQUF5QkM7RUFBekIsQ0FBVCxDQUFILENBSjZDLENBSzdDOztFQUNBLE1BQU1HLE1BQU0sR0FBR1QsR0FBRyxD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","map":{"version":3,"names":["callInit","req","res","next","organisationId","params","didId","number","body","log","userId","session","user_id","outboundCallService","initCall","data","didNumberList","pageNo","pageSize","query","console","list","handleCall","callId","response","send","changeOutboundCallStatus","organisation_id","opts","orgId","role","users_business_portal_role","logToJSON"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/","sources":["OutboundcallController.js"],"sourcesContent":["import * as outboundCallService from \"../services/OutboundcallService\";\n\nexport async function callInit(req, res, next) {\n  const { organisationId } = req.params;\n  // fetch and store the didID and number from the request body\n  const { didId, number } = req.body;\n  log(\"info\", { organisationId, didId, number });\n  // get the userID from the session object\n  const userId = req.session.user_id;\n  // initiate the call from the outboundcallservice from the services\n  await outboundCallService.initCall(organisationId, {\n    didId,\n    userId,\n    number,\n  });\n  res.data = {};\n  log(\"info\", res.data);\n  next();\n}\n\nexport async function didNumberList(req, res, next) {\n  const { organisationId } = req.params;\n  const { pageNo, pageSize } = req.query;\n  // log(\"info\", { organisationId, page, pageSize });\n  console.log(\"/*/*/*/*/*//*/*/* the page number and size is\"+pageNo,pageSize);\n  const list = await outboundCallService.didNumberList(organisationId, {\n    pageNo, pageSize,\n  });\n  res.data = list;\n  log(\"info\", res.data);\n  next();\n}\n\nexport async function handleCall (req, res) {\n  const { callId } = req.params;\n  const data = req.query;\n  log(\"info\", { callId, data });\n  const response = await outboundCallService.handleCall({ callId }, data);\n  log(\"info\", { response });\n  res.send(response);\n}\n\nexport async function changeOutboundCallStatus (req, res, next) {\n  const { organisation_id } = req.params;\n  const data = req.body;\n  const opts = {\n    orgId: organisation_id,\n    role: req.session.users_business_portal_role,\n    userId: req.session.user_id\n  };\n  logToJSON('info', { organisation_id, data, opts });\n  const response = await outboundCallService.changeOutboundCallStatus(opts, data);\n  res.data = response;\n  logToJSON('info', res.data);\n  next();\n}"],"mappings":";;;;;;;;;;AAAA;;;;;;AAEO,eAAeA,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwC;EAC7C,MAAM;IAAEC;EAAF,IAAqBH,GAAG,CAACI,MAA/B,CAD6C,CAE7C;;EACA,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAoBN,GAAG,CAACO,IAA9B;EACAC,GAAG,CAAC,MAAD,EAAS;IAAEL,cAAF;IAAkBE,KAAlB;IAAyBC;EAAzB,CAAT,CAAH,CAJ6C,CAK7C;;EACA,MAAMG,MAAM,GAAGT,GAAG,CAACU,OAAJ,CAAYC,OAA3B,CAN6C,CAO7C;;EACA,MAAMC,mBAAmB,CAACC,QAApB,CAA6BV,cAA7B,EAA6C;IACjDE,KADiD;IAEjDI,MAFiD;IAGjDH;EAHiD,CAA7C,CAAN;EAKAL,GAAG,CAACa,IAAJ,GAAW,EAAX;EACAN,GAAG,CAAC,MAAD,EAASP,GAAG,CAACa,IAAb,CAAH;EACAZ,IAAI;AACL;;AAEM,eAAea,aAAf,CAA6Bf,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;EAClD,MAAM;IAAEC;EAAF,IAAqBH,GAAG,CAACI,MAA/B;EACA,MAAM;IAAEY,MAAF;IAAUC;EAAV,IAAuBjB,GAAG,CAACkB,KAAjC,CAFkD,CAGlD;;EACAC,OAAO,CAACX,GAAR,CAAY,kDAAgDQ,MAA5D,EAAmEC,QAAnE;EACA,MAAMG,IAAI,GAAG,MAAMR,mBAAmB,CAACG,aAApB,CAAkCZ,cAAlC,EAAkD;IACnEa,MADmE;IAC3DC;EAD2D,CAAlD,CAAnB;EAGAhB,GAAG,CAACa,IAAJ,GAAWM,IAAX;EACAZ,GAAG,CAAC,MAAD,EAASP,GAAG,CAACa,IAAb,CAAH;EACAZ,IAAI;AACL;;AAEM,eAAemB,UAAf,CAA2BrB,GAA3B,EAAgCC,GAAhC,EAAqC;EAC1C,MAAM;IAAEqB;EAAF,IAAatB,GAAG,CAACI,MAAvB;EACA,MAAMU,IAAI,GAAGd,GAAG,CAACkB,KAAjB;EACAV,GAAG,CAAC,MAAD,EAAS;IAAEc,MAAF;IAAUR;EAAV,CAAT,CAAH;EACA,MAAMS,QAAQ,GAAG,MAAMX,mBAAmB,CAACS,UAApB,CAA+B;IAAEC;EAAF,CAA/B,EAA2CR,IAA3C,CAAvB;EACAN,GAAG,CAAC,MAAD,EAAS;IAAEe;EAAF,CAAT,CAAH;EACAtB,GAAG,CAACuB,IAAJ,CAASD,QAAT;AACD;;AAEM,eAAeE,wBAAf,CAAyCzB,GAAzC,EAA8CC,GAA9C,EAAmDC,IAAnD,EAAyD;EAC9D,MAAM;IAAEwB;EAAF,IAAsB1B,GAAG,CAACI,MAAhC;EACA,MAAMU,IAAI,GAAGd,GAAG,CAACO,IAAjB;EACA,MAAMoB,IAAI,GAAG;IACXC,KAAK,EAAEF,eADI;IAEXG,IAAI,EAAE7B,GAAG,CAACU,OAAJ,CAAYoB,0BAFP;IAGXrB,MAAM,EAAET,GAAG,CAACU,OAAJ,CAAYC;EAHT,CAAb;EAKAoB,SAAS,CAAC,MAAD,EAAS;IAAEL,eAAF;IAAmBZ,IAAnB;IAAyBa;EAAzB,CAAT,CAAT;EACA,MAAMJ,QAAQ,GAAG,MAAMX,mBAAmB,CAACa,wBAApB,CAA6CE,IAA7C,EAAmDb,IAAnD,CAAvB;EACAb,GAAG,CAACa,IAAJ,GAAWS,QAAX;EACAQ,SAAS,CAAC,MAAD,EAAS9B,GAAG,CAACa,IAAb,CAAT;EACAZ,IAAI;AACL"}},"mtime":1653909847135},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/OutboundcallService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.changeOutboundCallStatus = changeOutboundCallStatus;\nexports.didNumberList = didNumberList;\nexports.handleCall = handleCall;\nexports.initCall = initCall;\n\nvar kookooService = _interopRequireWildcard(require(\"./KookooService\"));\n\nvar ErrorUtil = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar ErrorType = _interopRequireWildcard(require(\"../constants/ErrorConstants\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar callEventHandlers = _interopRequireWildcard(require(\"./callEventService\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-disable no-undef */\nasync function initCall(orgId, {\n  didId,\n  number,\n  userId\n}) {\n  log(\"info\", {\n    orgId,\n    didId,\n    number,\n    userId\n  }); //  Check if the organisation exists or not in the organisations collecion\n\n  const org = await AbstractModels.mongoFindOne(_index.Organisations, {\n    organisation_id: orgId\n  });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS); // Check if thedidNumberbelongs to the current org or not in the BusinessVirtualNumbers Collection\n\n  const didNumber = await AbstractModels.mongoFindOne(_index.BusinessVirtualNumbers, {\n    _id: ObjectId(didId),\n    associatedOrganisation: org._id\n  });\n  if (!didNumber) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND); // Retrieve the profile of the user form IVRVirtualProfile collection\n\n  const profile = await AbstractModels.mongoFindOne(_index.IVRVirtualProfile, {\n    user_id: userId\n  });\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND); // get the ZVRmoibleno i.e. the personal number of the user who is initating the call\n\n  const zvrMobileNo = profile.zvr_mobile_no.toString().slice(-10); // slice the destinationNumber\n\n  const destinationNumber = number.toString().slice(-10);\n\n  if (zvrMobileNo === destinationNumber) {\n    throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO);\n  } //  store the call details in the BusinessCalls collecition\n\n\n  const call = await AbstractModels.mongoInsertOne(BusinessCalls, {\n    user: profile._id,\n    organisationId: orgId,\n    didNumber: didNumber.virtualNumber,\n    destinationNumber: number,\n    initiatorNumber: profile.zvr_mobile_no,\n    time: new Date().toISOString()\n  });\n  log(\"info\", {\n    orgId,\n    didId,\n    number,\n    userId\n  }); // Initiate the call via the KooKooservice\n  // eslint-disable-next-line no-return-await\n\n  return await kookooService.initCall(call);\n}\n\nasync function didNumberList(orgId, query) {\n  log(\"info\", {\n    orgId,\n    query\n  });\n  const skip = Number(query.pageNo || 0) * Number(query.pageSize || 20);\n  const limit = skip + Number(query.pageSize);\n  console.log(\"the value of the skip and limit are +++++++++++++++\" + skip, limit);\n  const org = await AbstractModels.mongoFindOne(_index.Organisations, {\n    organisation_id: orgId\n  });\n  console.log('the organisaiton is ++++++++++' + JSON.stringify(org));\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  const dbQuery = {\n    associatedOrganisation: org._id\n  };\n  const total = await _index.BusinessDIDNumbers.count(dbQuery);\n  const items = await _index.BusinessDIDNumbers.find(dbQuery).skip(skip).limit(limit).exec();\n  const out = {\n    items,\n    metadata: {\n      total,\n      query\n    }\n  };\n  log(\"info\", out);\n  return out;\n}\n\nasync function handleCall({\n  callId\n}, data) {\n  log('info', {\n    callId,\n    data\n  });\n  const call = await AbstractModels.mongoFindOne(BusinessCalls, {\n    _id: ObjectId(callId)\n  });\n  if (!call) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n  const handler = callEventHandlers[data.event];\n  if (!handler) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND);\n  log('info', 'end');\n  return handler(call, data);\n}\n\nasync function changeOutboundCallStatus({\n  orgId\n}, {\n  userId,\n  isOutboundCallEnabled\n}) {\n  logToJSON('info', {\n    orgId,\n    userId,\n    isOutboundCallEnabled\n  });\n  const org = await AbstractModels.mongoFindOne(_index.Organisations, {\n    organisation_id: orgId\n  });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  const profileQuery = {\n    'organisation.organisation_id': orgId,\n    user_id: userId\n  };\n  const profile = await AbstractModels.mongoFindOne(_index.IVRVirtualProfile, profileQuery);\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND);\n  await AbstractModels.mongoFindOneAndUpdate(_index.IVRVirtualProfile, profileQuery, {\n    isOutboundCallEnabled\n  });\n  logToJSON('info', {});\n  return {};\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0Q2FsbCIsIm9yZ0lkIiwiZGlkSWQiLCJudW1iZXIiLCJ1c2VySWQiLCJsb2ciLCJvcmciLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvRmluZE9uZSIsIk9yZ2FuaXNhdGlvbnMiLCJvcmdhbmlzYXRpb25faWQiLCJFcnJvclV0aWwiLCJjcmVhdGVFcnJvck1zZyIsIkVycm9yVHlwZSIsIk9SR0FOSVNBVElPTl9OT1RfRVhJU1RTIiwiZGlkTnVtYmVyIiwiQnVzaW5lc3NWaXJ0dWFsTnVtYmVycyIsIl9pZCIsIk9iamVjdElkIiwiYXNzb2NpYXRlZE9yZ2FuaXNhdGlvbiIsIkJVU0lORVNTX0RJRF9OVU1CRVJfTk9UX0ZPVU5EIiwicHJvZmlsZSIsIklWUlZpcnR1YWxQcm9maWxlIiwidXNlcl9pZCIsIlVTRVJfTk9UX0ZPVU5EIiwienZyTW9iaWxlTm8iLCJ6dnJfbW9iaWxlX25vIiwidG9TdHJpbmciLCJzbGljZSIsImRlc3RpbmF0aW9uTnVtYmVyIiwiQlVTSU5FU1NfRElEX05VTUJFUl9VTkFCTEVfQ0FMTF9TQU1FX05PIiwiY2FsbCIsIm1vbmdvSW5zZXJ0T25lIiwiQnVzaW5lc3NDYWxscyIsInVzZXIiLCJvcmdhbmlzYXRpb25JZCIsInZpcnR1YWxOdW1iZXIiLCJpbml0aWF0b3JOdW1iZXIiLCJ0aW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia29va29vU2VydmljZSIsImRpZE51bWJlckxpc3QiLCJxdWVyeSIsInNraXAiLCJOdW1iZXIiLCJwYWdlTm8iLCJwYWdlU2l6ZSIsImxpbWl0IiwiY29uc29sZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYlF1ZXJ5IiwidG90YWwiLCJCdXNpbmVzc0RJRE51bWJlcnMiLCJjb3VudCIsIml0ZW1zIiwiZmluZCIsImV4ZWMiLCJvdXQiLCJtZXRhZGF0YSIsImhhbmRsZUNhbGwiLCJjYWxsSWQiLCJkYXRhIiwiaGFuZGxlciIsImNhbGxFdmVudEhhbmRsZXJzIiwiZXZlbnQiLCJCVVNJTkVTU19PVVRCT1VORF9DQUxMX0VWRU5UX0hBTkRMRVJfTk9UX0ZPVU5EIiwiY2hhbmdlT3V0Ym91bmRDYWxsU3RhdHVzIiwiaXNPdXRib3VuZENhbGxFbmFibGVkIiwibG9nVG9KU09OIiwicHJvZmlsZVF1ZXJ5IiwibW9uZ29GaW5kT25lQW5kVXBkYXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvc2VydmljZXMvIiwic291cmNlcyI6WyJPdXRib3VuZGNhbGxTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5pbXBvcnQgKiBhcyBrb29rb29TZXJ2aWNlIGZyb20gXCIuL0tvb2tvb1NlcnZpY2VcIjtcbmltcG9ydCAqIGFzIEVycm9yVXRpbCBmcm9tIFwiLi4vZXJyb3JzL0Vycm9yVXRpbHNcIjtcbmltcG9ydCAqIGFzIEVycm9yVHlwZSBmcm9tIFwiLi4vY29uc3RhbnRzL0Vycm9yQ29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBBYnN0cmFjdE1vZGVscyBmcm9tIFwiLi4vbW9kZWxzL0Fic3RyYWN0TW9kZWxzXCI7XG5pbXBvcnQgKiBhcyBjYWxsRXZlbnRIYW5kbGVycyBmcm9tIFwiLi9jYWxsRXZlbnRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBPcmdhbmlzYXRpb25zLCBJVlJWaXJ0dWFsUHJvZmlsZSwgQnVzaW5lc3NWaXJ0dWFsTnVtYmVycywgQnVzaW5lc3NESUROdW1iZXJzIH0gZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvaW5kZXhcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRDYWxsKG9yZ0lkLCB7IGRpZElkLCBudW1iZXIsIHVzZXJJZCB9KSB7XG4gIGxvZyhcImluZm9cIiwge1xuICAgIG9yZ0lkLCBkaWRJZCwgbnVtYmVyLCB1c2VySWQsXG4gIH0pO1xuICAvLyAgQ2hlY2sgaWYgdGhlIG9yZ2FuaXNhdGlvbiBleGlzdHMgb3Igbm90IGluIHRoZSBvcmdhbmlzYXRpb25zIGNvbGxlY2lvblxuICBjb25zdCBvcmcgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoT3JnYW5pc2F0aW9ucywgeyBvcmdhbmlzYXRpb25faWQ6IG9yZ0lkIH0pO1xuICBpZiAoIW9yZykgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5PUkdBTklTQVRJT05fTk9UX0VYSVNUUyk7XG4gIC8vIENoZWNrIGlmIHRoZWRpZE51bWJlcmJlbG9uZ3MgdG8gdGhlIGN1cnJlbnQgb3JnIG9yIG5vdCBpbiB0aGUgQnVzaW5lc3NWaXJ0dWFsTnVtYmVycyBDb2xsZWN0aW9uXG4gIGNvbnN0IGRpZE51bWJlciA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShCdXNpbmVzc1ZpcnR1YWxOdW1iZXJzLCB7XG4gICAgX2lkOiBPYmplY3RJZChkaWRJZCksXG4gICAgYXNzb2NpYXRlZE9yZ2FuaXNhdGlvbjogb3JnLl9pZCxcbiAgfSk7XG4gIGlmICghZGlkTnVtYmVyKSB0aHJvdyBFcnJvclV0aWwuY3JlYXRlRXJyb3JNc2coRXJyb3JUeXBlLkJVU0lORVNTX0RJRF9OVU1CRVJfTk9UX0ZPVU5EKTtcbiAgLy8gUmV0cmlldmUgdGhlIHByb2ZpbGUgb2YgdGhlIHVzZXIgZm9ybSBJVlJWaXJ0dWFsUHJvZmlsZSBjb2xsZWN0aW9uXG4gIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoSVZSVmlydHVhbFByb2ZpbGUsIHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gIH0pO1xuICBpZiAoIXByb2ZpbGUpIHRocm93IEVycm9yVXRpbC5jcmVhdGVFcnJvck1zZyhFcnJvclR5cGUuVVNFUl9OT1RfRk9VTkQpO1xuICAvLyBnZXQgdGhlIFpWUm1vaWJsZW5vIGkuZS4gdGhlIHBlcnNvbmFsIG51bWJlciBvZiB0aGUgdXNlciB3aG8gaXMgaW5pdGF0aW5nIHRoZSBjYWxsXG4gIGNvbnN0IHp2ck1vYmlsZU5vID0gcHJvZmlsZS56dnJfbW9iaWxlX25vLnRvU3RyaW5nKCkuc2xpY2UoLTEwKTtcbiAgLy8gc2xpY2UgdGhlIGRlc3RpbmF0aW9uTnVtYmVyXG4gIGNvbnN0IGRlc3RpbmF0aW9uTnVtYmVyID0gbnVtYmVyLnRvU3RyaW5nKCkuc2xpY2UoLTEwKTtcblxuICBpZiAoenZyTW9iaWxlTm8gPT09IGRlc3RpbmF0aW9uTnVtYmVyKSB7XG4gICAgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5CVVNJTkVTU19ESURfTlVNQkVSX1VOQUJMRV9DQUxMX1NBTUVfTk8pO1xuICB9XG4gIC8vICBzdG9yZSB0aGUgY2FsbCBkZXRhaWxzIGluIHRoZSBCdXNpbmVzc0NhbGxzIGNvbGxlY2l0aW9uXG4gIGNvbnN0IGNhbGwgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0luc2VydE9uZShCdXNpbmVzc0NhbGxzLCB7XG4gICAgdXNlcjogcHJvZmlsZS5faWQsXG4gICAgb3JnYW5pc2F0aW9uSWQ6IG9yZ0lkLFxuICAgIGRpZE51bWJlcjogZGlkTnVtYmVyLnZpcnR1YWxOdW1iZXIsXG4gICAgZGVzdGluYXRpb25OdW1iZXI6IG51bWJlcixcbiAgICBpbml0aWF0b3JOdW1iZXI6IHByb2ZpbGUuenZyX21vYmlsZV9ubyxcbiAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIH0pO1xuXG4gIGxvZyhcImluZm9cIiwge1xuICAgIG9yZ0lkLCBkaWRJZCwgbnVtYmVyLCB1c2VySWQsXG4gIH0pO1xuICAvLyBJbml0aWF0ZSB0aGUgY2FsbCB2aWEgdGhlIEtvb0tvb3NlcnZpY2VcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hd2FpdFxuICByZXR1cm4gYXdhaXQga29va29vU2VydmljZS5pbml0Q2FsbChjYWxsKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpZE51bWJlckxpc3Qob3JnSWQsIHF1ZXJ5KSB7XG4gIGxvZyhcImluZm9cIiwgeyBvcmdJZCwgcXVlcnkgfSk7XG4gIGNvbnN0IHNraXAgPSBOdW1iZXIocXVlcnkucGFnZU5vIHx8IDApICogTnVtYmVyKHF1ZXJ5LnBhZ2VTaXplIHx8IDIwKTtcbiAgY29uc3QgbGltaXQgPSBza2lwICsgTnVtYmVyKHF1ZXJ5LnBhZ2VTaXplKTtcbiAgY29uc29sZS5sb2coXCJ0aGUgdmFsdWUgb2YgdGhlIHNraXAgYW5kIGxpbWl0IGFyZSArKysrKysrKysrKysrKytcIitza2lwLGxpbWl0KTtcbiAgY29uc3Qgb3JnID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKE9yZ2FuaXNhdGlvbnMsIHsgb3JnYW5pc2F0aW9uX2lkOiBvcmdJZCB9KTtcbiAgY29uc29sZS5sb2coJ3RoZSBvcmdhbmlzYWl0b24gaXMgKysrKysrKysrKycrSlNPTi5zdHJpbmdpZnkob3JnKSk7XG4gIGlmICghb3JnKSB0aHJvdyBFcnJvclV0aWwuY3JlYXRlRXJyb3JNc2coRXJyb3JUeXBlLk9SR0FOSVNBVElPTl9OT1RfRVhJU1RTKTtcbiAgY29uc3QgZGJRdWVyeSA9IHsgYXNzb2NpYXRlZE9yZ2FuaXNhdGlvbjogb3JnLl9pZCB9O1xuICBjb25zdCB0b3RhbCA9IGF3YWl0IEJ1c2luZXNzRElETnVtYmVycy5jb3VudChkYlF1ZXJ5KTtcbiAgY29uc3QgaXRlbXMgPSBhd2FpdCBCdXNpbmVzc0RJRE51bWJlcnMuZmluZChkYlF1ZXJ5KVxuICAgIC5za2lwKHNraXApXG4gICAgLmxpbWl0KGxpbWl0KVxuICAgIC5leGVjKCk7XG4gIGNvbnN0IG91dCA9IHtcbiAgICBpdGVtcyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgdG90YWwsXG4gICAgICBxdWVyeSxcbiAgICB9LFxuICB9O1xuICBsb2coXCJpbmZvXCIsIG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVDYWxsICh7IGNhbGxJZCB9LCBkYXRhKSB7XG4gIGxvZygnaW5mbycsIHsgY2FsbElkLCBkYXRhIH0pO1xuICBjb25zdCBjYWxsID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKEJ1c2luZXNzQ2FsbHMsIHsgX2lkOiBPYmplY3RJZChjYWxsSWQpIH0pO1xuICBpZiAoIWNhbGwpIHRocm93IEVycm9yVXRpbC5jcmVhdGVFcnJvck1zZyhFcnJvclR5cGUuQlVTSU5FU1NfRElEX05VTUJFUl9OT1RfRk9VTkQpO1xuXG4gIGNvbnN0IGhhbmRsZXIgPSBjYWxsRXZlbnRIYW5kbGVyc1tkYXRhLmV2ZW50XTtcbiAgaWYgKCFoYW5kbGVyKSB0aHJvdyBFcnJvclV0aWwuY3JlYXRlRXJyb3JNc2coRXJyb3JUeXBlLkJVU0lORVNTX09VVEJPVU5EX0NBTExfRVZFTlRfSEFORExFUl9OT1RfRk9VTkQpO1xuXG4gIGxvZygnaW5mbycsICdlbmQnKTtcbiAgcmV0dXJuIGhhbmRsZXIoY2FsbCwgZGF0YSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGFuZ2VPdXRib3VuZENhbGxTdGF0dXMgKHsgb3JnSWQgfSwgeyB1c2VySWQsIGlzT3V0Ym91bmRDYWxsRW5hYmxlZCB9KSB7XG4gIGxvZ1RvSlNPTignaW5mbycsIHsgb3JnSWQsIHVzZXJJZCwgaXNPdXRib3VuZENhbGxFbmFibGVkIH0pO1xuICBjb25zdCBvcmcgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoT3JnYW5pc2F0aW9ucywgeyBvcmdhbmlzYXRpb25faWQ6IG9yZ0lkIH0pO1xuICBpZiAoIW9yZykgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5PUkdBTklTQVRJT05fTk9UX0VYSVNUUyk7XG5cbiAgY29uc3QgcHJvZmlsZVF1ZXJ5ID0geyAnb3JnYW5pc2F0aW9uLm9yZ2FuaXNhdGlvbl9pZCc6IG9yZ0lkLCB1c2VyX2lkOiB1c2VySWQgfTtcbiAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShJVlJWaXJ0dWFsUHJvZmlsZSwgcHJvZmlsZVF1ZXJ5KTtcbiAgaWYgKCFwcm9maWxlKSB0aHJvdyBFcnJvclV0aWwuY3JlYXRlRXJyb3JNc2coRXJyb3JUeXBlLlVTRVJfTk9UX0ZPVU5EKTtcblxuICBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmVBbmRVcGRhdGUoSVZSVmlydHVhbFByb2ZpbGUsIHByb2ZpbGVRdWVyeSwge1xuICAgIGlzT3V0Ym91bmRDYWxsRW5hYmxlZFxuICB9KTtcblxuICBsb2dUb0pTT04oJ2luZm8nLCB7fSk7XG4gIHJldHVybiB7fTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBTkE7QUFRTyxlQUFlQSxRQUFmLENBQXdCQyxLQUF4QixFQUErQjtFQUFFQyxLQUFGO0VBQVNDLE1BQVQ7RUFBaUJDO0FBQWpCLENBQS9CLEVBQTBEO0VBQy9EQyxHQUFHLENBQUMsTUFBRCxFQUFTO0lBQ1ZKLEtBRFU7SUFDSEMsS0FERztJQUNJQyxNQURKO0lBQ1lDO0VBRFosQ0FBVCxDQUFILENBRCtELENBSS9EOztFQUNBLE1BQU1FLEdBQUcsR0FBRyxNQUFNQyxjQUFjLENBQUNDLFlBQWYsQ0FBNEJDLG9CQUE1QixFQUEyQztJQUFFQyxlQUFlLEVBQUVUO0VBQW5CLENBQTNDLENBQWxCO0VBQ0EsSUFBSSxDQUFDSyxHQUFMLEVBQVUsTUFBTUssU0FBUyxDQUFDQyxjQUFWLENBQXlCQyxTQUFTLENBQUNDLHVCQUFuQyxDQUFOLENBTnFELENBTy9EOztFQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNUixjQUFjLENBQUNDLFlBQWYsQ0FBNEJRLDZCQUE1QixFQUFvRDtJQUMxRUMsR0FBRyxFQUFFQyxRQUFRLENBQUNoQixLQUFELENBRDZEO0lBRTFFaUIsc0JBQXNCLEVBQUViLEdBQUcsQ0FBQ1c7RUFGOEMsQ0FBcEQsQ0FBeEI7RUFJQSxJQUFJLENBQUNGLFNBQUwsRUFBZ0IsTUFBTUosU0FBUyxDQUFDQyxjQUFWLENBQXlC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","map":{"version":3,"names":["initCall","orgId","didId","number","userId","log","org","AbstractModels","mongoFindOne","Organisations","organisation_id","ErrorUtil","createErrorMsg","ErrorType","ORGANISATION_NOT_EXISTS","didNumber","BusinessVirtualNumbers","_id","ObjectId","associatedOrganisation","BUSINESS_DID_NUMBER_NOT_FOUND","profile","IVRVirtualProfile","user_id","USER_NOT_FOUND","zvrMobileNo","zvr_mobile_no","toString","slice","destinationNumber","BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO","call","mongoInsertOne","BusinessCalls","user","organisationId","virtualNumber","initiatorNumber","time","Date","toISOString","kookooService","didNumberList","query","skip","Number","pageNo","pageSize","limit","console","JSON","stringify","dbQuery","total","BusinessDIDNumbers","count","items","find","exec","out","metadata","handleCall","callId","data","handler","callEventHandlers","event","BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND","changeOutboundCallStatus","isOutboundCallEnabled","logToJSON","profileQuery","mongoFindOneAndUpdate"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["OutboundcallService.js"],"sourcesContent":["/* eslint-disable no-undef */\nimport * as kookooService from \"./KookooService\";\nimport * as ErrorUtil from \"../errors/ErrorUtils\";\nimport * as ErrorType from \"../constants/ErrorConstants\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport * as callEventHandlers from \"./callEventService\";\nimport { Organisations, IVRVirtualProfile, BusinessVirtualNumbers, BusinessDIDNumbers } from \"../models/mainDbSchema/index\";\n\nexport async function initCall(orgId, { didId, number, userId }) {\n  log(\"info\", {\n    orgId, didId, number, userId,\n  });\n  //  Check if the organisation exists or not in the organisations collecion\n  const org = await AbstractModels.mongoFindOne(Organisations, { organisation_id: orgId });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  // Check if thedidNumberbelongs to the current org or not in the BusinessVirtualNumbers Collection\n  const didNumber = await AbstractModels.mongoFindOne(BusinessVirtualNumbers, {\n    _id: ObjectId(didId),\n    associatedOrganisation: org._id,\n  });\n  if (!didNumber) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n  // Retrieve the profile of the user form IVRVirtualProfile collection\n  const profile = await AbstractModels.mongoFindOne(IVRVirtualProfile, {\n    user_id: userId,\n  });\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND);\n  // get the ZVRmoibleno i.e. the personal number of the user who is initating the call\n  const zvrMobileNo = profile.zvr_mobile_no.toString().slice(-10);\n  // slice the destinationNumber\n  const destinationNumber = number.toString().slice(-10);\n\n  if (zvrMobileNo === destinationNumber) {\n    throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO);\n  }\n  //  store the call details in the BusinessCalls collecition\n  const call = await AbstractModels.mongoInsertOne(BusinessCalls, {\n    user: profile._id,\n    organisationId: orgId,\n    didNumber: didNumber.virtualNumber,\n    destinationNumber: number,\n    initiatorNumber: profile.zvr_mobile_no,\n    time: new Date().toISOString(),\n  });\n\n  log(\"info\", {\n    orgId, didId, number, userId,\n  });\n  // Initiate the call via the KooKooservice\n  // eslint-disable-next-line no-return-await\n  return await kookooService.initCall(call);\n}\n\nexport async function didNumberList(orgId, query) {\n  log(\"info\", { orgId, query });\n  const skip = Number(query.pageNo || 0) * Number(query.pageSize || 20);\n  const limit = skip + Number(query.pageSize);\n  console.log(\"the value of the skip and limit are +++++++++++++++\"+skip,limit);\n  const org = await AbstractModels.mongoFindOne(Organisations, { organisation_id: orgId });\n  console.log('the organisaiton is ++++++++++'+JSON.stringify(org));\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  const dbQuery = { associatedOrganisation: org._id };\n  const total = await BusinessDIDNumbers.count(dbQuery);\n  const items = await BusinessDIDNumbers.find(dbQuery)\n    .skip(skip)\n    .limit(limit)\n    .exec();\n  const out = {\n    items,\n    metadata: {\n      total,\n      query,\n    },\n  };\n  log(\"info\", out);\n  return out;\n}\n\nexport async function handleCall ({ callId }, data) {\n  log('info', { callId, data });\n  const call = await AbstractModels.mongoFindOne(BusinessCalls, { _id: ObjectId(callId) });\n  if (!call) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n\n  const handler = callEventHandlers[data.event];\n  if (!handler) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND);\n\n  log('info', 'end');\n  return handler(call, data);\n}\n\nexport async function changeOutboundCallStatus ({ orgId }, { userId, isOutboundCallEnabled }) {\n  logToJSON('info', { orgId, userId, isOutboundCallEnabled });\n  const org = await AbstractModels.mongoFindOne(Organisations, { organisation_id: orgId });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n\n  const profileQuery = { 'organisation.organisation_id': orgId, user_id: userId };\n  const profile = await AbstractModels.mongoFindOne(IVRVirtualProfile, profileQuery);\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND);\n\n  await AbstractModels.mongoFindOneAndUpdate(IVRVirtualProfile, profileQuery, {\n    isOutboundCallEnabled\n  });\n\n  logToJSON('info', {});\n  return {};\n}"],"mappings":"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"}},"mtime":1653909978982},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/KookooService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initCall;\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-unresolved */\nasync function initCall({\n  _id,\n  didNumber,\n  initiatorNumber\n}) {\n  log(\"info\", {\n    _id,\n    didNumber,\n    initiatorNumber\n  }); // eslint-disable-next-line global-require\n\n  const axios = require(\"axios\");\n\n  const apiKey = \"KK232c980690c3cd35bc9ce18db9477d8b\";\n  const applicationUrl = new URL(_index.default.application_url);\n  const url = `${applicationUrl.origin}/business/outbound-call/external/call/handle/${_id}`;\n  log(\"info\", url);\n  const API_URL = new URL(\"http://kookoo.in/outbound/outbound.php\");\n  API_URL.searchParams.set(\"api_key\", apiKey);\n  API_URL.searchParams.set(\"phone_no\", initiatorNumber);\n  API_URL.searchParams.set(\"caller_id\", didNumber);\n  API_URL.searchParams.set(\"outbound_version\", \"2\");\n  API_URL.searchParams.set(\"url\", url);\n  log(\"info\", \"end\");\n  return axios.default.get(API_URL.href);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0Q2FsbCIsIl9pZCIsImRpZE51bWJlciIsImluaXRpYXRvck51bWJlciIsImxvZyIsImF4aW9zIiwicmVxdWlyZSIsImFwaUtleSIsImFwcGxpY2F0aW9uVXJsIiwiVVJMIiwiY29uZmlnIiwiYXBwbGljYXRpb25fdXJsIiwidXJsIiwib3JpZ2luIiwiQVBJX1VSTCIsInNlYXJjaFBhcmFtcyIsInNldCIsImRlZmF1bHQiLCJnZXQiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvc2VydmljZXMvIiwic291cmNlcyI6WyJLb29rb29TZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby11bnJlc29sdmVkICovXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW5pdENhbGwoeyBfaWQsIGRpZE51bWJlciwgaW5pdGlhdG9yTnVtYmVyIH0pIHtcbiAgbG9nKFwiaW5mb1wiLCB7IF9pZCwgZGlkTnVtYmVyLCBpbml0aWF0b3JOdW1iZXIgfSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICBjb25zdCBheGlvcyA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbiAgY29uc3QgYXBpS2V5ID0gXCJLSzIzMmM5ODA2OTBjM2NkMzViYzljZTE4ZGI5NDc3ZDhiXCI7XG4gIGNvbnN0IGFwcGxpY2F0aW9uVXJsID0gbmV3IFVSTChjb25maWcuYXBwbGljYXRpb25fdXJsKTtcbiAgY29uc3QgdXJsID0gYCR7YXBwbGljYXRpb25Vcmwub3JpZ2lufS9idXNpbmVzcy9vdXRib3VuZC1jYWxsL2V4dGVybmFsL2NhbGwvaGFuZGxlLyR7X2lkfWA7XG4gIGxvZyhcImluZm9cIiwgdXJsKTtcbiAgY29uc3QgQVBJX1VSTCA9IG5ldyBVUkwoXCJodHRwOi8va29va29vLmluL291dGJvdW5kL291dGJvdW5kLnBocFwiKTtcbiAgQVBJX1VSTC5zZWFyY2hQYXJhbXMuc2V0KFwiYXBpX2tleVwiLCBhcGlLZXkpO1xuICBBUElfVVJMLnNlYXJjaFBhcmFtcy5zZXQoXCJwaG9uZV9ub1wiLCBpbml0aWF0b3JOdW1iZXIpO1xuICBBUElfVVJMLnNlYXJjaFBhcmFtcy5zZXQoXCJjYWxsZXJfaWRcIiwgZGlkTnVtYmVyKTtcbiAgQVBJX1VSTC5zZWFyY2hQYXJhbXMuc2V0KFwib3V0Ym91bmRfdmVyc2lvblwiLCBcIjJcIik7XG4gIEFQSV9VUkwuc2VhcmNoUGFyYW1zLnNldChcInVybFwiLCB1cmwpO1xuXG4gIGxvZyhcImluZm9cIiwgXCJlbmRcIik7XG4gIHJldHVybiBheGlvcy5kZWZhdWx0LmdldChBUElfVVJMLmhyZWYpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdlLGVBQWVBLFFBQWYsQ0FBd0I7RUFBRUMsR0FBRjtFQUFPQyxTQUFQO0VBQWtCQztBQUFsQixDQUF4QixFQUE2RDtFQUMxRUMsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFSCxHQUFGO0lBQU9DLFNBQVA7SUFBa0JDO0VBQWxCLENBQVQsQ0FBSCxDQUQwRSxDQUUxRTs7RUFDQSxNQUFNRSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXJCOztFQUNBLE1BQU1DLE1BQU0sR0FBRyxvQ0FBZjtFQUNBLE1BQU1DLGNBQWMsR0FBRyxJQUFJQyxHQUFKLENBQVFDLGVBQU9DLGVBQWYsQ0FBdkI7RUFDQSxNQUFNQyxHQUFHLEdBQUksR0FBRUosY0FBYyxDQUFDSyxNQUFPLGdEQUErQ1osR0FBSSxFQUF4RjtFQUNBRyxHQUFHLENBQUMsTUFBRCxFQUFTUSxHQUFULENBQUg7RUFDQSxNQUFNRSxPQUFPLEdBQUcsSUFBSUwsR0FBSixDQUFRLHdDQUFSLENBQWhCO0VBQ0FLLE9BQU8sQ0FBQ0MsWUFBUixDQUFxQkMsR0FBckIsQ0FBeUIsU0FBekIsRUFBb0NULE1BQXBDO0VBQ0FPLE9BQU8sQ0FBQ0MsWUFBUixDQUFxQkMsR0FBckIsQ0FBeUIsVUFBekIsRUFBcUNiLGVBQXJDO0VBQ0FXLE9BQU8sQ0FBQ0MsWUFBUixDQUFxQkMsR0FBckIsQ0FBeUIsV0FBekIsRUFBc0NkLFNBQXRDO0VBQ0FZLE9BQU8sQ0FBQ0MsWUFBUixDQUFxQkMsR0FBckIsQ0FBeUIsa0JBQXpCLEVBQTZDLEdBQTdDO0VBQ0FGLE9BQU8sQ0FBQ0MsWUFBUixDQUFxQkMsR0FBckIsQ0FBeUIsS0FBekIsRUFBZ0NKLEdBQWhDO0VBRUFSLEdBQUcsQ0FBQyxNQUFELEVBQVMsS0FBVCxDQUFIO0VBQ0EsT0FBT0MsS0FBSyxDQUFDWSxPQUFOLENBQWNDLEdBQWQsQ0FBa0JKLE9BQU8sQ0FBQ0ssSUFBMUIsQ0FBUDtBQUNEIn0=","map":{"version":3,"names":["initCall","_id","didNumber","initiatorNumber","log","axios","require","apiKey","applicationUrl","URL","config","application_url","url","origin","API_URL","searchParams","set","default","get","href"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["KookooService.js"],"sourcesContent":["/* eslint-disable import/no-unresolved */\nimport config from \"../config/index\";\n\nexport default async function initCall({ _id, didNumber, initiatorNumber }) {\n  log(\"info\", { _id, didNumber, initiatorNumber });\n  // eslint-disable-next-line global-require\n  const axios = require(\"axios\");\n  const apiKey = \"KK232c980690c3cd35bc9ce18db9477d8b\";\n  const applicationUrl = new URL(config.application_url);\n  const url = `${applicationUrl.origin}/business/outbound-call/external/call/handle/${_id}`;\n  log(\"info\", url);\n  const API_URL = new URL(\"http://kookoo.in/outbound/outbound.php\");\n  API_URL.searchParams.set(\"api_key\", apiKey);\n  API_URL.searchParams.set(\"phone_no\", initiatorNumber);\n  API_URL.searchParams.set(\"caller_id\", didNumber);\n  API_URL.searchParams.set(\"outbound_version\", \"2\");\n  API_URL.searchParams.set(\"url\", url);\n\n  log(\"info\", \"end\");\n  return axios.default.get(API_URL.href);\n}\n"],"mappings":";;;;;;;AACA;;;;AADA;AAGe,eAAeA,QAAf,CAAwB;EAAEC,GAAF;EAAOC,SAAP;EAAkBC;AAAlB,CAAxB,EAA6D;EAC1EC,GAAG,CAAC,MAAD,EAAS;IAAEH,GAAF;IAAOC,SAAP;IAAkBC;EAAlB,CAAT,CAAH,CAD0E,CAE1E;;EACA,MAAME,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;EACA,MAAMC,MAAM,GAAG,oCAAf;EACA,MAAMC,cAAc,GAAG,IAAIC,GAAJ,CAAQC,eAAOC,eAAf,CAAvB;EACA,MAAMC,GAAG,GAAI,GAAEJ,cAAc,CAACK,MAAO,gDAA+CZ,GAAI,EAAxF;EACAG,GAAG,CAAC,MAAD,EAASQ,GAAT,CAAH;EACA,MAAME,OAAO,GAAG,IAAIL,GAAJ,CAAQ,wCAAR,CAAhB;EACAK,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,SAAzB,EAAoCT,MAApC;EACAO,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,UAAzB,EAAqCb,eAArC;EACAW,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,WAAzB,EAAsCd,SAAtC;EACAY,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,kBAAzB,EAA6C,GAA7C;EACAF,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,KAAzB,EAAgCJ,GAAhC;EAEAR,GAAG,CAAC,MAAD,EAAS,KAAT,CAAH;EACA,OAAOC,KAAK,CAACY,OAAN,CAAcC,GAAd,CAAkBJ,OAAO,CAACK,IAA1B,CAAP;AACD"}},"mtime":1653887715146},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/callEventService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Dial = Dial;\nexports.Disconnect = Disconnect;\nexports.Hangup = Hangup;\nexports.NewCall = NewCall;\n\nvar mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar kookooService = _interopRequireWildcard(require(\"./KookooService\"));\n\nvar _BussinesscallSchema = _interopRequireDefault(require(\"../models/mainDbSchema/BussinesscallSchema\"));\n\nvar _DeductCallMinutesService = require(\"./DeductCallMinutesService\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint no-import-assign: 0 */\nmongoose.Promise = global.Promise; // ignore: no-import-assign\n\nasync function NewCall(call, data) {\n  logToJSON('info', {\n    call,\n    data\n  });\n  await AbstractModels.mongoFindOneAndUpdate(_BussinesscallSchema.default, {\n    _id: call._id\n  }, {\n    status: data.status,\n    time: new Date().toISOString()\n  }); // const remainingBalance = await get_remaining_call_minutes(call.organisationId);\n  // if (remainingBalance < 0)\n\n  const outgoingCallResponse = kookooService.outgoingCallResponse({\n    destinationNumber: call.destinationNumber\n  });\n  logToJSON('info', {\n    outgoingCallResponse\n  });\n  return outgoingCallResponse;\n}\n\nasync function Dial(call, data) {\n  logToJSON('info', {\n    call,\n    data\n  });\n  const duration = data.callduration;\n  await AbstractModels.mongoFindOneAndUpdate(_BussinesscallSchema.default, {\n    _id: call._id\n  }, {\n    duration,\n    status: data.status,\n    recording: data.data,\n    isCallEnded: true\n  });\n  await (0, _DeductCallMinutesService.adjust_organisation_call_minutes)(call.organisationId, duration);\n  const kookooHangupResponse = kookooService.hangupResponse();\n  logToJSON('info', kookooHangupResponse);\n  return kookooHangupResponse;\n}\n\nasync function Hangup(call, data) {\n  logToJSON('info', {\n    call,\n    data\n  });\n  const duration = data.callduration;\n  await AbstractModels.mongoFindOneAndUpdate(_BussinesscallSchema.default, {\n    _id: call._id\n  }, {\n    duration,\n    status: data.status,\n    isCallEnded: true,\n    recording: data.data\n  });\n  await (0, _DeductCallMinutesService.adjust_organisation_call_minutes)(call.organisationId, duration);\n  logToJSON('info', 'end');\n  return '';\n}\n\nasync function Disconnect(call, data) {\n  logToJSON('info', {\n    call,\n    data\n  }); // return await AbstractModels.mongoFindOneAndUpdate(BusinessCalls, { _id: call._id }, {\n  //   status: data.status,\n  //   duration: data.callduration,\n  //   isCallEnded: true,\n  // });\n\n  logToJSON('info', 'end');\n  return '';\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJOZXdDYWxsIiwiY2FsbCIsImRhdGEiLCJsb2dUb0pTT04iLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvRmluZE9uZUFuZFVwZGF0ZSIsIkJ1c2luZXNzQ2FsbHMiLCJfaWQiLCJzdGF0dXMiLCJ0aW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib3V0Z29pbmdDYWxsUmVzcG9uc2UiLCJrb29rb29TZXJ2aWNlIiwiZGVzdGluYXRpb25OdW1iZXIiLCJEaWFsIiwiZHVyYXRpb24iLCJjYWxsZHVyYXRpb24iLCJyZWNvcmRpbmciLCJpc0NhbGxFbmRlZCIsIm9yZ2FuaXNhdGlvbklkIiwia29va29vSGFuZ3VwUmVzcG9uc2UiLCJoYW5ndXBSZXNwb25zZSIsIkhhbmd1cCIsIkRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImNhbGxFdmVudFNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLWltcG9ydC1hc3NpZ246IDAgKi9cbmltcG9ydCAqIGFzIG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCAqIGFzIEFic3RyYWN0TW9kZWxzIGZyb20gXCIuLi9tb2RlbHMvQWJzdHJhY3RNb2RlbHNcIjtcbmltcG9ydCAqIGFzIGtvb2tvb1NlcnZpY2UgZnJvbSBcIi4vS29va29vU2VydmljZVwiO1xuaW1wb3J0IEJ1c2luZXNzQ2FsbHMgZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvQnVzc2luZXNzY2FsbFNjaGVtYVwiO1xuaW1wb3J0IHsgYWRqdXN0X29yZ2FuaXNhdGlvbl9jYWxsX21pbnV0ZXMgfSBmcm9tIFwiLi9EZWR1Y3RDYWxsTWludXRlc1NlcnZpY2VcIjtcblxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlOyAvLyBpZ25vcmU6IG5vLWltcG9ydC1hc3NpZ25cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE5ld0NhbGwgKGNhbGwsIGRhdGEpIHtcbiAgbG9nVG9KU09OKCdpbmZvJywgeyBjYWxsLCBkYXRhIH0pO1xuICBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmVBbmRVcGRhdGUoQnVzaW5lc3NDYWxscywgeyBfaWQ6IGNhbGwuX2lkIH0sIHtcbiAgICBzdGF0dXM6IGRhdGEuc3RhdHVzLFxuICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICB9KTtcblxuICAvLyBjb25zdCByZW1haW5pbmdCYWxhbmNlID0gYXdhaXQgZ2V0X3JlbWFpbmluZ19jYWxsX21pbnV0ZXMoY2FsbC5vcmdhbmlzYXRpb25JZCk7XG4gIC8vIGlmIChyZW1haW5pbmdCYWxhbmNlIDwgMClcblxuICBjb25zdCBvdXRnb2luZ0NhbGxSZXNwb25zZSA9IGtvb2tvb1NlcnZpY2Uub3V0Z29pbmdDYWxsUmVzcG9uc2UoeyBkZXN0aW5hdGlvbk51bWJlcjogY2FsbC5kZXN0aW5hdGlvbk51bWJlciB9KTtcbiAgbG9nVG9KU09OKCdpbmZvJywgeyBvdXRnb2luZ0NhbGxSZXNwb25zZSB9KTtcbiAgcmV0dXJuIG91dGdvaW5nQ2FsbFJlc3BvbnNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRGlhbCAoY2FsbCwgZGF0YSkge1xuICBsb2dUb0pTT04oJ2luZm8nLCB7IGNhbGwsIGRhdGEgfSk7XG4gIGNvbnN0IGR1cmF0aW9uID0gZGF0YS5jYWxsZHVyYXRpb247XG4gIGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZUFuZFVwZGF0ZShCdXNpbmVzc0NhbGxzLCB7IF9pZDogY2FsbC5faWQgfSwge1xuICAgIGR1cmF0aW9uLFxuICAgIHN0YXR1czogZGF0YS5zdGF0dXMsXG4gICAgcmVjb3JkaW5nOiBkYXRhLmRhdGEsXG4gICAgaXNDYWxsRW5kZWQ6IHRydWVcbiAgfSk7XG5cbiAgYXdhaXQgYWRqdXN0X29yZ2FuaXNhdGlvbl9jYWxsX21pbnV0ZXMoY2FsbC5vcmdhbmlzYXRpb25JZCwgZHVyYXRpb24pO1xuXG4gIGNvbnN0IGtvb2tvb0hhbmd1cFJlc3BvbnNlID0ga29va29vU2VydmljZS5oYW5ndXBSZXNwb25zZSgpO1xuICBsb2dUb0pTT04oJ2luZm8nLCBrb29rb29IYW5ndXBSZXNwb25zZSk7XG4gIHJldHVybiBrb29rb29IYW5ndXBSZXNwb25zZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEhhbmd1cCAoY2FsbCwgZGF0YSkge1xuICBsb2dUb0pTT04oJ2luZm8nLCB7IGNhbGwsIGRhdGEgfSk7XG4gIGNvbnN0IGR1cmF0aW9uID0gZGF0YS5jYWxsZHVyYXRpb247XG4gIGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZUFuZFVwZGF0ZShCdXNpbmVzc0NhbGxzLCB7IF9pZDogY2FsbC5faWQgfSwge1xuICAgIGR1cmF0aW9uLFxuICAgIHN0YXR1czogZGF0YS5zdGF0dXMsXG4gICAgaXNDYWxsRW5kZWQ6IHRydWUsXG4gICAgcmVjb3JkaW5nOiBkYXRhLmRhdGFcbiAgfSk7XG5cbiAgYXdhaXQgYWRqdXN0X29yZ2FuaXNhdGlvbl9jYWxsX21pbnV0ZXMoY2FsbC5vcmdhbmlzYXRpb25JZCwgZHVyYXRpb24pO1xuXG4gIGxvZ1RvSlNPTignaW5mbycsICdlbmQnKTtcbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRGlzY29ubmVjdCAoY2FsbCwgZGF0YSkge1xuICBsb2dUb0pTT04oJ2luZm8nLCB7IGNhbGwsIGRhdGEgfSk7XG4gIC8vIHJldHVybiBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmVBbmRVcGRhdGUoQnVzaW5lc3NDYWxscywgeyBfaWQ6IGNhbGwuX2lkIH0sIHtcbiAgLy8gICBzdGF0dXM6IGRhdGEuc3RhdHVzLFxuICAvLyAgIGR1cmF0aW9uOiBkYXRhLmNhbGxkdXJhdGlvbixcbiAgLy8gICBpc0NhbGxFbmRlZDog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","map":{"version":3,"names":["mongoose","Promise","global","NewCall","call","data","logToJSON","AbstractModels","mongoFindOneAndUpdate","BusinessCalls","_id","status","time","Date","toISOString","outgoingCallResponse","kookooService","destinationNumber","Dial","duration","callduration","recording","isCallEnded","organisationId","kookooHangupResponse","hangupResponse","Hangup","Disconnect"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["callEventService.js"],"sourcesContent":["/* eslint no-import-assign: 0 */\nimport * as mongoose from 'mongoose';\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport * as kookooService from \"./KookooService\";\nimport BusinessCalls from \"../models/mainDbSchema/BussinesscallSchema\";\nimport { adjust_organisation_call_minutes } from \"./DeductCallMinutesService\";\n\nmongoose.Promise = global.Promise; // ignore: no-import-assign\n\nexport async function NewCall (call, data) {\n  logToJSON('info', { call, data });\n  await AbstractModels.mongoFindOneAndUpdate(BusinessCalls, { _id: call._id }, {\n    status: data.status,\n    time: new Date().toISOString()\n  });\n\n  // const remainingBalance = await get_remaining_call_minutes(call.organisationId);\n  // if (remainingBalance < 0)\n\n  const outgoingCallResponse = kookooService.outgoingCallResponse({ destinationNumber: call.destinationNumber });\n  logToJSON('info', { outgoingCallResponse });\n  return outgoingCallResponse;\n}\n\nexport async function Dial (call, data) {\n  logToJSON('info', { call, data });\n  const duration = data.callduration;\n  await AbstractModels.mongoFindOneAndUpdate(BusinessCalls, { _id: call._id }, {\n    duration,\n    status: data.status,\n    recording: data.data,\n    isCallEnded: true\n  });\n\n  await adjust_organisation_call_minutes(call.organisationId, duration);\n\n  const kookooHangupResponse = kookooService.hangupResponse();\n  logToJSON('info', kookooHangupResponse);\n  return kookooHangupResponse;\n}\n\nexport async function Hangup (call, data) {\n  logToJSON('info', { call, data });\n  const duration = data.callduration;\n  await AbstractModels.mongoFindOneAndUpdate(BusinessCalls, { _id: call._id }, {\n    duration,\n    status: data.status,\n    isCallEnded: true,\n    recording: data.data\n  });\n\n  await adjust_organisation_call_minutes(call.organisationId, duration);\n\n  logToJSON('info', 'end');\n  return '';\n}\n\nexport async function Disconnect (call, data) {\n  logToJSON('info', { call, data });\n  // return await AbstractModels.mongoFindOneAndUpdate(BusinessCalls, { _id: call._id }, {\n  //   status: data.status,\n  //   duration: data.callduration,\n  //   isCallEnded: true,\n  // });\n\n  logToJSON('info', 'end');\n  return '';\n}\n"],"mappings":";;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AALA;AAOAA,QAAQ,CAACC,OAAT,GAAmBC,MAAM,CAACD,OAA1B,C,CAAmC;;AAE5B,eAAeE,OAAf,CAAwBC,IAAxB,EAA8BC,IAA9B,EAAoC;EACzCC,SAAS,CAAC,MAAD,EAAS;IAAEF,IAAF;IAAQC;EAAR,CAAT,CAAT;EACA,MAAME,cAAc,CAACC,qBAAf,CAAqCC,4BAArC,EAAoD;IAAEC,GAAG,EAAEN,IAAI,CAACM;EAAZ,CAApD,EAAuE;IAC3EC,MAAM,EAAEN,IAAI,CAACM,MAD8D;IAE3EC,IAAI,EAAE,IAAIC,IAAJ,GAAWC,WAAX;EAFqE,CAAvE,CAAN,CAFyC,CAOzC;EACA;;EAEA,MAAMC,oBAAoB,GAAGC,aAAa,CAACD,oBAAd,CAAmC;IAAEE,iBAAiB,EAAEb,IAAI,CAACa;EAA1B,CAAnC,CAA7B;EACAX,SAAS,CAAC,MAAD,EAAS;IAAES;EAAF,CAAT,CAAT;EACA,OAAOA,oBAAP;AACD;;AAEM,eAAeG,IAAf,CAAqBd,IAArB,EAA2BC,IAA3B,EAAiC;EACtCC,SAAS,CAAC,MAAD,EAAS;IAAEF,IAAF;IAAQC;EAAR,CAAT,CAAT;EACA,MAAMc,QAAQ,GAAGd,IAAI,CAACe,YAAtB;EACA,MAAMb,cAAc,CAACC,qBAAf,CAAqCC,4BAArC,EAAoD;IAAEC,GAAG,EAAEN,IAAI,CAACM;EAAZ,CAApD,EAAuE;IAC3ES,QAD2E;IAE3ER,MAAM,EAAEN,IAAI,CAACM,MAF8D;IAG3EU,SAAS,EAAEhB,IAAI,CAACA,IAH2D;IAI3EiB,WAAW,EAAE;EAJ8D,CAAvE,CAAN;EAOA,MAAM,gEAAiClB,IAAI,CAACmB,cAAtC,EAAsDJ,QAAtD,CAAN;EAEA,MAAMK,oBAAoB,GAAGR,aAAa,CAACS,cAAd,EAA7B;EACAnB,SAAS,CAAC,MAAD,EAASkB,oBAAT,CAAT;EACA,OAAOA,oBAAP;AACD;;AAEM,eAAeE,MAAf,CAAuBtB,IAAvB,EAA6BC,IAA7B,EAAmC;EACxCC,SAAS,CAAC,MAAD,EAAS;IAAEF,IAAF;IAAQC;EAAR,CAAT,CAAT;EACA,MAAMc,QAAQ,GAAGd,IAAI,CAACe,YAAtB;EACA,MAAMb,cAAc,CAACC,qBAAf,CAAqCC,4BAArC,EAAoD;IAAEC,GAAG,EAAEN,IAAI,CAACM;EAAZ,CAApD,EAAuE;IAC3ES,QAD2E;IAE3ER,MAAM,EAAEN,IAAI,CAACM,MAF8D;IAG3EW,WAAW,EAAE,IAH8D;IAI3ED,SAAS,EAAEhB,IAAI,CAACA;EAJ2D,CAAvE,CAAN;EAOA,MAAM,gEAAiCD,IAAI,CAACmB,cAAtC,EAAsDJ,QAAtD,CAAN;EAEAb,SAAS,CAAC,MAAD,EAAS,KAAT,CAAT;EACA,OAAO,EAAP;AACD;;AAEM,eAAeqB,UAAf,CAA2BvB,IAA3B,EAAiCC,IAAjC,EAAuC;EAC5CC,SAAS,CAAC,MAAD,EAAS;IAAEF,IAAF;IAAQC;EAAR,CAAT,CAAT,CAD4C,CAE5C;EACA;EACA;EACA;EACA;;EAEAC,SAAS,CAAC,MAAD,EAAS,KAAT,CAAT;EACA,OAAO,EAAP;AACD"}},"mtime":1653890779726},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/DeductCallMinutesService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_remaining_call_minutes = exports.adjust_organisation_call_minutes = void 0;\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _OrganisationSchema = _interopRequireDefault(require(\"../models/mainDbSchema/OrganisationSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst get_remaining_call_minutes = async organisation_id => {\n  logToJSON(\"info\", {\n    organisation_id\n  });\n  logToJSON(\"info\", {\n    organisation_id\n  });\n  const organisation = await AbstractModels.mongoFindOne(_OrganisationSchema.default, {\n    organisation_id: organisation_id\n  });\n  const out = parseInt((organisation.call_minutes_available || 0).toString() || \"0\");\n  logToJSON(\"info\", out);\n  return out;\n};\n\nexports.get_remaining_call_minutes = get_remaining_call_minutes;\n\nconst adjust_organisation_call_minutes = async (organisation_id, call_duration) => {\n  logToJSON(\"info\", {\n    organisation_id,\n    call_duration\n  });\n  logToJSON(\"info\", {\n    organisation_id,\n    call_duration\n  });\n  await AbstractModels.mongoUpdateOne(_OrganisationSchema.default, {\n    organisation_id\n  }, {\n    $inc: {\n      call_minutes_available: -1 * call_duration\n    }\n  });\n};\n\nexports.adjust_organisation_call_minutes = adjust_organisation_call_minutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRfcmVtYWluaW5nX2NhbGxfbWludXRlcyIsIm9yZ2FuaXNhdGlvbl9pZCIsImxvZ1RvSlNPTiIsIm9yZ2FuaXNhdGlvbiIsIkFic3RyYWN0TW9kZWxzIiwibW9uZ29GaW5kT25lIiwiT3JnYW5pc2F0aW9ucyIsIm91dCIsInBhcnNlSW50IiwiY2FsbF9taW51dGVzX2F2YWlsYWJsZSIsInRvU3RyaW5nIiwiYWRqdXN0X29yZ2FuaXNhdGlvbl9jYWxsX21pbnV0ZXMiLCJjYWxsX2R1cmF0aW9uIiwibW9uZ29VcGRhdGVPbmUiLCIkaW5jIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvc2VydmljZXMvIiwic291cmNlcyI6WyJEZWR1Y3RDYWxsTWludXRlc1NlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWJzdHJhY3RNb2RlbHMgZnJvbSBcIi4uL21vZGVscy9BYnN0cmFjdE1vZGVsc1wiO1xuaW1wb3J0IE9yZ2FuaXNhdGlvbnMgZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvT3JnYW5pc2F0aW9uU2NoZW1hXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRfcmVtYWluaW5nX2NhbGxfbWludXRlcyA9IGFzeW5jIChvcmdhbmlzYXRpb25faWQpID0+IHtcbiAgbG9nVG9KU09OKFwiaW5mb1wiLCB7IG9yZ2FuaXNhdGlvbl9pZCB9KTtcbiAgbG9nVG9KU09OKFwiaW5mb1wiLCB7IG9yZ2FuaXNhdGlvbl9pZCB9KTtcbiAgY29uc3Qgb3JnYW5pc2F0aW9uID0gYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29GaW5kT25lKFxuICAgIE9yZ2FuaXNhdGlvbnMsXG4gICAgeyBvcmdhbmlzYXRpb25faWQ6IG9yZ2FuaXNhdGlvbl9pZCB9XG4gICk7XG4gIGNvbnN0IG91dCA9IHBhcnNlSW50KChvcmdhbmlzYXRpb24uY2FsbF9taW51dGVzX2F2YWlsYWJsZSB8fCAwKS50b1N0cmluZygpIHx8IFwiMFwiKTtcbiAgbG9nVG9KU09OKFwiaW5mb1wiLCBvdXQpO1xuICByZXR1cm4gb3V0O1xufTtcblxuZXhwb3J0IGNvbnN0IGFkanVzdF9vcmdhbmlzYXRpb25fY2FsbF9taW51dGVzID0gYXN5bmMgKG9yZ2FuaXNhdGlvbl9pZCwgY2FsbF9kdXJhdGlvbikgPT4ge1xuICBsb2dUb0pTT04oXCJpbmZvXCIsIHsgb3JnYW5pc2F0aW9uX2lkLCBjYWxsX2R1cmF0aW9uIH0pO1xuICBsb2dUb0pTT04oXCJpbmZvXCIsIHsgb3JnYW5pc2F0aW9uX2lkLCBjYWxsX2R1cmF0aW9uIH0pO1xuICBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb1VwZGF0ZU9uZShcbiAgICBPcmdhbmlzYXRpb25zLFxuICAgIHsgb3JnYW5pc2F0aW9uX2lkIH0sXG4gICAgeyAkaW5jOiB7IGNhbGxfbWludXRlc19hdmFpbGFibGU6IC0xICogY2FsbF9kdXJhdGlvbiB9IH1cbiAgKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7QUFFTyxNQUFNQSwwQkFBMEIsR0FBRyxNQUFPQyxlQUFQLElBQTJCO0VBQ25FQyxTQUFTLENBQUMsTUFBRCxFQUFTO0lBQUVEO0VBQUYsQ0FBVCxDQUFUO0VBQ0FDLFNBQVMsQ0FBQyxNQUFELEVBQVM7SUFBRUQ7RUFBRixDQUFULENBQVQ7RUFDQSxNQUFNRSxZQUFZLEdBQUcsTUFBTUMsY0FBYyxDQUFDQyxZQUFmLENBQ3pCQywyQkFEeUIsRUFFekI7SUFBRUwsZUFBZSxFQUFFQTtFQUFuQixDQUZ5QixDQUEzQjtFQUlBLE1BQU1NLEdBQUcsR0FBR0MsUUFBUSxDQUFDLENBQUNMLFlBQVksQ0FBQ00sc0JBQWIsSUFBdUMsQ0FBeEMsRUFBMkNDLFFBQTNDLE1BQXlELEdBQTFELENBQXBCO0VBQ0FSLFNBQVMsQ0FBQyxNQUFELEVBQVNLLEdBQVQsQ0FBVDtFQUNBLE9BQU9BLEdBQVA7QUFDRCxDQVZNOzs7O0FBWUEsTUFBTUksZ0NBQWdDLEdBQUcsT0FBT1YsZUFBUCxFQUF3QlcsYUFBeEIsS0FBMEM7RUFDeEZWLFNBQVMsQ0FBQyxNQUFELEVBQVM7SUFBRUQsZUFBRjtJQUFtQlc7RUFBbkIsQ0FBVCxDQUFUO0VBQ0FWLFNBQVMsQ0FBQyxNQUFELEVBQVM7SUFBRUQsZUFBRjtJQUFtQlc7RUFBbkIsQ0FBVCxDQUFUO0VBQ0EsTUFBTVIsY0FBYyxDQUFDUyxjQUFmLENBQ0pQLDJCQURJLEVBRUo7SUFBRUw7RUFBRixDQUZJLEVBR0o7SUFBRWEsSUFBSSxFQUFFO01BQUVMLHNCQUFzQixFQUFFLENBQUMsQ0FBRCxHQUFLRztJQUEvQjtFQUFSLENBSEksQ0FBTjtBQUtELENBUk0ifQ==","map":{"version":3,"names":["get_remaining_call_minutes","organisation_id","logToJSON","organisation","AbstractModels","mongoFindOne","Organisations","out","parseInt","call_minutes_available","toString","adjust_organisation_call_minutes","call_duration","mongoUpdateOne","$inc"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/services/","sources":["DeductCallMinutesService.js"],"sourcesContent":["import * as AbstractModels from \"../models/AbstractModels\";\nimport Organisations from \"../models/mainDbSchema/OrganisationSchema\";\n\nexport const get_remaining_call_minutes = async (organisation_id) => {\n  logToJSON(\"info\", { organisation_id });\n  logToJSON(\"info\", { organisation_id });\n  const organisation = await AbstractModels.mongoFindOne(\n    Organisations,\n    { organisation_id: organisation_id }\n  );\n  const out = parseInt((organisation.call_minutes_available || 0).toString() || \"0\");\n  logToJSON(\"info\", out);\n  return out;\n};\n\nexport const adjust_organisation_call_minutes = async (organisation_id, call_duration) => {\n  logToJSON(\"info\", { organisation_id, call_duration });\n  logToJSON(\"info\", { organisation_id, call_duration });\n  await AbstractModels.mongoUpdateOne(\n    Organisations,\n    { organisation_id },\n    { $inc: { call_minutes_available: -1 * call_duration } }\n  );\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEO,MAAMA,0BAA0B,GAAG,MAAOC,eAAP,IAA2B;EACnEC,SAAS,CAAC,MAAD,EAAS;IAAED;EAAF,CAAT,CAAT;EACAC,SAAS,CAAC,MAAD,EAAS;IAAED;EAAF,CAAT,CAAT;EACA,MAAME,YAAY,GAAG,MAAMC,cAAc,CAACC,YAAf,CACzBC,2BADyB,EAEzB;IAAEL,eAAe,EAAEA;EAAnB,CAFyB,CAA3B;EAIA,MAAMM,GAAG,GAAGC,QAAQ,CAAC,CAACL,YAAY,CAACM,sBAAb,IAAuC,CAAxC,EAA2CC,QAA3C,MAAyD,GAA1D,CAApB;EACAR,SAAS,CAAC,MAAD,EAASK,GAAT,CAAT;EACA,OAAOA,GAAP;AACD,CAVM;;;;AAYA,MAAMI,gCAAgC,GAAG,OAAOV,eAAP,EAAwBW,aAAxB,KAA0C;EACxFV,SAAS,CAAC,MAAD,EAAS;IAAED,eAAF;IAAmBW;EAAnB,CAAT,CAAT;EACAV,SAAS,CAAC,MAAD,EAAS;IAAED,eAAF;IAAmBW;EAAnB,CAAT,CAAT;EACA,MAAMR,cAAc,CAACS,cAAf,CACJP,2BADI,EAEJ;IAAEL;EAAF,CAFI,EAGJ;IAAEa,IAAI,EAAE;MAAEL,sBAAsB,EAAE,CAAC,CAAD,GAAKG;IAA/B;EAAR,CAHI,CAAN;AAKD,CARM"}},"mtime":1653892512688},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/Health.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _HealthController = _interopRequireDefault(require(\"../controllers/HealthController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.get(\"/health-check\", _HealthController.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJnZXQiLCJoZWFsdGhDaGVjayJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL3JvdXRlcy8iLCJzb3VyY2VzIjpbIkhlYWx0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGhlYWx0aENoZWNrIGZyb20gXCIuLi9jb250cm9sbGVycy9IZWFsdGhDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL2hlYWx0aC1jaGVja1wiLCBoZWFsdGhDaGVjayk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUVBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxlQUFYLEVBQTRCQyx5QkFBNUI7ZUFDZUYsTSJ9","map":{"version":3,"names":["router","get","healthCheck"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/routes/","sources":["Health.js"],"sourcesContent":["import { Router } from \"express\";\nimport healthCheck from \"../controllers/HealthController\";\n\nconst router = Router();\n\nrouter.get(\"/health-check\", healthCheck);\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,eAAX,EAA4BC,yBAA5B;eACeF,M"}},"mtime":1653649505371},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/HealthController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst healthCheck = async (req, res, next) => {\n  res.data = {};\n  log(\"info\", \"health check\");\n  next();\n};\n\nvar _default = healthCheck;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWFsdGhDaGVjayIsInJlcSIsInJlcyIsIm5leHQiLCJkYXRhIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJIZWFsdGhDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhlYWx0aENoZWNrID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5kYXRhID0ge307XG4gIGxvZyhcImluZm9cIiwgXCJoZWFsdGggY2hlY2tcIik7XG4gIG5leHQoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhlYWx0aENoZWNrO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDNUNELEdBQUcsQ0FBQ0UsSUFBSixHQUFXLEVBQVg7RUFDQUMsR0FBRyxDQUFDLE1BQUQsRUFBUyxjQUFULENBQUg7RUFDQUYsSUFBSTtBQUNMLENBSkQ7O2VBTWVILFcifQ==","map":{"version":3,"names":["healthCheck","req","res","next","data","log"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/controllers/","sources":["HealthController.js"],"sourcesContent":["const healthCheck = async (req, res, next) => {\n  res.data = {};\n  log(\"info\", \"health check\");\n  next();\n};\n\nexport default healthCheck;\n"],"mappings":";;;;;;;AAAA,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC5CD,GAAG,CAACE,IAAJ,GAAW,EAAX;EACAC,GAAG,CAAC,MAAD,EAAS,cAAT,CAAH;EACAF,IAAI;AACL,CAJD;;eAMeH,W"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/RequestLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.auditLogRequest = void 0;\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar Auth = _interopRequireWildcard(require(\"./Auth\"));\n\nvar _index = require(\"../models/analyticsDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst auditLogRequest = req => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body\n  };\n  const apiKey = req.header(\"api-key\");\n\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n\n  AbstractModels.mongoInsertOne(_index.AuditLogs, doc);\n};\n\nexports.auditLogRequest = auditLogRequest;\n\nconst reqLog = (req, res, next) => {\n  const routeObj = Auth.setMetrics(req, res);\n  req.routeObj = routeObj;\n\n  if (routeObj.routeCategory !== \"healthCheckRoutes\") {\n    next();\n  } else {\n    next();\n  }\n};\n\nvar _default = reqLog;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpdExvZ1JlcXVlc3QiLCJyZXEiLCJkb2MiLCJvcmlnaW5hbFVybCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJpcEFkZHJlc3MiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJldmVudFR5cGUiLCJyb3V0ZU9iaiIsInJlcXVlc3RCb2R5IiwiYm9keSIsImFwaUtleSIsImhlYWRlciIsIkFic3RyYWN0TW9kZWxzIiwibW9uZ29JbnNlcnRPbmUiLCJBdWRpdExvZ3MiLCJyZXFMb2ciLCJyZXMiLCJuZXh0IiwiQXV0aCIsInNldE1ldHJpY3MiLCJyb3V0ZUNhdGVnb3J5Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJSZXF1ZXN0TG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFic3RyYWN0TW9kZWxzIGZyb20gXCIuLi9tb2RlbHMvQWJzdHJhY3RNb2RlbHNcIjtcbmltcG9ydCAqIGFzIEF1dGggZnJvbSBcIi4vQXV0aFwiO1xuXG5pbXBvcnQgeyBBdWRpdExvZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL2FuYWx5dGljc0RiU2NoZW1hL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBhdWRpdExvZ1JlcXVlc3QgPSAocmVxKSA9PiB7XG4gIGNvbnN0IGRvYyA9IHtcbiAgICBvcmlnaW5hbFVybDogcmVxLm9yaWdpbmFsVXJsLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICB1c2VyQWdlbnQ6IHJlcS5oZWFkZXJzW1widXNlci1hZ2VudFwiXSxcbiAgICBpcEFkZHJlc3M6IHJlcS5oZWFkZXJzW1wieC1mb3J3YXJkZWQtZm9yXCJdIHx8IHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3MsXG4gICAgY29ycmVsYXRpb25JZDogcmVxLmhlYWRlcnMuY29ycmVsYXRpb25JZCxcbiAgICBldmVudFR5cGU6IHJlcS5yb3V0ZU9iai5ldmVudFR5cGUsXG4gICAgcmVxdWVzdEJvZHk6IHJlcS5ib2R5LFxuICB9O1xuICBjb25zdCBhcGlLZXkgPSByZXEuaGVhZGVyKFwiYXBpLWtleVwiKTtcbiAgaWYgKGFwaUtleSkge1xuICAgIGRvYy5hcGlLZXkgPSBhcGlLZXk7XG4gIH1cbiAgQWJzdHJhY3RNb2RlbHMubW9uZ29JbnNlcnRPbmUoQXVkaXRMb2dzLCBkb2MpO1xufTtcblxuY29uc3QgcmVxTG9nID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHJvdXRlT2JqID0gQXV0aC5zZXRNZXRyaWNzKHJlcSwgcmVzKTtcbiAgcmVxLnJvdXRlT2JqID0gcm91dGVPYmo7XG4gIGlmIChyb3V0ZU9iai5yb3V0ZUNhdGVnb3J5ICE9PSBcImhlYWx0aENoZWNrUm91dGVzXCIpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZXFMb2c7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7Ozs7O0FBRU8sTUFBTUEsZUFBZSxHQUFJQyxHQUFELElBQVM7RUFDdEMsTUFBTUMsR0FBRyxHQUFHO0lBQ1ZDLFdBQVcsRUFBRUYsR0FBRyxDQUFDRSxXQURQO0lBRVZDLE1BQU0sRUFBRUgsR0FBRyxDQUFDRyxNQUZGO0lBR1ZDLFNBQVMsRUFBRUosR0FBRyxDQUFDSyxPQUFKLENBQVksWUFBWixDQUhEO0lBSVZDLFNBQVMsRUFBRU4sR0FBRyxDQUFDSyxPQUFKLENBQVksaUJBQVosS0FBa0NMLEdBQUcsQ0FBQ08sVUFBSixDQUFlQyxhQUpsRDtJQUtWQyxhQUFhLEVBQUVULEdBQUcsQ0FBQ0ssT0FBSixDQUFZSSxhQUxqQjtJQU1WQyxTQUFTLEVBQUVWLEdBQUcsQ0FBQ1csUUFBSixDQUFhRCxTQU5kO0lBT1ZFLFdBQVcsRUFBRVosR0FBRyxDQUFDYTtFQVBQLENBQVo7RUFTQSxNQUFNQyxNQUFNLEdBQUdkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXLFNBQVgsQ0FBZjs7RUFDQSxJQUFJRCxNQUFKLEVBQVk7SUFDVmIsR0FBRyxDQUFDYSxNQUFKLEdBQWFBLE1BQWI7RUFDRDs7RUFDREUsY0FBYyxDQUFDQyxjQUFmLENBQThCQyxnQkFBOUIsRUFBeUNqQixHQUF6QztBQUNELENBZk07Ozs7QUFpQlAsTUFBTWtCLE1BQU0sR0FBRyxDQUFDbkIsR0FBRCxFQUFNb0IsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0VBQ2pDLE1BQU1WLFFBQVEsR0FBR1csSUFBSSxDQUFDQyxVQUFMLENBQWdCdkIsR0FBaEIsRUFBcUJvQixHQUFyQixDQUFqQjtFQUNBcEIsR0FBRyxDQUFDVyxRQUFKLEdBQWVBLFFBQWY7O0VBQ0EsSUFBSUEsUUFBUSxDQUFDYSxhQUFULEtBQTJCLG1CQUEvQixFQUFvRDtJQUNsREgsSUFBSTtFQUNMLENBRkQsTUFFTztJQUNMQSxJQUFJO0VBQ0w7QUFDRixDQVJEOztlQVVlRixNIn0=","map":{"version":3,"names":["auditLogRequest","req","doc","originalUrl","method","userAgent","headers","ipAddress","connection","remoteAddress","correlationId","eventType","routeObj","requestBody","body","apiKey","header","AbstractModels","mongoInsertOne","AuditLogs","reqLog","res","next","Auth","setMetrics","routeCategory"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/","sources":["RequestLogger.js"],"sourcesContent":["import * as AbstractModels from \"../models/AbstractModels\";\nimport * as Auth from \"./Auth\";\n\nimport { AuditLogs } from \"../models/analyticsDbSchema/index\";\n\nexport const auditLogRequest = (req) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n  };\n  const apiKey = req.header(\"api-key\");\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n  AbstractModels.mongoInsertOne(AuditLogs, doc);\n};\n\nconst reqLog = (req, res, next) => {\n  const routeObj = Auth.setMetrics(req, res);\n  req.routeObj = routeObj;\n  if (routeObj.routeCategory !== \"healthCheckRoutes\") {\n    next();\n  } else {\n    next();\n  }\n};\n\nexport default reqLog;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;;;AAEO,MAAMA,eAAe,GAAIC,GAAD,IAAS;EACtC,MAAMC,GAAG,GAAG;IACVC,WAAW,EAAEF,GAAG,CAACE,WADP;IAEVC,MAAM,EAAEH,GAAG,CAACG,MAFF;IAGVC,SAAS,EAAEJ,GAAG,CAACK,OAAJ,CAAY,YAAZ,CAHD;IAIVC,SAAS,EAAEN,GAAG,CAACK,OAAJ,CAAY,iBAAZ,KAAkCL,GAAG,CAACO,UAAJ,CAAeC,aAJlD;IAKVC,aAAa,EAAET,GAAG,CAACK,OAAJ,CAAYI,aALjB;IAMVC,SAAS,EAAEV,GAAG,CAACW,QAAJ,CAAaD,SANd;IAOVE,WAAW,EAAEZ,GAAG,CAACa;EAPP,CAAZ;EASA,MAAMC,MAAM,GAAGd,GAAG,CAACe,MAAJ,CAAW,SAAX,CAAf;;EACA,IAAID,MAAJ,EAAY;IACVb,GAAG,CAACa,MAAJ,GAAaA,MAAb;EACD;;EACDE,cAAc,CAACC,cAAf,CAA8BC,gBAA9B,EAAyCjB,GAAzC;AACD,CAfM;;;;AAiBP,MAAMkB,MAAM,GAAG,CAACnB,GAAD,EAAMoB,GAAN,EAAWC,IAAX,KAAoB;EACjC,MAAMV,QAAQ,GAAGW,IAAI,CAACC,UAAL,CAAgBvB,GAAhB,EAAqBoB,GAArB,CAAjB;EACApB,GAAG,CAACW,QAAJ,GAAeA,QAAf;;EACA,IAAIA,QAAQ,CAACa,aAAT,KAA2B,mBAA/B,EAAoD;IAClDH,IAAI;EACL,CAFD,MAEO;IACLA,IAAI;EACL;AACF,CARD;;eAUeF,M"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.conn = exports.AuditLogs = void 0;\n\nvar analyticsDbConnection = _interopRequireWildcard(require(\"../../connections/AnalyticsDb\"));\n\nvar _AuditLogsSchema = _interopRequireDefault(require(\"./AuditLogsSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// load schemas\nconst conn = analyticsDbConnection.getDbInstance();\nexports.conn = conn;\nconst AuditLogs = conn.model(\"AuditLogs\", _AuditLogsSchema.default, \"AuditLogs\");\nexports.AuditLogs = AuditLogs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiYW5hbHl0aWNzRGJDb25uZWN0aW9uIiwiZ2V0RGJJbnN0YW5jZSIsIkF1ZGl0TG9ncyIsIm1vZGVsIiwiQXVkaXRMb2dzU2NoZW1hIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL2FuYWx5dGljc0RiU2NoZW1hLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYW5hbHl0aWNzRGJDb25uZWN0aW9uIGZyb20gXCIuLi8uLi9jb25uZWN0aW9ucy9BbmFseXRpY3NEYlwiO1xuLy8gbG9hZCBzY2hlbWFzXG5pbXBvcnQgQXVkaXRMb2dzU2NoZW1hIGZyb20gXCIuL0F1ZGl0TG9nc1NjaGVtYVwiO1xuXG5leHBvcnQgY29uc3QgY29ubiA9IGFuYWx5dGljc0RiQ29ubmVjdGlvbi5nZXREYkluc3RhbmNlKCk7XG5leHBvcnQgY29uc3QgQXVkaXRMb2dzID0gY29ubi5tb2RlbChcIkF1ZGl0TG9nc1wiLCBBdWRpdExvZ3NTY2hlbWEsIFwiQXVkaXRMb2dzXCIpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7Ozs7O0FBREE7QUFHTyxNQUFNQSxJQUFJLEdBQUdDLHFCQUFxQixDQUFDQyxhQUF0QixFQUFiOztBQUNBLE1BQU1DLFNBQVMsR0FBR0gsSUFBSSxDQUFDSSxLQUFMLENBQVcsV0FBWCxFQUF3QkMsd0JBQXhCLEVBQXlDLFdBQXpDLENBQWxCIn0=","map":{"version":3,"names":["conn","analyticsDbConnection","getDbInstance","AuditLogs","model","AuditLogsSchema"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/","sources":["index.js"],"sourcesContent":["import * as analyticsDbConnection from \"../../connections/AnalyticsDb\";\n// load schemas\nimport AuditLogsSchema from \"./AuditLogsSchema\";\n\nexport const conn = analyticsDbConnection.getDbInstance();\nexport const AuditLogs = conn.model(\"AuditLogs\", AuditLogsSchema, \"AuditLogs\");\n"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;AADA;AAGO,MAAMA,IAAI,GAAGC,qBAAqB,CAACC,aAAtB,EAAb;;AACA,MAAMC,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAW,WAAX,EAAwBC,wBAAxB,EAAyC,WAAzC,CAAlB"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/AuditLogsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst AuditLogsSchema = new _mongoose.Schema({\n  originalUrl: {\n    type: String,\n    required: true\n  },\n  method: {\n    type: String,\n    required: true\n  },\n  userAgent: {\n    type: String,\n    required: true\n  },\n  ipAddress: {\n    type: String,\n    required: true\n  },\n  correlationId: {\n    type: String,\n    required: true\n  },\n  status: {\n    type: String\n  },\n  responseTime: {\n    type: Number\n  },\n  username: {\n    type: String\n  },\n  apiKey: {\n    type: String\n  },\n  clientId: {\n    type: String\n  },\n  eventType: {\n    type: String\n  },\n  requestBody: {\n    type: Object\n  },\n  response: {\n    type: Object\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nvar _default = AuditLogsSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBdWRpdExvZ3NTY2hlbWEiLCJTY2hlbWEiLCJvcmlnaW5hbFVybCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImlwQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJzdGF0dXMiLCJyZXNwb25zZVRpbWUiLCJOdW1iZXIiLCJ1c2VybmFtZSIsImFwaUtleSIsImNsaWVudElkIiwiZXZlbnRUeXBlIiwicmVxdWVzdEJvZHkiLCJPYmplY3QiLCJyZXNwb25zZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbW9kZWxzL2FuYWx5dGljc0RiU2NoZW1hLyIsInNvdXJjZXMiOlsiQXVkaXRMb2dzU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBBdWRpdExvZ3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgb3JpZ2luYWxVcmw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIG1ldGhvZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgdXNlckFnZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBpcEFkZHJlc3M6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIGNvcnJlbGF0aW9uSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcmVzcG9uc2VUaW1lOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgYXBpS2V5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBjbGllbnRJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgZXZlbnRUeXBlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICByZXF1ZXN0Qm9keToge1xuICAgIHR5cGU6IE9iamVjdCxcbiAgfSxcbiAgcmVzcG9uc2U6IHtcbiAgICB0eXBlOiBPYmplY3QsXG4gIH0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gIH0sXG4gIHVwZGF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXVkaXRMb2dzU2NoZW1hO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsZUFBZSxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDakNDLFdBQVcsRUFBRTtJQUNYQyxJQUFJLEVBQUVDLE1BREs7SUFFWEMsUUFBUSxFQUFFO0VBRkMsQ0FEb0I7RUFLakNDLE1BQU0sRUFBRTtJQUNOSCxJQUFJLEVBQUVDLE1BREE7SUFFTkMsUUFBUSxFQUFFO0VBRkosQ0FMeUI7RUFTakNFLFNBQVMsRUFBRTtJQUNUSixJQUFJLEVBQUVDLE1BREc7SUFFVEMsUUFBUSxFQUFFO0VBRkQsQ0FUc0I7RUFhakNHLFNBQVMsRUFBRTtJQUNUTCxJQUFJLEVBQUVDLE1BREc7SUFFVEMsUUFBUSxFQUFFO0VBRkQsQ0Fic0I7RUFpQmpDSSxhQUFhLEVBQUU7SUFDYk4sSUFBSSxFQUFFQyxNQURPO0lBRWJDLFFBQVEsRUFBRTtFQUZHLENBakJrQjtFQXFCakNLLE1BQU0sRUFBRTtJQUNOUCxJQUFJLEVBQUVDO0VBREEsQ0FyQnlCO0VBd0JqQ08sWUFBWSxFQUFFO0lBQ1pSLElBQUksRUFBRVM7RUFETSxDQXhCbUI7RUEyQmpDQyxRQUFRLEVBQUU7SUFDUlYsSUFBSSxFQUFFQztFQURFLENBM0J1QjtFQThCakNVLE1BQU0sRUFBRTtJQUNOWCxJQUFJLEVBQUVDO0VBREEsQ0E5QnlCO0VBaUNqQ1csUUFBUSxFQUFFO0lBQ1JaLElBQUksRUFBRUM7RUFERSxDQWpDdUI7RUFvQ2pDWSxTQUFTLEVBQUU7SUFDVGIsSUFBSSxFQUFFQztFQURHLENBcENzQjtFQXVDakNhLFdBQVcsRUFBRTtJQUNYZCxJQUFJLEVBQUVlO0VBREssQ0F2Q29CO0VBMENqQ0MsUUFBUSxFQUFFO0lBQ1JoQixJQUFJLEVBQUVlO0VBREUsQ0ExQ3VCO0VBNkNqQ0UsU0FBUyxFQUFFO0lBQ1RqQixJQUFJLEVBQUVrQixJQURHO0lBRVRDLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtFQUZMLENBN0NzQjtFQWlEakNDLFNBQVMsRUFBRTtJQUNUckIsSUFBSSxFQUFFa0IsSUFERztJQUVUQyxPQUFPLEVBQUVELElBQUksQ0FBQ0U7RUFGTDtBQWpEc0IsQ0FBWCxDQUF4QjtlQXVEZXZCLGUifQ==","map":{"version":3,"names":["AuditLogsSchema","Schema","originalUrl","type","String","required","method","userAgent","ipAddress","correlationId","status","responseTime","Number","username","apiKey","clientId","eventType","requestBody","Object","response","createdAt","Date","default","now","updatedAt"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/models/analyticsDbSchema/","sources":["AuditLogsSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst AuditLogsSchema = new Schema({\n  originalUrl: {\n    type: String,\n    required: true,\n  },\n  method: {\n    type: String,\n    required: true,\n  },\n  userAgent: {\n    type: String,\n    required: true,\n  },\n  ipAddress: {\n    type: String,\n    required: true,\n  },\n  correlationId: {\n    type: String,\n    required: true,\n  },\n  status: {\n    type: String,\n  },\n  responseTime: {\n    type: Number,\n  },\n  username: {\n    type: String,\n  },\n  apiKey: {\n    type: String,\n  },\n  clientId: {\n    type: String,\n  },\n  eventType: {\n    type: String,\n  },\n  requestBody: {\n    type: Object,\n  },\n  response: {\n    type: Object,\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now,\n  },\n});\n\nexport default AuditLogsSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,eAAe,GAAG,IAAIC,gBAAJ,CAAW;EACjCC,WAAW,EAAE;IACXC,IAAI,EAAEC,MADK;IAEXC,QAAQ,EAAE;EAFC,CADoB;EAKjCC,MAAM,EAAE;IACNH,IAAI,EAAEC,MADA;IAENC,QAAQ,EAAE;EAFJ,CALyB;EASjCE,SAAS,EAAE;IACTJ,IAAI,EAAEC,MADG;IAETC,QAAQ,EAAE;EAFD,CATsB;EAajCG,SAAS,EAAE;IACTL,IAAI,EAAEC,MADG;IAETC,QAAQ,EAAE;EAFD,CAbsB;EAiBjCI,aAAa,EAAE;IACbN,IAAI,EAAEC,MADO;IAEbC,QAAQ,EAAE;EAFG,CAjBkB;EAqBjCK,MAAM,EAAE;IACNP,IAAI,EAAEC;EADA,CArByB;EAwBjCO,YAAY,EAAE;IACZR,IAAI,EAAES;EADM,CAxBmB;EA2BjCC,QAAQ,EAAE;IACRV,IAAI,EAAEC;EADE,CA3BuB;EA8BjCU,MAAM,EAAE;IACNX,IAAI,EAAEC;EADA,CA9ByB;EAiCjCW,QAAQ,EAAE;IACRZ,IAAI,EAAEC;EADE,CAjCuB;EAoCjCY,SAAS,EAAE;IACTb,IAAI,EAAEC;EADG,CApCsB;EAuCjCa,WAAW,EAAE;IACXd,IAAI,EAAEe;EADK,CAvCoB;EA0CjCC,QAAQ,EAAE;IACRhB,IAAI,EAAEe;EADE,CA1CuB;EA6CjCE,SAAS,EAAE;IACTjB,IAAI,EAAEkB,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL,CA7CsB;EAiDjCC,SAAS,EAAE;IACTrB,IAAI,EAAEkB,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL;AAjDsB,CAAX,CAAxB;eAuDevB,e"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/ResponseLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resSuccessLog = exports.resErrorLog = void 0;\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _index = require(\"../models/analyticsDbSchema/index\");\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst auditLogResponse = (error, req, res) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n    responseTime: new Date().getTime() - req.routeObj.startTime,\n    status: true\n  };\n  const apiKey = req.header(\"api-key\");\n\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n\n  if (req.session) {\n    doc.mobileNumber = req.session.mobileNumber;\n    doc.clientId = req.session.clientId;\n    doc.apiKey = req.session.apiKey;\n  }\n\n  if (req.routeObj) {\n    doc.routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (error) {\n    doc.response = {\n      code: error.code || 1000,\n      reason: error.message,\n      stack: error.stack\n    };\n    doc.status = false;\n  } else {\n    doc.response = res.data;\n  }\n\n  AbstractModels.mongoInsertOne(_index.AuditLogs, doc);\n};\n\nconst resSuccessLog = (req, res) => {\n  let routeCategory;\n\n  if (req.routeObj && req.routeObj.routeCategory) {\n    routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (routeCategory !== \"healthCheckRoutes\") {\n    auditLogResponse(null, req, res);\n  }\n\n  res.status(res.statusCode || 200).send({\n    status: true,\n    response: res.data\n  });\n};\n/**\n * Check if not custom error, creates internal error and returns\n * @param {*} error\n * @returns\n */\n\n\nexports.resSuccessLog = resSuccessLog;\n\nfunction maskSystemError(error) {\n  if (error.name !== \"ErrorUtils\") {\n    return ErrorUtils.InternalServerError();\n  }\n\n  return error;\n}\n\nconst resErrorLog = (error, req, res, next) => {\n  log(\"error\", error.stack);\n  auditLogResponse(error, req, res); // eslint-disable-next-line\n\n  error = maskSystemError(error);\n\n  if (res.headersSent) {\n    return next(error);\n  }\n\n  res.status(error.statusCode || 200);\n  return res.send({\n    status: false,\n    response: {\n      code: error.code || 1000,\n      reason: error.message\n    }\n  });\n};\n\nexports.resErrorLog = resErrorLog;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpdExvZ1Jlc3BvbnNlIiwiZXJyb3IiLCJyZXEiLCJyZXMiLCJkb2MiLCJvcmlnaW5hbFVybCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJpcEFkZHJlc3MiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJldmVudFR5cGUiLCJyb3V0ZU9iaiIsInJlcXVlc3RCb2R5IiwiYm9keSIsInJlc3BvbnNlVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwic3RhcnRUaW1lIiwic3RhdHVzIiwiYXBpS2V5IiwiaGVhZGVyIiwic2Vzc2lvbiIsIm1vYmlsZU51bWJlciIsImNsaWVudElkIiwicm91dGVDYXRlZ29yeSIsInJlc3BvbnNlIiwiY29kZSIsInJlYXNvbiIsIm1lc3NhZ2UiLCJzdGFjayIsImRhdGEiLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvSW5zZXJ0T25lIiwiQXVkaXRMb2dzIiwicmVzU3VjY2Vzc0xvZyIsInN0YXR1c0NvZGUiLCJzZW5kIiwibWFza1N5c3RlbUVycm9yIiwibmFtZSIsIkVycm9yVXRpbHMiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwicmVzRXJyb3JMb2ciLCJuZXh0IiwibG9nIiwiaGVhZGVyc1NlbnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9taWRkbGV3YXJlcy8iLCJzb3VyY2VzIjpbIlJlc3BvbnNlTG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFic3RyYWN0TW9kZWxzIGZyb20gXCIuLi9tb2RlbHMvQWJzdHJhY3RNb2RlbHNcIjtcbmltcG9ydCB7IEF1ZGl0TG9ncyB9IGZyb20gXCIuLi9tb2RlbHMvYW5hbHl0aWNzRGJTY2hlbWEvaW5kZXhcIjtcbmltcG9ydCAqIGFzIEVycm9yVXRpbHMgZnJvbSBcIi4uL2Vycm9ycy9FcnJvclV0aWxzXCI7XG5cbmNvbnN0IGF1ZGl0TG9nUmVzcG9uc2UgPSAoZXJyb3IsIHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGRvYyA9IHtcbiAgICBvcmlnaW5hbFVybDogcmVxLm9yaWdpbmFsVXJsLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICB1c2VyQWdlbnQ6IHJlcS5oZWFkZXJzW1widXNlci1hZ2VudFwiXSxcbiAgICBpcEFkZHJlc3M6IHJlcS5oZWFkZXJzW1wieC1mb3J3YXJkZWQtZm9yXCJdIHx8IHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3MsXG4gICAgY29ycmVsYXRpb25JZDogcmVxLmhlYWRlcnMuY29ycmVsYXRpb25JZCxcbiAgICBldmVudFR5cGU6IHJlcS5yb3V0ZU9iai5ldmVudFR5cGUsXG4gICAgcmVxdWVzdEJvZHk6IHJlcS5ib2R5LFxuICAgIHJlc3BvbnNlVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLSByZXEucm91dGVPYmouc3RhcnRUaW1lLFxuICAgIHN0YXR1czogdHJ1ZSxcbiAgfTtcbiAgY29uc3QgYXBpS2V5ID0gcmVxLmhlYWRlcihcImFwaS1rZXlcIik7XG4gIGlmIChhcGlLZXkpIHtcbiAgICBkb2MuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG4gIGlmIChyZXEuc2Vzc2lvbikge1xuICAgIGRvYy5tb2JpbGVOdW1iZXIgPSByZXEuc2Vzc2lvbi5tb2JpbGVOdW1iZXI7XG4gICAgZG9jLmNsaWVudElkID0gcmVxLnNlc3Npb24uY2xpZW50SWQ7XG4gICAgZG9jLmFwaUtleSA9IHJlcS5zZXNzaW9uLmFwaUtleTtcbiAgfVxuICBpZiAocmVxLnJvdXRlT2JqKSB7XG4gICAgZG9jLnJvdXRlQ2F0ZWdvcnkgPSByZXEucm91dGVPYmoucm91dGVDYXRlZ29yeTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIGRvYy5yZXNwb25zZSA9IHtcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgMTAwMCxcbiAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICB9O1xuICAgIGRvYy5zdGF0dXMgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBkb2MucmVzcG9uc2UgPSByZXMuZGF0YTtcbiAgfVxuICBBYnN0cmFjdE1vZGVscy5tb25nb0luc2VydE9uZShBdWRpdExvZ3MsIGRvYyk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzU3VjY2Vzc0xvZyA9IChyZXEsIHJlcykgPT4ge1xuICBsZXQgcm91dGVDYXRlZ29yeTtcbiAgaWYgKHJlcS5yb3V0ZU9iaiAmJiByZXEucm91dGVPYmoucm91dGVDYXRlZ29yeSkge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSByZXEucm91dGVPYmoucm91dGVDYXRlZ29yeTtcbiAgfVxuICBpZiAocm91dGVDYXRlZ29yeSAhPT0gXCJoZWFsdGhDaGVja1JvdXRlc1wiKSB7XG4gICAgYXVkaXRMb2dSZXNwb25zZShudWxsLCByZXEsIHJlcyk7XG4gIH1cbiAgcmVzLnN0YXR1cyhyZXMuc3RhdHVzQ29kZSB8fCAyMDApLnNlbmQoeyBzdGF0dXM6IHRydWUsIHJlc3BvbnNlOiByZXMuZGF0YSB9KTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgbm90IGN1c3RvbSBlcnJvciwgY3JlYXRlcyBpbnRlcm5hbCBlcnJvciBhbmQgcmV0dXJuc1xuICogQHBhcmFtIHsqfSBlcnJvclxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gbWFza1N5c3RlbUVycm9yKGVycm9yKSB7XG4gIGlmIChlcnJvci5uYW1lICE9PSBcIkVycm9yVXRpbHNcIikge1xuICAgIHJldHVybiBFcnJvclV0aWxzLkludGVybmFsU2VydmVyRXJyb3IoKTtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5cbmV4cG9ydCBjb25zdCByZXNFcnJvckxvZyA9IChlcnJvciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgbG9nKFwiZXJyb3JcIiwgZXJyb3Iuc3RhY2spO1xuICBhdWRpdExvZ1Jlc3BvbnNlKGVycm9yLCByZXEsIHJlcyk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBlcnJvciA9IG1hc2tTeXN0ZW1FcnJvcihlcnJvcik7XG4gIGlmIChyZXMuaGVhZGVyc1NlbnQpIHtcbiAgICByZXR1cm4gbmV4dChlcnJvcik7XG4gIH1cbiAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXNDb2RlIHx8IDIwMCk7XG4gIHJldHVybiByZXMuc2VuZCh7XG4gICAgc3RhdHVzOiBmYWxzZSxcbiAgICByZXNwb25zZToge1xuICAgICAgY29kZTogZXJyb3IuY29kZSB8fCAxMDAwLFxuICAgICAgcmVhc29uOiBlcnJvci5tZXNzYWdlLFxuICAgIH0sXG4gIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRyxDQUFDQyxLQUFELEVBQVFDLEdBQVIsRUFBYUMsR0FBYixLQUFxQjtFQUM1QyxNQUFNQyxHQUFHLEdBQUc7SUFDVkMsV0FBVyxFQUFFSCxHQUFHLENBQUNHLFdBRFA7SUFFVkMsTUFBTSxFQUFFSixHQUFHLENBQUNJLE1BRkY7SUFHVkMsU0FBUyxFQUFFTCxHQUFHLENBQUNNLE9BQUosQ0FBWSxZQUFaLENBSEQ7SUFJVkMsU0FBUyxFQUFFUCxHQUFHLENBQUNNLE9BQUosQ0FBWSxpQkFBWixLQUFrQ04sR0FBRyxDQUFDUSxVQUFKLENBQWVDLGFBSmxEO0lBS1ZDLGFBQWEsRUFBRVYsR0FBRyxDQUFDTSxPQUFKLENBQVlJLGFBTGpCO0lBTVZDLFNBQVMsRUFBRVgsR0FBRyxDQUFDWSxRQUFKLENBQWFELFNBTmQ7SUFPVkUsV0FBVyxFQUFFYixHQUFHLENBQUNjLElBUFA7SUFRVkMsWUFBWSxFQUFFLElBQUlDLElBQUosR0FBV0MsT0FBWCxLQUF1QmpCLEdBQUcsQ0FBQ1ksUUFBSixDQUFhTSxTQVJ4QztJQVNWQyxNQUFNLEVBQUU7RUFURSxDQUFaO0VBV0EsTUFBTUMsTUFBTSxHQUFHcEIsR0FBRyxDQUFDcUIsTUFBSixDQUFXLFNBQVgsQ0FBZjs7RUFDQSxJQUFJRCxNQUFKLEVB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","map":{"version":3,"names":["auditLogResponse","error","req","res","doc","originalUrl","method","userAgent","headers","ipAddress","connection","remoteAddress","correlationId","eventType","routeObj","requestBody","body","responseTime","Date","getTime","startTime","status","apiKey","header","session","mobileNumber","clientId","routeCategory","response","code","reason","message","stack","data","AbstractModels","mongoInsertOne","AuditLogs","resSuccessLog","statusCode","send","maskSystemError","name","ErrorUtils","InternalServerError","resErrorLog","next","log","headersSent"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/","sources":["ResponseLogger.js"],"sourcesContent":["import * as AbstractModels from \"../models/AbstractModels\";\nimport { AuditLogs } from \"../models/analyticsDbSchema/index\";\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\n\nconst auditLogResponse = (error, req, res) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n    responseTime: new Date().getTime() - req.routeObj.startTime,\n    status: true,\n  };\n  const apiKey = req.header(\"api-key\");\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n  if (req.session) {\n    doc.mobileNumber = req.session.mobileNumber;\n    doc.clientId = req.session.clientId;\n    doc.apiKey = req.session.apiKey;\n  }\n  if (req.routeObj) {\n    doc.routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (error) {\n    doc.response = {\n      code: error.code || 1000,\n      reason: error.message,\n      stack: error.stack,\n    };\n    doc.status = false;\n  } else {\n    doc.response = res.data;\n  }\n  AbstractModels.mongoInsertOne(AuditLogs, doc);\n};\n\nexport const resSuccessLog = (req, res) => {\n  let routeCategory;\n  if (req.routeObj && req.routeObj.routeCategory) {\n    routeCategory = req.routeObj.routeCategory;\n  }\n  if (routeCategory !== \"healthCheckRoutes\") {\n    auditLogResponse(null, req, res);\n  }\n  res.status(res.statusCode || 200).send({ status: true, response: res.data });\n};\n\n/**\n * Check if not custom error, creates internal error and returns\n * @param {*} error\n * @returns\n */\nfunction maskSystemError(error) {\n  if (error.name !== \"ErrorUtils\") {\n    return ErrorUtils.InternalServerError();\n  }\n  return error;\n}\n\nexport const resErrorLog = (error, req, res, next) => {\n  log(\"error\", error.stack);\n  auditLogResponse(error, req, res);\n  // eslint-disable-next-line\n  error = maskSystemError(error);\n  if (res.headersSent) {\n    return next(error);\n  }\n  res.status(error.statusCode || 200);\n  return res.send({\n    status: false,\n    response: {\n      code: error.code || 1000,\n      reason: error.message,\n    },\n  });\n};\n"],"mappings":"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"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/SchemaValidator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validate = exports.default = void 0;\n\nvar jsValidator = _interopRequireWildcard(require(\"json-schema\"));\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// event type and schema type should be same, its a assumption\nconst validate = (req, res, next) => {\n  const {\n    query,\n    body,\n    routeObj\n  } = req;\n  const querySchema = routeObj.schema?.query;\n  const bodySchema = routeObj.schema?.body;\n  const isValidReqQuery = jsValidator.validate(query, querySchema);\n  const isValidReqBody = jsValidator.validate(body, bodySchema);\n\n  if (!isValidReqQuery.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqQuery.errors)));\n  } else if (!isValidReqBody.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqBody.errors)));\n  } else {\n    next();\n  }\n};\n\nexports.validate = validate;\nvar _default = validate;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2YWxpZGF0ZSIsInJlcSIsInJlcyIsIm5leHQiLCJxdWVyeSIsImJvZHkiLCJyb3V0ZU9iaiIsInF1ZXJ5U2NoZW1hIiwic2NoZW1hIiwiYm9keVNjaGVtYSIsImlzVmFsaWRSZXFRdWVyeSIsImpzVmFsaWRhdG9yIiwiaXNWYWxpZFJlcUJvZHkiLCJ2YWxpZCIsIkVycm9yVXRpbHMiLCJJbnZhbGlkU2NoZW1hRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJTY2hlbWFWYWxpZGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMganNWYWxpZGF0b3IgZnJvbSBcImpzb24tc2NoZW1hXCI7XG5pbXBvcnQgKiBhcyBFcnJvclV0aWxzIGZyb20gXCIuLi9lcnJvcnMvRXJyb3JVdGlsc1wiO1xuXG4vLyBldmVudCB0eXBlIGFuZCBzY2hlbWEgdHlwZSBzaG91bGQgYmUgc2FtZSwgaXRzIGEgYXNzdW1wdGlvblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHsgcXVlcnksIGJvZHksIHJvdXRlT2JqIH0gPSByZXE7XG4gIGNvbnN0IHF1ZXJ5U2NoZW1hID0gcm91dGVPYmouc2NoZW1hPy5xdWVyeTtcbiAgY29uc3QgYm9keVNjaGVtYSA9IHJvdXRlT2JqLnNjaGVtYT8uYm9keTtcblxuICBjb25zdCBpc1ZhbGlkUmVxUXVlcnkgPSBqc1ZhbGlkYXRvci52YWxpZGF0ZShxdWVyeSwgcXVlcnlTY2hlbWEpO1xuICBjb25zdCBpc1ZhbGlkUmVxQm9keSA9IGpzVmFsaWRhdG9yLnZhbGlkYXRlKGJvZHksIGJvZHlTY2hlbWEpO1xuICBpZiAoIWlzVmFsaWRSZXFRdWVyeS52YWxpZCkge1xuICAgIG5leHQoRXJyb3JVdGlscy5JbnZhbGlkU2NoZW1hRXJyb3IoSlNPTi5zdHJpbmdpZnkoaXNWYWxpZFJlcVF1ZXJ5LmVycm9ycykpKTtcbiAgfSBlbHNlIGlmICghaXNWYWxpZFJlcUJvZHkudmFsaWQpIHtcbiAgICBuZXh0KEVycm9yVXRpbHMuSW52YWxpZFNjaGVtYUVycm9yKEpTT04uc3RyaW5naWZ5KGlzVmFsaWRSZXFCb2R5LmVycm9ycykpKTtcbiAgfSBlbHNlIHtcbiAgICBuZXh0KCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OztBQUVBO0FBQ08sTUFBTUEsUUFBUSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0VBQzFDLE1BQU07SUFBRUMsS0FBRjtJQUFTQyxJQUFUO0lBQWVDO0VBQWYsSUFBNEJMLEdBQWxDO0VBQ0EsTUFBTU0sV0FBVyxHQUFHRCxRQUFRLENBQUNFLE1BQVQsRUFBaUJKLEtBQXJDO0VBQ0EsTUFBTUssVUFBVSxHQUFHSCxRQUFRLENBQUNFLE1BQVQsRUFBaUJILElBQXBDO0VBRUEsTUFBTUssZUFBZSxHQUFHQyxXQUFXLENBQUNYLFFBQVosQ0FBcUJJLEtBQXJCLEVBQTRCRyxXQUE1QixDQUF4QjtFQUNBLE1BQU1LLGNBQWMsR0FBR0QsV0FBVyxDQUFDWCxRQUFaLENBQXFCSyxJQUFyQixFQUEyQkksVUFBM0IsQ0FBdkI7O0VBQ0EsSUFBSSxDQUFDQyxlQUFlLENBQUNHLEtBQXJCLEVBQTRCO0lBQzFCVixJQUFJLENBQUNXLFVBQVUsQ0FBQ0Msa0JBQVgsQ0FBOEJDLElBQUksQ0FBQ0MsU0FBTCxDQUFlUCxlQUFlLENBQUNRLE1BQS9CLENBQTlCLENBQUQsQ0FBSjtFQUNELENBRkQsTUFFTyxJQUFJLENBQUNOLGNBQWMsQ0FBQ0MsS0FBcEIsRUFBMkI7SUFDaENWLElBQUksQ0FBQ1csVUFBVSxDQUFDQyxrQkFBWCxDQUE4QkMsSUFBSSxDQUFDQyxTQUFMLENBQWVMLGNBQWMsQ0FBQ00sTUFBOUIsQ0FBOUIsQ0FBRCxDQUFKO0VBQ0QsQ0FGTSxNQUVBO0lBQ0xmLElBQUk7RUFDTDtBQUNGLENBZE07OztlQWdCUUgsUSJ9","map":{"version":3,"names":["validate","req","res","next","query","body","routeObj","querySchema","schema","bodySchema","isValidReqQuery","jsValidator","isValidReqBody","valid","ErrorUtils","InvalidSchemaError","JSON","stringify","errors"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/","sources":["SchemaValidator.js"],"sourcesContent":["import * as jsValidator from \"json-schema\";\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\n\n// event type and schema type should be same, its a assumption\nexport const validate = (req, res, next) => {\n  const { query, body, routeObj } = req;\n  const querySchema = routeObj.schema?.query;\n  const bodySchema = routeObj.schema?.body;\n\n  const isValidReqQuery = jsValidator.validate(query, querySchema);\n  const isValidReqBody = jsValidator.validate(body, bodySchema);\n  if (!isValidReqQuery.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqQuery.errors)));\n  } else if (!isValidReqBody.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqBody.errors)));\n  } else {\n    next();\n  }\n};\n\nexport default validate;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA;AACO,MAAMA,QAAQ,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;EAC1C,MAAM;IAAEC,KAAF;IAASC,IAAT;IAAeC;EAAf,IAA4BL,GAAlC;EACA,MAAMM,WAAW,GAAGD,QAAQ,CAACE,MAAT,EAAiBJ,KAArC;EACA,MAAMK,UAAU,GAAGH,QAAQ,CAACE,MAAT,EAAiBH,IAApC;EAEA,MAAMK,eAAe,GAAGC,WAAW,CAACX,QAAZ,CAAqBI,KAArB,EAA4BG,WAA5B,CAAxB;EACA,MAAMK,cAAc,GAAGD,WAAW,CAACX,QAAZ,CAAqBK,IAArB,EAA2BI,UAA3B,CAAvB;;EACA,IAAI,CAACC,eAAe,CAACG,KAArB,EAA4B;IAC1BV,IAAI,CAACW,UAAU,CAACC,kBAAX,CAA8BC,IAAI,CAACC,SAAL,CAAeP,eAAe,CAACQ,MAA/B,CAA9B,CAAD,CAAJ;EACD,CAFD,MAEO,IAAI,CAACN,cAAc,CAACC,KAApB,EAA2B;IAChCV,IAAI,CAACW,UAAU,CAACC,kBAAX,CAA8BC,IAAI,CAACC,SAAL,CAAeL,cAAc,CAACM,MAA9B,CAA9B,CAAD,CAAJ;EACD,CAFM,MAEA;IACLf,IAAI;EACL;AACF,CAdM;;;eAgBQH,Q"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/HttpContextMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setHttpContextErrorResponsePayload = setHttpContextErrorResponsePayload;\nexports.setHttpContextMetrics = setHttpContextMetrics;\nexports.setHttpContextRequestPayload = setHttpContextRequestPayload;\nexports.setHttpContextResponsePayload = setHttpContextResponsePayload;\nexports.setHttpContextUserDetails = setHttpContextUserDetails;\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst httpContext = require(\"express-http-context\");\n\nconst _ = require(\"lodash\");\n\nfunction setHttpContextMetrics(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_START_TIME, process.hrtime.bigint());\n  httpContext.set(Constants.LOGGER_API_ROUTE, req.path);\n  httpContext.set(Constants.LOGGER_USER_IP_ADDRESS, req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress);\n  next();\n}\n\nfunction setHttpContextUserDetails(req, res, next) {\n  // set session payload for metroauth initi\n  if (req.session) {\n    httpContext.set(Constants.LOGGER_USER_DETAILS, {\n      userId: req.session.user_id || \"\",\n      primaryNumber: req.session.zvr_mobile_no || \"\",\n      doosraNumber: req.session.v_mobile_no || \"\"\n    });\n  }\n\n  next();\n} // unable to capture dynamic url path in request middleware\n// req.route.path is populated when it hits matched route only\n// is captured in response middleware\n// http://expressjs.com/en/api.html#req.route\n\n\nfunction setHttpContextRequestPayload(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, {\n    // clone\n    urlDetails: _.cloneDeep({\n      path: req.path,\n      baseUrl: req.baseUrl,\n      host: req.hostname,\n      httpVersion: req.httpVersion,\n      method: req.method,\n      originalUrl: req.originalUrl,\n      protocol: req.protocol,\n      url: req.url\n    }),\n    headers: _.cloneDeep(req.headers),\n    params: _.cloneDeep(req.params),\n    body: _.cloneDeep(req.body),\n    query: _.cloneDeep(req.query)\n  });\n  next();\n}\n/**\n *\n * @param {*} req\n *\n * https://expressjs.com/en/api.html#req.route\n * Contains the currently-matched route, a string.\n * req.route.path is update on matched route and available in response middleware.\n */\n\n\nfunction setHttpContextDynamicRoutePath(req) {\n  const requestPayload = httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD);\n\n  if (requestPayload && requestPayload.urlDetails) {\n    requestPayload.urlDetails.dynamicRoutePath = req.route?.path;\n    httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, _.cloneDeep(requestPayload));\n  }\n}\n\nfunction getResponseTime() {\n  let timeDiff = \"-\";\n  const nanoToMilli = BigInt(1e6);\n  const startTime = httpContext.get(Constants.LOGGER_REQUEST_START_TIME);\n  const endTime = process.hrtime.bigint();\n\n  try {\n    if (typeof startTime === \"bigint\" && typeof endTime === \"bigint\") {\n      timeDiff = (endTime - startTime) / nanoToMilli;\n    }\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return `${timeDiff}ms`;\n}\n\nfunction setHttpContextResponsePayload(req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    data: res.data\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next();\n}\n\nfunction setHttpContextErrorResponsePayload(error, req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    error\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next(error);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJfIiwic2V0SHR0cENvbnRleHRNZXRyaWNzIiwicmVxIiwicmVzIiwibmV4dCIsInNldCIsIkNvbnN0YW50cyIsIkxPR0dFUl9SRVFVRVNUX1NUQVJUX1RJTUUiLCJwcm9jZXNzIiwiaHJ0aW1lIiwiYmlnaW50IiwiTE9HR0VSX0FQSV9ST1VURSIsInBhdGgiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiaGVhZGVycyIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwic2V0SHR0cENvbnRleHRVc2VyRGV0YWlscyIsInNlc3Npb24iLCJMT0dHRVJfVVNFUl9ERVRBSUxTIiwidXNlcklkIiwidXNlcl9pZCIsInByaW1hcnlOdW1iZXIiLCJ6dnJfbW9iaWxlX25vIiwiZG9vc3JhTnVtYmVyIiwidl9tb2JpbGVfbm8iLCJzZXRIdHRwQ29udGV4dFJlcXVlc3RQYXlsb2FkIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsInVybERldGFpbHMiLCJjbG9uZURlZXAiLCJiYXNlVXJsIiwiaG9zdCIsImhvc3RuYW1lIiwiaHR0cFZlcnNpb24iLCJtZXRob2QiLCJvcmlnaW5hbFVybCIsInByb3RvY29sIiwidXJsIiwicGFyYW1zIiwiYm9keSIsInF1ZXJ5Iiwic2V0SHR0cENvbnRleHREeW5hbWljUm91dGVQYXRoIiwicmVxdWVzdFBheWxvYWQiLCJnZXQiLCJkeW5hbWljUm91dGVQYXRoIiwicm91dGUiLCJnZXRSZXNwb25zZVRpbWUiLCJ0aW1lRGlmZiIsIm5hbm9Ub01pbGxpIiwiQmlnSW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImVycm9yIiwibG9nIiwic2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQiLCJvdXQiLCJnZXRIZWFkZXJzIiwiZGF0YSIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFU1BPTlNFX1RJTUUiLCJzZXRIdHRwQ29udGV4dEVycm9yUmVzcG9uc2VQYXlsb2FkIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJIdHRwQ29udGV4dE1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvQ29uc3RhbnRzXCI7XG5cbmNvbnN0IGh0dHBDb250ZXh0ID0gcmVxdWlyZShcImV4cHJlc3MtaHR0cC1jb250ZXh0XCIpO1xuY29uc3QgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRIdHRwQ29udGV4dE1ldHJpY3MocmVxLCByZXMsIG5leHQpIHtcbiAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfUkVRVUVTVF9TVEFSVF9USU1FLCBwcm9jZXNzLmhydGltZS5iaWdpbnQoKSk7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX0FQSV9ST1VURSwgcmVxLnBhdGgpO1xuICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9VU0VSX0lQX0FERFJFU1MsIHJlcS5oZWFkZXJzW1wieC1mb3J3YXJkZWQtZm9yXCJdIHx8IHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3MpO1xuICBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRIdHRwQ29udGV4dFVzZXJEZXRhaWxzKHJlcSwgcmVzLCBuZXh0KSB7XG4gIC8vIHNldCBzZXNzaW9uIHBheWxvYWQgZm9yIG1ldHJvYXV0aCBpbml0aVxuICBpZiAocmVxLnNlc3Npb24pIHtcbiAgICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9VU0VSX0RFVEFJTFMsIHtcbiAgICAgIHVzZXJJZDogcmVxLnNlc3Npb24udXNlcl9pZCB8fCBcIlwiLFxuICAgICAgcHJpbWFyeU51bWJlcjogcmVxLnNlc3Npb24uenZyX21vYmlsZV9ubyB8fCBcIlwiLFxuICAgICAgZG9vc3JhTnVtYmVyOiByZXEuc2Vzc2lvbi52X21vYmlsZV9ubyB8fCBcIlwiLFxuICAgIH0pO1xuICB9XG4gIG5leHQoKTtcbn1cblxuLy8gdW5hYmxlIHRvIGNhcHR1cmUgZHluYW1pYyB1cmwgcGF0aCBpbiByZXF1ZXN0IG1pZGRsZXdhcmVcbi8vIHJlcS5yb3V0ZS5wYXRoIGlzIHBvcHVsYXRlZCB3aGVuIGl0IGhpdHMgbWF0Y2hlZCByb3V0ZSBvbmx5XG4vLyBpcyBjYXB0dXJlZCBpbiByZXNwb25zZSBtaWRkbGV3YXJlXG4vLyBodHRwOi8vZXhwcmVzc2pzLmNvbS9lbi9hcGkuaHRtbCNyZXEucm91dGVcbmV4cG9ydCBmdW5jdGlvbiBzZXRIdHRwQ29udGV4dFJlcXVlc3RQYXlsb2FkKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCwge1xuICAgIC8vIGNsb25lXG4gICAgdXJsRGV0YWlsczogXy5jbG9uZURlZXAoe1xuICAgICAgcGF0aDogcmVxLnBhdGgsXG4gICAgICBiYXNlVXJsOiByZXEuYmFzZVVybCxcbiAgICAgIGhvc3Q6IHJlcS5ob3N0bmFtZSxcbiAgICAgIGh0dHBWZXJzaW9uOiByZXEuaHR0cFZlcnNpb24sXG4gICAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgICBvcmlnaW5hbFVybDogcmVxLm9yaWdpbmFsVXJsLFxuICAgICAgcHJvdG9jb2w6IHJlcS5wcm90b2NvbCxcbiAgICAgIHVybDogcmVxLnVybCxcbiAgICB9KSxcbiAgICBoZWFkZXJzOiBfLmNsb25lRGVlcChyZXEuaGVhZGVycyksXG4gICAgcGFyYW1zOiBfLmNsb25lRGVlcChyZXEucGFyYW1zKSxcbiAgICBib2R5OiBfLmNsb25lRGVlcChyZXEuYm9keSksXG4gICAgcXVlcnk6IF8uY2xvbmVEZWVwKHJlcS5xdWVyeSksXG4gIH0pO1xuICBuZXh0KCk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gcmVxXG4gKlxuICogaHR0cHM6Ly9leHByZXNzanMuY29tL2VuL2FwaS5odG1sI3JlcS5yb3V0ZVxuICogQ29udGFpbnMgdGhlIGN1cnJlbnRseS1tYXRjaGVkIHJvdXRlLCBhIHN0cmluZy5cbiAqIHJlcS5yb3V0ZS5wYXRoIGlzIHVwZGF0ZSBvbiBtYXRjaGVkIHJvdXRlIGFuZCBhdmFpbGFibGUgaW4gcmVzcG9uc2UgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gc2V0SHR0cENvbnRleHREeW5hbWljUm91dGVQYXRoKHJlcSkge1xuICBjb25zdCByZXF1ZXN0UGF5bG9hZCA9IGh0dHBDb250ZXh0LmdldChDb25zdGFudHMuTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCk7XG4gIGlmIChyZXF1ZXN0UGF5bG9hZCAmJiByZXF1ZXN0UGF5bG9hZC51cmxEZXRhaWxzKSB7XG4gICAgcmVxdWVzdFBheWxvYWQudXJsRGV0YWlscy5keW5hbWljUm91dGVQYXRoID0gcmVxLnJvdXRlPy5wYXRoO1xuICAgIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCwgXy5jbG9uZURlZXAocmVxdWVzdFBheWxvYWQpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZXNwb25zZVRpbWUoKSB7XG4gIGxldCB0aW1lRGlmZiA9IFwiLVwiO1xuICBjb25zdCBuYW5vVG9NaWxsaSA9IEJpZ0ludCgxZTYpO1xuICBjb25zdCBzdGFydFRpbWUgPSBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVFVRVNUX1NUQVJUX1RJTUUpO1xuICBjb25zdCBlbmRUaW1lID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydFRpbWUgPT09IFwiYmlnaW50XCIgJiYgdHlwZW9mIGVuZFRpbWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgIHRpbWVEaWZmID0gKGVuZFRpbWUgLSBzdGFydFRpbWUpIC8gbmFub1RvTWlsbGk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH1cbiAgcmV0dXJuIGAke3RpbWVEaWZmfW1zYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEh0dHBDb250ZXh0UmVzcG9uc2VQYXlsb2FkKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IG91dCA9IHtcbiAgICBoZWFkZXJzOiByZXMuZ2V0SGVhZGVycygpLFxuICAgIGRhdGE6IHJlcy5kYXRhLFxuICB9O1xuICBzZXRIdHRwQ29udGV4dER5bmFtaWNSb3V0ZVBhdGgocmVxKTtcbiAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfUkVTUE9OU0VfUEFZTE9BRCwgXy5jbG9uZURlZXAob3V0KSk7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFU1BPTlNFX1RJTUUsIGdldFJlc3BvbnNlVGltZSgpKTtcbiAgbmV4dCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SHR0cENvbnRleHRFcnJvclJlc3BvbnNlUGF5bG9hZChlcnJvciwgcmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3Qgb3V0ID0ge1xuICAgIGhlYWRlcnM6IHJlcy5nZXRIZWFkZXJzKCksXG4gICAgZXJyb3IsXG4gIH07XG4gIHNldEh0dHBDb250ZXh0RHluYW1pY1JvdXRlUGF0aChyZXEpO1xuICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVNQT05TRV9QQVlMT0FELCBfLmNsb25lRGVlcChvdXQpKTtcbiAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfUkVTUE9OU0VfVElNRSwgZ2V0UmVzcG9uc2VUaW1lKCkpO1xuICBuZXh0KGVycm9yKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTUMsQ0FBQyxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUFqQjs7QUFFTyxT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","map":{"version":3,"names":["httpContext","require","_","setHttpContextMetrics","req","res","next","set","Constants","LOGGER_REQUEST_START_TIME","process","hrtime","bigint","LOGGER_API_ROUTE","path","LOGGER_USER_IP_ADDRESS","headers","connection","remoteAddress","setHttpContextUserDetails","session","LOGGER_USER_DETAILS","userId","user_id","primaryNumber","zvr_mobile_no","doosraNumber","v_mobile_no","setHttpContextRequestPayload","LOGGER_REQUEST_PAYLOAD","urlDetails","cloneDeep","baseUrl","host","hostname","httpVersion","method","originalUrl","protocol","url","params","body","query","setHttpContextDynamicRoutePath","requestPayload","get","dynamicRoutePath","route","getResponseTime","timeDiff","nanoToMilli","BigInt","startTime","endTime","error","log","setHttpContextResponsePayload","out","getHeaders","data","LOGGER_RESPONSE_PAYLOAD","LOGGER_RESPONSE_TIME","setHttpContextErrorResponsePayload"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/middlewares/","sources":["HttpContextMiddleware.js"],"sourcesContent":["import * as Constants from \"../constants/Constants\";\n\nconst httpContext = require(\"express-http-context\");\nconst _ = require(\"lodash\");\n\nexport function setHttpContextMetrics(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_START_TIME, process.hrtime.bigint());\n  httpContext.set(Constants.LOGGER_API_ROUTE, req.path);\n  httpContext.set(Constants.LOGGER_USER_IP_ADDRESS, req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress);\n  next();\n}\n\nexport function setHttpContextUserDetails(req, res, next) {\n  // set session payload for metroauth initi\n  if (req.session) {\n    httpContext.set(Constants.LOGGER_USER_DETAILS, {\n      userId: req.session.user_id || \"\",\n      primaryNumber: req.session.zvr_mobile_no || \"\",\n      doosraNumber: req.session.v_mobile_no || \"\",\n    });\n  }\n  next();\n}\n\n// unable to capture dynamic url path in request middleware\n// req.route.path is populated when it hits matched route only\n// is captured in response middleware\n// http://expressjs.com/en/api.html#req.route\nexport function setHttpContextRequestPayload(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, {\n    // clone\n    urlDetails: _.cloneDeep({\n      path: req.path,\n      baseUrl: req.baseUrl,\n      host: req.hostname,\n      httpVersion: req.httpVersion,\n      method: req.method,\n      originalUrl: req.originalUrl,\n      protocol: req.protocol,\n      url: req.url,\n    }),\n    headers: _.cloneDeep(req.headers),\n    params: _.cloneDeep(req.params),\n    body: _.cloneDeep(req.body),\n    query: _.cloneDeep(req.query),\n  });\n  next();\n}\n\n/**\n *\n * @param {*} req\n *\n * https://expressjs.com/en/api.html#req.route\n * Contains the currently-matched route, a string.\n * req.route.path is update on matched route and available in response middleware.\n */\nfunction setHttpContextDynamicRoutePath(req) {\n  const requestPayload = httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD);\n  if (requestPayload && requestPayload.urlDetails) {\n    requestPayload.urlDetails.dynamicRoutePath = req.route?.path;\n    httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, _.cloneDeep(requestPayload));\n  }\n}\n\nfunction getResponseTime() {\n  let timeDiff = \"-\";\n  const nanoToMilli = BigInt(1e6);\n  const startTime = httpContext.get(Constants.LOGGER_REQUEST_START_TIME);\n  const endTime = process.hrtime.bigint();\n  try {\n    if (typeof startTime === \"bigint\" && typeof endTime === \"bigint\") {\n      timeDiff = (endTime - startTime) / nanoToMilli;\n    }\n  } catch (error) {\n    log(\"error\", { error });\n  }\n  return `${timeDiff}ms`;\n}\n\nexport function setHttpContextResponsePayload(req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    data: res.data,\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next();\n}\n\nexport function setHttpContextErrorResponsePayload(error, req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    error,\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next(error);\n}\n"],"mappings":"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"}},"mtime":1653649504243},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/dev.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJkZXYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiZG90ZW52L2NvbmZpZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1haW5EYmNvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IHByb2Nlc3MuZW52Lk1BSU5fREJfQ09OTl9TVFJJTkcsIC8vIENoYW5nZSBhbGwgcmVxdWlyZWQgY29uZmlnIHRvIGVudiB2YXJpYWJsZXNcbiAgfSxcbiAgYW5hbHl0aWNzRGJDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5BTkFMWVRJQ1NfREJfQ09OTl9TVFJJTkcsXG4gIH0sXG4gIHJlZGlzQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJyZWRpczovL2xvY2FsaG9zdDo2Mzc5XCIsXG4gIH0sXG4gIHNlbnRyeV9kc246IHByb2Nlc3MuZW52LlNFTlRSWV9EU04sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O2VBRWU7RUFDYkEsWUFBWSxFQUFFO0lBQ1pDLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQURaLENBQ2lDOztFQURqQyxDQUREO0VBSWJDLGlCQUFpQixFQUFFO0lBQ2pCSixVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRztFQURQLENBSk47RUFPYkMsV0FBVyxFQUFFO0lBQ1hOLFVBQVUsRUFBRTtFQURELENBUEE7RUFVYk8sVUFBVSxFQUFFTixPQUFPLENBQUNDLEdBQVIsQ0FBWU07QUFWWCxDIn0=","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["dev.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/prod.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2RzZGNoYW5kcmEvRGVza3RvcC9Eb29zcmFUZXN0MS9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJwcm9kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5NQUlOX0RCX0NPTk5fU1RSSU5HLCAvLyBDaGFuZ2UgYWxsIHJlcXVpcmVkIGNvbmZpZyB0byBlbnYgdmFyaWFibGVzXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuQU5BTFlUSUNTX0RCX0NPTk5fU1RSSU5HLFxuICB9LFxuICByZWRpc0NvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IFwicmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OVwiLFxuICB9LFxuICBzZW50cnlfZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztlQUVlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFEWixDQUNpQzs7RUFEakMsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkosVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7RUFEUCxDQUpOO0VBT2JDLFdBQVcsRUFBRTtJQUNYTixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJPLFVBQVUsRUFBRU4sT0FBTyxDQUFDQyxHQUFSLENBQVlNO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/config/","sources":["prod.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/AnalyticsDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJhbmFseXRpY3NEYkNvbmZpZyIsImNvbm5TdHJpbmciLCJsb2ciLCJtb25nb29zZSIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9kc2RjaGFuZHJhL0Rlc2t0b3AvRG9vc3JhVGVzdDEvZ2l0LWV4cGxvcmUvY29ubmVjdGlvbnMvIiwic291cmNlcyI6WyJBbmFseXRpY3NEYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8taW1wb3J0LW1vZHVsZS1leHBvcnRzICovXG5cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2NvbmZpZy9pbmRleFwiO1xuXG5sZXQgY29ubjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnN0IFJFQ09OTkVDVF9USU1FID0gNTAwMDtcbiAgY29uc3QgQ09OTl9VUkwgPSBjb25maWcuYW5hbHl0aWNzRGJDb25maWcuY29ublN0cmluZztcblxuICBpZiAoY29ubikge1xuICAgIHJldHVybiBjb25uO1xuICB9XG5cbiAgbG9nKFwiaW5mb1wiLCBgQ09OTl9VUkwgdG8gY29ubmVjdCB0byBhbmFseXRpY3MgZGF0YWJhc2UgJHtDT05OX1VSTH1gKTtcbiAgY29ubiA9IG1vbmdvb3NlLmNyZWF0ZUNvbm5lY3Rpb24oQ09OTl9VUkwpO1xuXG4gIC8vICBNb25nb29zZSBDb25uZWN0aW9uIEV2ZW50c1xuICBjb25uLm9uKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbmNlKFwib3BlblwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJvcGVuXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwiY29ubmVjdGVkXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJjb25uZWN0aW5nXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RpbmdcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcInJlY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcInJlY29ubmVjdGVkXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJkaXNjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBgZGlzY29ubmVjdGVkIFJlY29ubmVjdGluZyBpbiAke1JFQ09OTkVDVF9USU1FIC8gMTAwMH1zLi4uYCB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXV0b21hdHRpYy9tb25nb29zZS9pc3N1ZXMvNTE2OSNpc3N1ZWNvbW1lbnQtMzE0OTgzMTEzXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGNvbm4ub3BlblVyaShDT05OX1VSTCkuY2F0Y2goKCkgPT4geyB9KTsgfSwgUkVDT05ORUNUX1RJTUUpO1xuICB9KTtcblxuICByZXR1cm4gY29ubjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERiSW5zdGFuY2UoKSB7XG4gIHJldHVybiBjb25uO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOztBQUNBOzs7O0FBSEE7QUFLQSxJQUFJQSxJQUFKOztBQUVPLFNBQVNDLElBQVQsR0FBZ0I7RUFDckIsTUFBTUMsY0FBYyxHQUFHLElBQXZCO0VBQ0EsTUFBTUMsUUFBUSxHQUFHQyxlQUFPQyxpQkFBUCxDQUF5QkMsVUFBMUM7O0VBRUEsSUFBSU4sSUFBSixFQUFVO0lBQ1IsT0FBT0EsSUFBUDtFQUNEOztFQUVETyxHQUFHLENBQUMsTUFBRCxFQUFVLDZDQUE0Q0osUUFBUyxFQUEvRCxDQUFIO0VBQ0FILElBQUksR0FBR1Esa0JBQVNDLGdCQUFULENBQTBCTixRQUExQixDQUFQLENBVHFCLENBV3JCOztFQUNBSCxJQUFJLENBQUNVLEVBQUwsQ0FBUSxPQUFSLEVBQWtCQyxLQUFELElBQVc7SUFDMUJKLEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRUk7SUFBRixDQUFWLENBQUg7RUFDRCxDQUZEO0VBSUFYLElBQUksQ0FBQ1ksSUFBTCxDQUFVLE1BQVYsRUFBa0IsTUFBTTtJQUN0QkwsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLFdBQVIsRUFBcUIsTUFBTTtJQUN6QkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLFlBQVIsRUFBc0IsTUFBTTtJQUMxQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLGFBQVIsRUFBdUIsTUFBTTtJQUMzQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFiLElBQUksQ0FBQ1UsRUFBTCxDQUFRLGNBQVIsRUFBd0IsTUFBTTtJQUM1QkgsR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFTSxrQkFBa0IsRUFBRyxnQ0FBK0JYLGNBQWMsR0FBRyxJQUFLO0lBQTVFLENBQVYsQ0FBSCxDQUQ0QixDQUU1Qjs7SUFDQVksVUFBVSxDQUFDLE1BQU07TUFBRWQsSUFBSSxDQUFDZSxPQUFMLENBQWFaLFFBQWIsRUFBdUJhLEtBQXZCLENBQTZCLE1BQU0sQ0FBRyxDQUF0QztJQUEwQyxDQUFuRCxFQUFxRGQsY0FBckQsQ0FBVjtFQUNELENBSkQ7RUFNQSxPQUFPRixJQUFQO0FBQ0Q7O0FBRU0sU0FBU2lCLGFBQVQsR0FBeUI7RUFDOUIsT0FBT2pCLElBQVA7QUFDRCJ9","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","analyticsDbConfig","connString","log","mongoose","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["AnalyticsDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,iBAAP,CAAyBC,UAA1C;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,GAAG,CAAC,MAAD,EAAU,6CAA4CJ,QAAS,EAA/D,CAAH;EACAH,IAAI,GAAGQ,kBAASC,gBAAT,CAA0BN,QAA1B,CAAP,CATqB,CAWrB;;EACAH,IAAI,CAACU,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAX,IAAI,CAACY,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BX,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAY,UAAU,CAAC,MAAM;MAAEd,IAAI,CAACe,OAAL,CAAaZ,QAAb,EAAuBa,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDd,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASiB,aAAT,GAAyB;EAC9B,OAAOjB,IAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/RedisClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedisClient = void 0;\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _redis = require(\"redis\");\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eslint-disable-next-line import/no-mutable-exports\nlet RedisClient;\nexports.RedisClient = RedisClient;\n\nfunction init() {\n  const CONN_URL = _index.default.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n  exports.RedisClient = RedisClient = (0, _redis.createClient)({\n    url: CONN_URL\n  }); //  Redis Connection Events\n\n  RedisClient.on(\"connect\", () => log(\"info\", {\n    redisConnection: \"connect\"\n  }));\n  RedisClient.on(\"ready\", () => log(\"info\", {\n    redisConnection: \"ready\"\n  }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", {\n    redisConnection: \"reconnecting\"\n  }));\n  RedisClient.on(\"end\", () => log(\"info\", {\n    redisConnection: \"disconnected\"\n  }));\n  RedisClient.on(\"error\", error => log(\"info\", {\n    error\n  }));\n\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return RedisClient;\n}\n\nfunction getDbInstance() {\n  return RedisClient;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpc0NsaWVudCIsImluaXQiLCJDT05OX1VSTCIsImNvbmZpZyIsInJlZGlzQ29uZmlnIiwiY29ublN0cmluZyIsImxvZyIsInVybCIsIm9uIiwicmVkaXNDb25uZWN0aW9uIiwiZXJyb3IiLCJjb25uZWN0IiwiZ2V0RGJJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiUmVkaXNDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcInJlZGlzXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbmV4cG9ydCBsZXQgUmVkaXNDbGllbnQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBDT05OX1VSTCA9IGNvbmZpZy5yZWRpc0NvbmZpZy5jb25uU3RyaW5nO1xuXG4gIGlmIChSZWRpc0NsaWVudCkge1xuICAgIHJldHVybiBSZWRpc0NsaWVudDtcbiAgfVxuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gcmVkaXMgJHtDT05OX1VSTH1gKTtcblxuICBSZWRpc0NsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG4gICAgdXJsOiBDT05OX1VSTCxcbiAgfSk7XG5cbiAgLy8gIFJlZGlzIENvbm5lY3Rpb24gRXZlbnRzXG4gIFJlZGlzQ2xpZW50Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiBsb2coXCJpbmZvXCIsIHsgcmVkaXNDb25uZWN0aW9uOiBcImNvbm5lY3RcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwicmVhZHlcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJyZWFkeVwiIH0pKTtcbiAgUmVkaXNDbGllbnQub24oXCJyZWNvbm5lY3RpbmdcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJyZWNvbm5lY3RpbmdcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwiZW5kXCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwiZGlzY29ubmVjdGVkXCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcImVycm9yXCIsIChlcnJvcikgPT4gbG9nKFwiaW5mb1wiLCB7IGVycm9yIH0pKTtcbiAgdHJ5IHtcbiAgICBSZWRpc0NsaWVudC5jb25uZWN0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgfVxuXG4gIHJldHVybiBSZWRpc0NsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERiSW5zdGFuY2UoKSB7XG4gIHJldHVybiBSZWRpc0NsaWVudDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQTtBQUNPLElBQUlBLFdBQUo7OztBQUVBLFNBQVNDLElBQVQsR0FBZ0I7RUFDckIsTUFBTUMsUUFBUSxHQUFHQyxlQUFPQyxXQUFQLENBQW1CQyxVQUFwQzs7RUFFQSxJQUFJTCxXQUFKLEVBQWlCO0lBQ2YsT0FBT0EsV0FBUDtFQUNEOztFQUVETSxHQUFHLENBQUMsTUFBRCxFQUFVLGdDQUErQkosUUFBUyxFQUFsRCxDQUFIO0VBRUEsc0JBQUFGLFdBQVcsR0FBRyx5QkFBYTtJQUN6Qk8sR0FBRyxFQUFFTDtFQURvQixDQUFiLENBQWQsQ0FUcUIsQ0FhckI7O0VBQ0FGLFdBQVcsQ0FBQ1EsRUFBWixDQUFlLFNBQWYsRUFBMEIsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUFuQztFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxPQUFmLEVBQXdCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBakM7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsY0FBZixFQUErQixNQUFNRixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVHLGVBQWUsRUFBRTtFQUFuQixDQUFULENBQXhDO0VBQ0FULFdBQVcsQ0FBQ1EsRUFBWixDQUFlLEtBQWYsRUFBc0IsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUEvQjtFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxPQUFmLEVBQXlCRSxLQUFELElBQVdKLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUk7RUFBRixDQUFULENBQXRDOztFQUNBLElBQUk7SUFDRlYsV0FBVyxDQUFDVyxPQUFaO0VBQ0QsQ0FGRCxDQUVFLE9BQU9ELEtBQVAsRUFBYztJQUNkSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0Q7O0VBRUQsT0FBT1YsV0FBUDtBQUNEOztBQUVNLFNBQVNZLGFBQVQsR0FBeUI7RUFDOUIsT0FBT1osV0FBUDtBQUNEIn0=","map":{"version":3,"names":["RedisClient","init","CONN_URL","config","redisConfig","connString","log","url","on","redisConnection","error","connect","getDbInstance"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/connections/","sources":["RedisClient.js"],"sourcesContent":["import { createClient } from \"redis\";\nimport config from \"../config/index\";\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let RedisClient;\n\nexport function init() {\n  const CONN_URL = config.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n\n  RedisClient = createClient({\n    url: CONN_URL,\n  });\n\n  //  Redis Connection Events\n  RedisClient.on(\"connect\", () => log(\"info\", { redisConnection: \"connect\" }));\n  RedisClient.on(\"ready\", () => log(\"info\", { redisConnection: \"ready\" }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", { redisConnection: \"reconnecting\" }));\n  RedisClient.on(\"end\", () => log(\"info\", { redisConnection: \"disconnected\" }));\n  RedisClient.on(\"error\", (error) => log(\"info\", { error }));\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", { error });\n  }\n\n  return RedisClient;\n}\n\nexport function getDbInstance() {\n  return RedisClient;\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AAEA;AACO,IAAIA,WAAJ;;;AAEA,SAASC,IAAT,GAAgB;EACrB,MAAMC,QAAQ,GAAGC,eAAOC,WAAP,CAAmBC,UAApC;;EAEA,IAAIL,WAAJ,EAAiB;IACf,OAAOA,WAAP;EACD;;EAEDM,GAAG,CAAC,MAAD,EAAU,gCAA+BJ,QAAS,EAAlD,CAAH;EAEA,sBAAAF,WAAW,GAAG,yBAAa;IACzBO,GAAG,EAAEL;EADoB,CAAb,CAAd,CATqB,CAarB;;EACAF,WAAW,CAACQ,EAAZ,CAAe,SAAf,EAA0B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAnC;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAwB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAjC;EACAT,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAxC;EACAT,WAAW,CAACQ,EAAZ,CAAe,KAAf,EAAsB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAA/B;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAyBE,KAAD,IAAWJ,GAAG,CAAC,MAAD,EAAS;IAAEI;EAAF,CAAT,CAAtC;;EACA,IAAI;IACFV,WAAW,CAACW,OAAZ;EACD,CAFD,CAEE,OAAOD,KAAP,EAAc;IACdJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD;;EAED,OAAOV,WAAP;AACD;;AAEM,SAASY,aAAT,GAAyB;EAC9B,OAAOZ,WAAP;AACD"}},"mtime":1653649504239},"{\"assumptions\":{},\"sourceRoot\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"filename\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/dsdchandra/Desktop/DoosraTest1/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar Sentry = _interopRequireWildcard(require(\"@sentry/node\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nrequire(\"express-async-errors\");\n\nvar _User = _interopRequireDefault(require(\"./routes/User\"));\n\nvar _Outboundcall = _interopRequireDefault(require(\"./routes/Outboundcall\"));\n\nvar _Health = _interopRequireDefault(require(\"./routes/Health\"));\n\nvar _index = _interopRequireDefault(require(\"./config/index\"));\n\nvar _RequestLogger = _interopRequireDefault(require(\"./middlewares/RequestLogger\"));\n\nvar _Auth = require(\"./middlewares/Auth\");\n\nvar _ResponseLogger = require(\"./middlewares/ResponseLogger\");\n\nvar _SchemaValidator = require(\"./middlewares/SchemaValidator\");\n\nvar HttpContextMiddleware = _interopRequireWildcard(require(\"./middlewares/HttpContextMiddleware\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\n// Module Imports\n// Default Imports\n// Named Imports\nconst httpContext = require(\"express-http-context\");\n\nconst app = (0, _express.default)(); // init sentry\n\nSentry.init({\n  dsn: _index.default.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/]\n});\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)()); // init httpcontext\n\napp.use(httpContext.middleware); // set http context\n\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\napp.use(\"*\", [_RequestLogger.default, _Auth.checks, _SchemaValidator.validate]);\napp.use(\"/v1/health\", _Health.default);\napp.use(\"/v1/user\", _User.default);\napp.use(\"/v1/organisation/outbound-call\", _Outboundcall.default); // The error handler must be before any other error middleware and after all controllers\n\napp.use(Sentry.Handlers.errorHandler()); // attach response payload\n\napp.use(HttpContextMiddleware.setHttpContextResponsePayload); // attach response payload on error\n\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\napp.use(\"*\", [_ResponseLogger.resSuccessLog, _ResponseLogger.resErrorLog]);\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJhcHAiLCJTZW50cnkiLCJpbml0IiwiZHNuIiwiY29uZmlnIiwic2VudHJ5X2RzbiIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic2VydmVyTmFtZSIsIm5hbWUiLCJpZ25vcmVFcnJvcnMiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIm1pZGRsZXdhcmUiLCJIdHRwQ29udGV4dE1pZGRsZXdhcmUiLCJzZXRIdHRwQ29udGV4dE1ldHJpY3MiLCJzZXRIdHRwQ29udGV4dFVzZXJEZXRhaWxzIiwic2V0SHR0cENvbnRleHRSZXF1ZXN0UGF5bG9hZCIsInJlcUxvZyIsImNoZWNrcyIsInZhbGlkYXRlIiwiaGVhbHRoIiwidXNlciIsIk91dGJvdW5kY2FsbCIsIkhhbmRsZXJzIiwiZXJyb3JIYW5kbGVyIiwic2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQiLCJzZXRIdHRwQ29udGV4dEVycm9yUmVzcG9uc2VQYXlsb2FkIiwicmVzU3VjY2Vzc0xvZyIsInJlc0Vycm9yTG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvZHNkY2hhbmRyYS9EZXNrdG9wL0Rvb3NyYVRlc3QxL2dpdC1leHBsb3JlLyIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1pbXBvcnQtbW9kdWxlLWV4cG9ydHMgKi9cbi8vIE1vZHVsZSBJbXBvcnRzXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gXCJAc2VudHJ5L25vZGVcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbmltcG9ydCBcImV4cHJlc3MtYXN5bmMtZXJyb3JzXCI7XG5cbi8vIERlZmF1bHQgSW1wb3J0c1xuaW1wb3J0IHVzZXIgZnJvbSBcIi4vcm91dGVzL1VzZXJcIjtcbmltcG9ydCBPdXRib3VuZGNhbGwgZnJvbSBcIi4vcm91dGVzL091dGJvdW5kY2FsbFwiO1xuaW1wb3J0IGhlYWx0aCBmcm9tIFwiLi9yb3V0ZXMvSGVhbHRoXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZy9pbmRleFwiO1xuXG5pbXBvcnQgcmVxTG9nIGZyb20gXCIuL21pZGRsZXdhcmVzL1JlcXVlc3RMb2dnZXJcIjtcblxuLy8gTmFtZWQgSW1wb3J0c1xuaW1wb3J0IHsgY2hlY2tzIH0gZnJvbSBcIi4vbWlkZGxld2FyZXMvQXV0aFwiO1xuaW1wb3J0IHsgcmVzU3VjY2Vzc0xvZywgcmVzRXJyb3JMb2cgfSBmcm9tIFwiLi9taWRkbGV3YXJlcy9SZXNwb25zZUxvZ2dlclwiO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tIFwiLi9taWRkbGV3YXJlcy9TY2hlbWFWYWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEh0dHBDb250ZXh0TWlkZGxld2FyZSBmcm9tIFwiLi9taWRkbGV3YXJlcy9IdHRwQ29udGV4dE1pZGRsZXdhcmVcIjtcblxuY29uc3QgaHR0cENvbnRleHQgPSByZXF1aXJlKFwiZXhwcmVzcy1odHRwLWNvbnRleHRcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gaW5pdCBzZW50cnlcblNlbnRyeS5pbml0KHtcbiAgZHNuOiBjb25maWcuc2VudHJ5X2RzbixcbiAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICAvLyBuYW1lIGlzIHNldCBpbiBlY29zeXN0ZW0gY29uZmlnIGZpbGVcbiAgc2VydmVyTmFtZTogcHJvY2Vzcy5lbnYubmFtZSxcbiAgLy8gaWdub3JlIG1pZGRsZXdhcmUgZXJyb3JzXG4gIGlnbm9yZUVycm9yczogWy9eTm9uLUVycm9yIGV4Y2VwdGlvbiBjYXB0dXJlZCQvXSxcbn0pO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGNvcnMoKSk7XG4vLyBpbml0IGh0dHBjb250ZXh0XG5hcHAudXNlKGh0dHBDb250ZXh0Lm1pZGRsZXdhcmUpO1xuXG4vLyBzZXQgaHR0cCBjb250ZXh0XG5hcHAudXNlKEh0dHBDb250ZXh0TWlkZGxld2FyZS5zZXRIdHRwQ29udGV4dE1ldHJpY3MpO1xuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRVc2VyRGV0YWlscyk7XG5hcHAudXNlKEh0dHBDb250ZXh0TWlkZGxld2FyZS5zZXRIdHRwQ29udGV4dFJlcXVlc3RQYXlsb2FkKTtcblxuYXBwLnVzZShcIipcIiwgW3JlcUxvZywgY2hlY2tzLCB2YWxpZGF0ZV0pO1xuYXBwLnVzZShcIi92MS9oZWFsdGhcIiwgaGVhbHRoKTtcbmFwcC51c2UoXCIvdjEvdXNlclwiLCB1c2VyKTtcbmFwcC51c2UoXCIvdjEvb3JnYW5pc2F0aW9uL291dGJvdW5kLWNhbGxcIiwgT3V0Ym91bmRjYWxsKTtcblxuLy8gVGhlIGVycm9yIGhhbmRsZXIgbXVzdCBiZSBiZWZvcmUgYW55IG90aGVyIGVycm9yIG1pZGRsZXdhcmUgYW5kIGFmdGVyIGFsbCBjb250cm9sbGVyc1xuYXBwLnVzZShTZW50cnkuSGFuZGxlcnMuZXJyb3JIYW5kbGVyKCkpO1xuXG4vLyBhdHRhY2ggcmVzcG9uc2UgcGF5bG9hZFxuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQpO1xuXG4vLyBhdHRhY2ggcmVzcG9uc2UgcGF5bG9hZCBvbiBlcnJvclxuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRFcnJvclJlc3BvbnNlUGF5bG9hZCk7XG5cbmFwcC51c2UoXCIqXCIsIFtyZXNTdWNjZXNzTG9nLCByZXNFcnJvckxvZ10pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFwQkE7QUFDQTtBQU9BO0FBUUE7QUFNQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUEzQjs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVosQyxDQUVBOztBQUNBQyxNQUFNLENBQUNDLElBQVAsQ0FBWTtFQUNWQyxHQUFHLEVBQUVDLGVBQU9DLFVBREY7RUFFVkMsV0FBVyxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFGZjtFQUdWO0VBQ0FDLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSmQ7RUFLVjtFQUNBQyxZQUFZLEVBQUUsQ0FBQyxnQ0FBRDtBQU5KLENBQVo7QUFRQVosR0FBRyxDQUFDYSxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQWYsR0FBRyxDQUFDYSxHQUFKLENBQVEsb0JBQVIsRSxDQUNBOztBQUNBYixHQUFHLENBQUNhLEdBQUosQ0FBUWYsV0FBVyxDQUFDa0IsVUFBcEIsRSxDQUVBOztBQUNBaEIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDQyxxQkFBOUI7QUFDQWxCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRSSxxQkFBcUIsQ0FBQ0UseUJBQTlCO0FBQ0FuQixHQUFHLENBQUNhLEdBQUosQ0FBUUkscUJBQXFCLENBQUNHLDRCQUE5QjtBQUVBcEIsR0FBRyxDQUFDYSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNRLHNCQUFELEVBQVNDLFlBQVQsRUFBaUJDLHlCQUFqQixDQUFiO0FBQ0F2QixHQUFHLENBQUNhLEdBQUosQ0FBUSxZQUFSLEVBQXNCVyxlQUF0QjtBQUNBeEIsR0FBRyxDQUFDYSxHQUFKLENBQVEsVUFBUixFQUFvQlksYUFBcEI7QUFDQXpCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLGdDQUFSLEVBQTBDYSxxQkFBMUMsRSxDQUVBOztBQUNBMUIsR0FBRyxDQUFDYSxHQUFKLENBQVFaLE1BQU0sQ0FBQzBCLFFBQVAsQ0FBZ0JDLFlBQWhCLEVBQVIsRSxDQUVBOztBQUNBNUIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDWSw2QkFBOUIsRSxDQUVBOztBQUNBN0IsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDYSxrQ0FBOUI7QUFFQTlCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDa0IsNkJBQUQsRUFBZ0JDLDJCQUFoQixDQUFiO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmxDLEdBQWpCIn0=","map":{"version":3,"names":["httpContext","require","app","Sentry","init","dsn","config","sentry_dsn","environment","process","env","NODE_ENV","serverName","name","ignoreErrors","use","bodyParser","json","middleware","HttpContextMiddleware","setHttpContextMetrics","setHttpContextUserDetails","setHttpContextRequestPayload","reqLog","checks","validate","health","user","Outboundcall","Handlers","errorHandler","setHttpContextResponsePayload","setHttpContextErrorResponsePayload","resSuccessLog","resErrorLog","module","exports"],"sourceRoot":"/home/dsdchandra/Desktop/DoosraTest1/git-explore/","sources":["app.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n// Module Imports\nimport express from \"express\";\nimport * as Sentry from \"@sentry/node\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport \"express-async-errors\";\n\n// Default Imports\nimport user from \"./routes/User\";\nimport Outboundcall from \"./routes/Outboundcall\";\nimport health from \"./routes/Health\";\nimport config from \"./config/index\";\n\nimport reqLog from \"./middlewares/RequestLogger\";\n\n// Named Imports\nimport { checks } from \"./middlewares/Auth\";\nimport { resSuccessLog, resErrorLog } from \"./middlewares/ResponseLogger\";\nimport { validate } from \"./middlewares/SchemaValidator\";\nimport * as HttpContextMiddleware from \"./middlewares/HttpContextMiddleware\";\n\nconst httpContext = require(\"express-http-context\");\n\nconst app = express();\n\n// init sentry\nSentry.init({\n  dsn: config.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/],\n});\napp.use(bodyParser.json());\napp.use(cors());\n// init httpcontext\napp.use(httpContext.middleware);\n\n// set http context\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\n\napp.use(\"*\", [reqLog, checks, validate]);\napp.use(\"/v1/health\", health);\napp.use(\"/v1/user\", user);\napp.use(\"/v1/organisation/outbound-call\", Outboundcall);\n\n// The error handler must be before any other error middleware and after all controllers\napp.use(Sentry.Handlers.errorHandler());\n\n// attach response payload\napp.use(HttpContextMiddleware.setHttpContextResponsePayload);\n\n// attach response payload on error\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\n\napp.use(\"*\", [resSuccessLog, resErrorLog]);\n\nmodule.exports = app;\n"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AAEA;;AAGA;;AACA;;AACA;;AACA;;;;;;;;AApBA;AACA;AAOA;AAQA;AAMA,MAAMA,WAAW,GAAGC,OAAO,CAAC,sBAAD,CAA3B;;AAEA,MAAMC,GAAG,GAAG,uBAAZ,C,CAEA;;AACAC,MAAM,CAACC,IAAP,CAAY;EACVC,GAAG,EAAEC,eAAOC,UADF;EAEVC,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFf;EAGV;EACAC,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYG,IAJd;EAKV;EACAC,YAAY,EAAE,CAAC,gCAAD;AANJ,CAAZ;AAQAZ,GAAG,CAACa,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAf,GAAG,CAACa,GAAJ,CAAQ,oBAAR,E,CACA;;AACAb,GAAG,CAACa,GAAJ,CAAQf,WAAW,CAACkB,UAApB,E,CAEA;;AACAhB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACC,qBAA9B;AACAlB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACE,yBAA9B;AACAnB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACG,4BAA9B;AAEApB,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACQ,sBAAD,EAASC,YAAT,EAAiBC,yBAAjB,CAAb;AACAvB,GAAG,CAACa,GAAJ,CAAQ,YAAR,EAAsBW,eAAtB;AACAxB,GAAG,CAACa,GAAJ,CAAQ,UAAR,EAAoBY,aAApB;AACAzB,GAAG,CAACa,GAAJ,CAAQ,gCAAR,EAA0Ca,qBAA1C,E,CAEA;;AACA1B,GAAG,CAACa,GAAJ,CAAQZ,MAAM,CAAC0B,QAAP,CAAgBC,YAAhB,EAAR,E,CAEA;;AACA5B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACY,6BAA9B,E,CAEA;;AACA7B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACa,kCAA9B;AAEA9B,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACkB,6BAAD,EAAgBC,2BAAhB,CAAb;AAEAC,MAAM,CAACC,OAAP,GAAiBlC,GAAjB"}},"mtime":1653909482978}}