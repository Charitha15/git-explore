{"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/utils/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/utils/WinstonLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = WinstonLogger;\nexports.init = init;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _os = _interopRequireDefault(require(\"os\"));\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nvar _jsonpathPlus = require(\"jsonpath-plus\");\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"winston-daily-rotate-file\");\n\nconst lodash = require(\"lodash\");\n\nconst httpContext = require(\"express-http-context\");\n\nconst fs = require(\"fs\");\n\nconst {\n  format\n} = _winston.default;\nconst {\n  combine,\n  timestamp,\n  json\n} = format;\nconst SENSITIVE_DATA_MAPPINGS = {\n  \"$.request.body\": [\"password\"],\n  \"$.response.messages[:]\": [\"message\"]\n};\nconst MASK = \"XXXXXX\";\nlet loggerReference; // Parse unhandled exceptions, convert message to json object\n\nconst parseUnhandledExceptions = format(info => {\n  const input = { ...info\n  };\n\n  if (info.exception) {\n    input.message = {\n      error: info\n    };\n  }\n\n  return input;\n}); // https://github.com/winstonjs/winston#logging-levels\n// https://www.npmjs.com/package/winston-daily-rotate-file\n\nfunction WinstonLogger() {\n  const logDir = `${_os.default.homedir()}/${process.env.name}-logs/`;\n\n  if (!fs.existsSync(logDir)) {\n    fs.mkdirSync(logDir);\n  }\n\n  const logger = _winston.default.createLogger({\n    defaultMeta: {\n      service: process.env.name\n    },\n    level: \"info\",\n    format: combine(parseUnhandledExceptions(), timestamp(), json()),\n    exitOnError: false,\n    transports: [new _winston.default.transports.DailyRotateFile({\n      filename: \"all\",\n      extension: \".log\",\n      dirname: logDir,\n      maxSize: \"50m\",\n      maxFiles: \"10\",\n      handleExceptions: true,\n      handleRejections: true\n    })]\n  }); // for local write to console\n\n\n  if (process.env.NODE_ENV === \"default\") {\n    const console = new _winston.default.transports.Console({\n      handleExceptions: true,\n      handleRejections: true,\n      exitOnError: false\n    });\n    logger.add(console); // Add console transport\n  }\n\n  return logger;\n}\n\nfunction getInstanceOfLogger() {\n  if (!loggerReference) {\n    loggerReference = new WinstonLogger();\n  }\n\n  return loggerReference;\n}\n\nfunction init() {\n  loggerReference = new WinstonLogger();\n}\n\nconst replaceMask = payload => {\n  const input = { ...payload\n  };\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach(jsonPath => {\n    if (Array.isArray(SENSITIVE_DATA_MAPPINGS[jsonPath])) {\n      SENSITIVE_DATA_MAPPINGS[jsonPath].forEach((v, k) => {\n        if (input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]]) {\n          input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]] = MASK;\n        }\n      });\n    }\n  });\n  return input;\n};\n\nconst maskSensitiveData = info => {\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach(jsonPath => {\n    (0, _jsonpathPlus.JSONPath)({\n      path: jsonPath,\n      json: info,\n      callback: replaceMask\n    });\n  });\n  return info;\n}; // https://v8.dev/docs/stack-trace-api\n\n\nfunction doosraTrace() {\n  const orig = Error.prepareStackTrace;\n\n  Error.prepareStackTrace = (_, stack) => stack;\n\n  const err = new Error();\n  Error.captureStackTrace(err, log);\n  const {\n    stack\n  } = err;\n  Error.prepareStackTrace = orig;\n\n  const filename = _path.default.basename(stack[0].getFileName());\n\n  const functionName = stack[0] ? stack[0].getFunctionName() : \"\";\n  return {\n    filename,\n    functionName\n  };\n}\n\nfunction jsonStringifyLog(log) {\n  const tempLog = lodash.cloneDeep(log);\n\n  try {\n    tempLog.message = JSON.stringify(tempLog.message);\n    tempLog.request = JSON.stringify(tempLog.request);\n    tempLog.response = JSON.stringify(tempLog.response);\n  } catch (error) {\n    console.error(\"error\", {\n      error\n    });\n  }\n\n  return tempLog;\n}\n/**\n *\n * @param {*} level\n * @param {*} message\n * message, request, response values are json strings\n */\n\n\nglobal.log = function (level, message) {\n  const logLevel = level || \"info\";\n  const {\n    filename,\n    functionName\n  } = doosraTrace();\n  let log = {\n    correlationId: httpContext.get(Constants.LOGGER_CORRELATIONID) || \"\",\n    filename,\n    functionName,\n    ipAddress: httpContext.get(Constants.LOGGER_USER_IP_ADDRESS) || \"\",\n    message,\n    request: httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD) || {},\n    response: httpContext.get(Constants.LOGGER_RESPONSE_PAYLOAD) || {},\n    responseTime: httpContext.get(Constants.LOGGER_RESPONSE_TIME),\n    route: httpContext.get(Constants.LOGGER_API_ROUTE) || \"\",\n    userDetails: httpContext.get(Constants.LOGGER_USER_DETAILS) || {}\n  };\n  log = maskSensitiveData(log);\n  const logger = getInstanceOfLogger(); // message, request, response are json stringified\n\n  logger.log(logLevel, jsonStringifyLog(log));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwibG9kYXNoIiwiaHR0cENvbnRleHQiLCJmcyIsImZvcm1hdCIsIndpbnN0b24iLCJjb21iaW5lIiwidGltZXN0YW1wIiwianNvbiIsIlNFTlNJVElWRV9EQVRBX01BUFBJTkdTIiwiTUFTSyIsImxvZ2dlclJlZmVyZW5jZSIsInBhcnNlVW5oYW5kbGVkRXhjZXB0aW9ucyIsImluZm8iLCJpbnB1dCIsImV4Y2VwdGlvbiIsIm1lc3NhZ2UiLCJlcnJvciIsIldpbnN0b25Mb2dnZXIiLCJsb2dEaXIiLCJvcyIsImhvbWVkaXIiLCJwcm9jZXNzIiwiZW52IiwibmFtZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJsb2dnZXIiLCJjcmVhdGVMb2dnZXIiLCJkZWZhdWx0TWV0YSIsInNlcnZpY2UiLCJsZXZlbCIsImV4aXRPbkVycm9yIiwidHJhbnNwb3J0cyIsIkRhaWx5Um90YXRlRmlsZSIsImZpbGVuYW1lIiwiZXh0ZW5zaW9uIiwiZGlybmFtZSIsIm1heFNpemUiLCJtYXhGaWxlcyIsImhhbmRsZUV4Y2VwdGlvbnMiLCJoYW5kbGVSZWplY3Rpb25zIiwiTk9ERV9FTlYiLCJjb25zb2xlIiwiQ29uc29sZSIsImFkZCIsImdldEluc3RhbmNlT2ZMb2dnZXIiLCJpbml0IiwicmVwbGFjZU1hc2siLCJwYXlsb2FkIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJqc29uUGF0aCIsIkFycmF5IiwiaXNBcnJheSIsInYiLCJrIiwibWFza1NlbnNpdGl2ZURhdGEiLCJwYXRoIiwiY2FsbGJhY2siLCJkb29zcmFUcmFjZSIsIm9yaWciLCJFcnJvciIsInByZXBhcmVTdGFja1RyYWNlIiwiXyIsInN0YWNrIiwiZXJyIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJsb2ciLCJiYXNlbmFtZSIsImdldEZpbGVOYW1lIiwiZnVuY3Rpb25OYW1lIiwiZ2V0RnVuY3Rpb25OYW1lIiwianNvblN0cmluZ2lmeUxvZyIsInRlbXBMb2ciLCJjbG9uZURlZXAiLCJKU09OIiwic3RyaW5naWZ5IiwicmVxdWVzdCIsInJlc3BvbnNlIiwiZ2xvYmFsIiwibG9nTGV2ZWwiLCJjb3JyZWxhdGlvbklkIiwiZ2V0IiwiQ29uc3RhbnRzIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJpcEFkZHJlc3MiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwicmVzcG9uc2VUaW1lIiwiTE9HR0VSX1JFU1BPTlNFX1RJTUUiLCJyb3V0ZSIsIkxPR0dFUl9BUElfUk9VVEUiLCJ1c2VyRGV0YWlscyIsIkxPR0dFUl9VU0VSX0RFVEFJTFMiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvdXRpbHMvIiwic291cmNlcyI6WyJXaW5zdG9uTG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgb3MgZnJvbSBcIm9zXCI7XG5pbXBvcnQgd2luc3RvbiBmcm9tIFwid2luc3RvblwiO1xuaW1wb3J0IHsgSlNPTlBhdGggfSBmcm9tIFwianNvbnBhdGgtcGx1c1wiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvQ29uc3RhbnRzXCI7XG5cbnJlcXVpcmUoXCJ3aW5zdG9uLWRhaWx5LXJvdGF0ZS1maWxlXCIpO1xuY29uc3QgbG9kYXNoID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbmNvbnN0IGh0dHBDb250ZXh0ID0gcmVxdWlyZShcImV4cHJlc3MtaHR0cC1jb250ZXh0XCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5cbmNvbnN0IHsgZm9ybWF0IH0gPSB3aW5zdG9uO1xuY29uc3QgeyBjb21iaW5lLCB0aW1lc3RhbXAsIGpzb24gfSA9IGZvcm1hdDtcbmNvbnN0IFNFTlNJVElWRV9EQVRBX01BUFBJTkdTID0ge1xuICBcIiQucmVxdWVzdC5ib2R5XCI6IFtcInBhc3N3b3JkXCJdLFxuICBcIiQucmVzcG9uc2UubWVzc2FnZXNbOl1cIjogW1wibWVzc2FnZVwiXSxcbn07XG5jb25zdCBNQVNLID0gXCJYWFhYWFhcIjtcbmxldCBsb2dnZXJSZWZlcmVuY2U7XG5cbi8vIFBhcnNlIHVuaGFuZGxlZCBleGNlcHRpb25zLCBjb252ZXJ0IG1lc3NhZ2UgdG8ganNvbiBvYmplY3RcbmNvbnN0IHBhcnNlVW5oYW5kbGVkRXhjZXB0aW9ucyA9IGZvcm1hdCgoaW5mbykgPT4ge1xuICBjb25zdCBpbnB1dCA9IHsgLi4uaW5mbyB9O1xuICBpZiAoaW5mby5leGNlcHRpb24pIHtcbiAgICBpbnB1dC5tZXNzYWdlID0geyBlcnJvcjogaW5mbyB9O1xuICB9XG4gIHJldHVybiBpbnB1dDtcbn0pO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24jbG9nZ2luZy1sZXZlbHNcbi8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3dpbnN0b24tZGFpbHktcm90YXRlLWZpbGVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2luc3RvbkxvZ2dlcigpIHtcbiAgY29uc3QgbG9nRGlyID0gYCR7b3MuaG9tZWRpcigpfS8ke3Byb2Nlc3MuZW52Lm5hbWV9LWxvZ3MvYDtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGxvZ0RpcikpIHtcbiAgICBmcy5ta2RpclN5bmMobG9nRGlyKTtcbiAgfVxuICBjb25zdCBsb2dnZXIgPSB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7XG4gICAgZGVmYXVsdE1ldGE6IHtcbiAgICAgIHNlcnZpY2U6IHByb2Nlc3MuZW52Lm5hbWUsXG4gICAgfSxcbiAgICBsZXZlbDogXCJpbmZvXCIsXG4gICAgZm9ybWF0OiBjb21iaW5lKFxuICAgICAgcGFyc2VVbmhhbmRsZWRFeGNlcHRpb25zKCksXG4gICAgICB0aW1lc3RhbXAoKSxcbiAgICAgIGpzb24oKSxcbiAgICApLFxuICAgIGV4aXRPbkVycm9yOiBmYWxzZSxcbiAgICB0cmFuc3BvcnRzOiBbXG4gICAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkRhaWx5Um90YXRlRmlsZSh7XG4gICAgICAgIGZpbGVuYW1lOiBcImFsbFwiLFxuICAgICAgICBleHRlbnNpb246IFwiLmxvZ1wiLFxuICAgICAgICBkaXJuYW1lOiBsb2dEaXIsXG4gICAgICAgIG1heFNpemU6IFwiNTBtXCIsXG4gICAgICAgIG1heEZpbGVzOiBcIjEwXCIsXG4gICAgICAgIGhhbmRsZUV4Y2VwdGlvbnM6IHRydWUsXG4gICAgICAgIGhhbmRsZVJlamVjdGlvbnM6IHRydWUsXG4gICAgICB9KSxcbiAgICBdLFxuICB9KTtcbiAgLy8gZm9yIGxvY2FsIHdyaXRlIHRvIGNvbnNvbGVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRlZmF1bHRcIikge1xuICAgIGNvbnN0IGNvbnNvbGUgPSBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgaGFuZGxlRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgIGhhbmRsZVJlamVjdGlvbnM6IHRydWUsXG4gICAgICBleGl0T25FcnJvcjogZmFsc2UsXG4gICAgfSk7XG4gICAgbG9nZ2VyLmFkZChjb25zb2xlKTsgLy8gQWRkIGNvbnNvbGUgdHJhbnNwb3J0XG4gIH1cbiAgcmV0dXJuIGxvZ2dlcjtcbn1cblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VPZkxvZ2dlcigpIHtcbiAgaWYgKCFsb2dnZXJSZWZlcmVuY2UpIHtcbiAgICBsb2dnZXJSZWZlcmVuY2UgPSBuZXcgV2luc3RvbkxvZ2dlcigpO1xuICB9XG4gIHJldHVybiBsb2dnZXJSZWZlcmVuY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBsb2dnZXJSZWZlcmVuY2UgPSBuZXcgV2luc3RvbkxvZ2dlcigpO1xufVxuXG5jb25zdCByZXBsYWNlTWFzayA9IChwYXlsb2FkKSA9PiB7XG4gIGNvbnN0IGlucHV0ID0geyAuLi5wYXlsb2FkIH07XG4gIE9iamVjdC5rZXlzKFNFTlNJVElWRV9EQVRBX01BUFBJTkdTKS5mb3JFYWNoKChqc29uUGF0aCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KFNFTlNJVElWRV9EQVRBX01BUFBJTkdTW2pzb25QYXRoXSkpIHtcbiAgICAgIFNFTlNJVElWRV9EQVRBX01BUFBJTkdTW2pzb25QYXRoXS5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgIGlmIChpbnB1dFtTRU5TSVRJVkVfREFUQV9NQVBQSU5HU1tqc29uUGF0aF1ba11dKSB7XG4gICAgICAgICAgaW5wdXRbU0VOU0lUSVZFX0RBVEFfTUFQUElOR1NbanNvblBhdGhdW2tdXSA9IE1BU0s7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbnB1dDtcbn07XG5cbmNvbnN0IG1hc2tTZW5zaXRpdmVEYXRhID0gKGluZm8pID0+IHtcbiAgT2JqZWN0LmtleXMoU0VOU0lUSVZFX0RBVEFfTUFQUElOR1MpLmZvckVhY2goKGpzb25QYXRoKSA9PiB7XG4gICAgSlNPTlBhdGgoe1xuICAgICAgcGF0aDoganNvblBhdGgsXG4gICAgICBqc29uOiBpbmZvLFxuICAgICAgY2FsbGJhY2s6IHJlcGxhY2VNYXNrLFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGluZm87XG59O1xuXG4vLyBodHRwczovL3Y4LmRldi9kb2NzL3N0YWNrLXRyYWNlLWFwaVxuZnVuY3Rpb24gZG9vc3JhVHJhY2UoKSB7XG4gIGNvbnN0IG9yaWcgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSAoXywgc3RhY2spID0+IHN0YWNrO1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCBsb2cpO1xuICBjb25zdCB7IHN0YWNrIH0gPSBlcnI7XG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gb3JpZztcbiAgY29uc3QgZmlsZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHN0YWNrWzBdLmdldEZpbGVOYW1lKCkpO1xuICBjb25zdCBmdW5jdGlvbk5hbWUgPSBzdGFja1swXSA/IHN0YWNrWzBdLmdldEZ1bmN0aW9uTmFtZSgpIDogXCJcIjtcbiAgcmV0dXJuIHsgZmlsZW5hbWUsIGZ1bmN0aW9uTmFtZSB9O1xufVxuXG5mdW5jdGlvbiBqc29uU3RyaW5naWZ5TG9nKGxvZykge1xuICBjb25zdCB0ZW1wTG9nID0gbG9kYXNoLmNsb25lRGVlcChsb2cpO1xuICB0cnkge1xuICAgIHRlbXBMb2cubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHRlbXBMb2cubWVzc2FnZSk7XG4gICAgdGVtcExvZy5yZXF1ZXN0ID0gSlNPTi5zdHJpbmdpZnkodGVtcExvZy5yZXF1ZXN0KTtcbiAgICB0ZW1wTG9nLnJlc3BvbnNlID0gSlNPTi5zdHJpbmdpZnkodGVtcExvZy5yZXNwb25zZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH1cbiAgcmV0dXJuIHRlbXBMb2c7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IGxldmVsXG4gKiBAcGFyYW0geyp9IG1lc3NhZ2VcbiAqIG1lc3NhZ2UsIHJlcXVlc3QsIHJlc3BvbnNlIHZhbHVlcyBhcmUganNvbiBzdHJpbmdzXG4gKi9cbmdsb2JhbC5sb2cgPSBmdW5jdGlvbiAobGV2ZWwsIG1lc3NhZ2UpIHtcbiAgY29uc3QgbG9nTGV2ZWwgPSBsZXZlbCB8fCBcImluZm9cIjtcbiAgY29uc3QgeyBmaWxlbmFtZSwgZnVuY3Rpb25OYW1lIH0gPSBkb29zcmFUcmFjZSgpO1xuICBsZXQgbG9nID0ge1xuICAgIGNvcnJlbGF0aW9uSWQ6IGh0dHBDb250ZXh0LmdldChDb25zdGFudHMuTE9HR0VSX0NPUlJFTEFUSU9OSUQpIHx8IFwiXCIsXG4gICAgZmlsZW5hbWUsXG4gICAgZnVuY3Rpb25OYW1lLFxuICAgIGlwQWRkcmVzczogaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfVVNFUl9JUF9BRERSRVNTKSB8fCBcIlwiLFxuICAgIG1lc3NhZ2UsXG4gICAgcmVxdWVzdDogaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfUkVRVUVTVF9QQVlMT0FEKSB8fCB7fSxcbiAgICByZXNwb25zZTogaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfUkVTUE9OU0VfUEFZTE9BRCkgfHwge30sXG4gICAgcmVzcG9uc2VUaW1lOiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVNQT05TRV9USU1FKSxcbiAgICByb3V0ZTogaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfQVBJX1JPVVRFKSB8fCBcIlwiLFxuICAgIHVzZXJEZXRhaWxzOiBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9VU0VSX0RFVEFJTFMpIHx8IHt9LFxuICB9O1xuICBsb2cgPSBtYXNrU2Vuc2l0aXZlRGF0YShsb2cpO1xuICBjb25zdCBsb2dnZXIgPSBnZXRJbnN0YW5jZU9mTG9nZ2VyKCk7XG4gIC8vIG1lc3NhZ2UsIHJlcXVlc3QsIHJlc3BvbnNlIGFyZSBqc29uIHN0cmluZ2lmaWVkXG4gIGxvZ2dlci5sb2cobG9nTGV2ZWwsIGpzb25TdHJpbmdpZnlMb2cobG9nKSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBQSxPQUFPLENBQUMsMkJBQUQsQ0FBUDs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLHNCQUFELENBQTNCOztBQUNBLE1BQU1HLEVBQUUsR0FBR0gsT0FBTyxDQUFDLElBQUQsQ0FBbEI7O0FBRUEsTUFBTTtFQUFFSTtBQUFGLElBQWFDLGdCQUFuQjtBQUNBLE1BQU07RUFBRUMsT0FBRjtFQUFXQyxTQUFYO0VBQXNCQztBQUF0QixJQUErQkosTUFBckM7QUFD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","map":{"version":3,"names":["require","lodash","httpContext","fs","format","winston","combine","timestamp","json","SENSITIVE_DATA_MAPPINGS","MASK","loggerReference","parseUnhandledExceptions","info","input","exception","message","error","WinstonLogger","logDir","os","homedir","process","env","name","existsSync","mkdirSync","logger","createLogger","defaultMeta","service","level","exitOnError","transports","DailyRotateFile","filename","extension","dirname","maxSize","maxFiles","handleExceptions","handleRejections","NODE_ENV","console","Console","add","getInstanceOfLogger","init","replaceMask","payload","Object","keys","forEach","jsonPath","Array","isArray","v","k","maskSensitiveData","path","callback","doosraTrace","orig","Error","prepareStackTrace","_","stack","err","captureStackTrace","log","basename","getFileName","functionName","getFunctionName","jsonStringifyLog","tempLog","cloneDeep","JSON","stringify","request","response","global","logLevel","correlationId","get","Constants","LOGGER_CORRELATIONID","ipAddress","LOGGER_USER_IP_ADDRESS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","responseTime","LOGGER_RESPONSE_TIME","route","LOGGER_API_ROUTE","userDetails","LOGGER_USER_DETAILS"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/utils/","sources":["WinstonLogger.js"],"sourcesContent":["import path from \"path\";\nimport os from \"os\";\nimport winston from \"winston\";\nimport { JSONPath } from \"jsonpath-plus\";\nimport * as Constants from \"../constants/Constants\";\n\nrequire(\"winston-daily-rotate-file\");\nconst lodash = require(\"lodash\");\nconst httpContext = require(\"express-http-context\");\nconst fs = require(\"fs\");\n\nconst { format } = winston;\nconst { combine, timestamp, json } = format;\nconst SENSITIVE_DATA_MAPPINGS = {\n  \"$.request.body\": [\"password\"],\n  \"$.response.messages[:]\": [\"message\"],\n};\nconst MASK = \"XXXXXX\";\nlet loggerReference;\n\n// Parse unhandled exceptions, convert message to json object\nconst parseUnhandledExceptions = format((info) => {\n  const input = { ...info };\n  if (info.exception) {\n    input.message = { error: info };\n  }\n  return input;\n});\n\n// https://github.com/winstonjs/winston#logging-levels\n// https://www.npmjs.com/package/winston-daily-rotate-file\n\nexport default function WinstonLogger() {\n  const logDir = `${os.homedir()}/${process.env.name}-logs/`;\n  if (!fs.existsSync(logDir)) {\n    fs.mkdirSync(logDir);\n  }\n  const logger = winston.createLogger({\n    defaultMeta: {\n      service: process.env.name,\n    },\n    level: \"info\",\n    format: combine(\n      parseUnhandledExceptions(),\n      timestamp(),\n      json(),\n    ),\n    exitOnError: false,\n    transports: [\n      new winston.transports.DailyRotateFile({\n        filename: \"all\",\n        extension: \".log\",\n        dirname: logDir,\n        maxSize: \"50m\",\n        maxFiles: \"10\",\n        handleExceptions: true,\n        handleRejections: true,\n      }),\n    ],\n  });\n  // for local write to console\n  if (process.env.NODE_ENV === \"default\") {\n    const console = new winston.transports.Console({\n      handleExceptions: true,\n      handleRejections: true,\n      exitOnError: false,\n    });\n    logger.add(console); // Add console transport\n  }\n  return logger;\n}\n\nfunction getInstanceOfLogger() {\n  if (!loggerReference) {\n    loggerReference = new WinstonLogger();\n  }\n  return loggerReference;\n}\n\nexport function init() {\n  loggerReference = new WinstonLogger();\n}\n\nconst replaceMask = (payload) => {\n  const input = { ...payload };\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach((jsonPath) => {\n    if (Array.isArray(SENSITIVE_DATA_MAPPINGS[jsonPath])) {\n      SENSITIVE_DATA_MAPPINGS[jsonPath].forEach((v, k) => {\n        if (input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]]) {\n          input[SENSITIVE_DATA_MAPPINGS[jsonPath][k]] = MASK;\n        }\n      });\n    }\n  });\n  return input;\n};\n\nconst maskSensitiveData = (info) => {\n  Object.keys(SENSITIVE_DATA_MAPPINGS).forEach((jsonPath) => {\n    JSONPath({\n      path: jsonPath,\n      json: info,\n      callback: replaceMask,\n    });\n  });\n  return info;\n};\n\n// https://v8.dev/docs/stack-trace-api\nfunction doosraTrace() {\n  const orig = Error.prepareStackTrace;\n  Error.prepareStackTrace = (_, stack) => stack;\n  const err = new Error();\n  Error.captureStackTrace(err, log);\n  const { stack } = err;\n  Error.prepareStackTrace = orig;\n  const filename = path.basename(stack[0].getFileName());\n  const functionName = stack[0] ? stack[0].getFunctionName() : \"\";\n  return { filename, functionName };\n}\n\nfunction jsonStringifyLog(log) {\n  const tempLog = lodash.cloneDeep(log);\n  try {\n    tempLog.message = JSON.stringify(tempLog.message);\n    tempLog.request = JSON.stringify(tempLog.request);\n    tempLog.response = JSON.stringify(tempLog.response);\n  } catch (error) {\n    console.error(\"error\", { error });\n  }\n  return tempLog;\n}\n/**\n *\n * @param {*} level\n * @param {*} message\n * message, request, response values are json strings\n */\nglobal.log = function (level, message) {\n  const logLevel = level || \"info\";\n  const { filename, functionName } = doosraTrace();\n  let log = {\n    correlationId: httpContext.get(Constants.LOGGER_CORRELATIONID) || \"\",\n    filename,\n    functionName,\n    ipAddress: httpContext.get(Constants.LOGGER_USER_IP_ADDRESS) || \"\",\n    message,\n    request: httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD) || {},\n    response: httpContext.get(Constants.LOGGER_RESPONSE_PAYLOAD) || {},\n    responseTime: httpContext.get(Constants.LOGGER_RESPONSE_TIME),\n    route: httpContext.get(Constants.LOGGER_API_ROUTE) || \"\",\n    userDetails: httpContext.get(Constants.LOGGER_USER_DETAILS) || {},\n  };\n  log = maskSensitiveData(log);\n  const logger = getInstanceOfLogger();\n  // message, request, response are json stringified\n  logger.log(logLevel, jsonStringifyLog(log));\n};\n"],"mappings":"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"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/Constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGGER_USER_IP_ADDRESS = exports.LOGGER_USER_DETAILS = exports.LOGGER_URL_REDIRECTION_OBJ = exports.LOGGER_RESPONSE_TIME = exports.LOGGER_RESPONSE_PAYLOAD = exports.LOGGER_REQUEST_START_TIME = exports.LOGGER_REQUEST_PAYLOAD = exports.LOGGER_CORRELATIONID = exports.LOGGER_API_ROUTE = void 0;\nconst LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexports.LOGGER_USER_DETAILS = LOGGER_USER_DETAILS;\nconst LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexports.LOGGER_REQUEST_PAYLOAD = LOGGER_REQUEST_PAYLOAD;\nconst LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexports.LOGGER_RESPONSE_PAYLOAD = LOGGER_RESPONSE_PAYLOAD;\nconst LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexports.LOGGER_REQUEST_START_TIME = LOGGER_REQUEST_START_TIME;\nconst LOGGER_API_ROUTE = \"loggerRoute\";\nexports.LOGGER_API_ROUTE = LOGGER_API_ROUTE;\nconst LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexports.LOGGER_USER_IP_ADDRESS = LOGGER_USER_IP_ADDRESS;\nconst LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexports.LOGGER_CORRELATIONID = LOGGER_CORRELATIONID;\nconst LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexports.LOGGER_RESPONSE_TIME = LOGGER_RESPONSE_TIME;\nconst LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\nexports.LOGGER_URL_REDIRECTION_OBJ = LOGGER_URL_REDIRECTION_OBJ;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMT0dHRVJfVVNFUl9ERVRBSUxTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFUVVFU1RfU1RBUlRfVElNRSIsIkxPR0dFUl9BUElfUk9VVEUiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJMT0dHRVJfUkVTUE9OU0VfVElNRSIsIkxPR0dFUl9VUkxfUkVESVJFQ1RJT05fT0JKIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2NvbnN0YW50cy8iLCJzb3VyY2VzIjpbIkNvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTE9HR0VSX1VTRVJfREVUQUlMUyA9IFwibG9nZ2VyVXNlckRldGFpbHNcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVRVUVTVF9QQVlMT0FEID0gXCJsb2dnZXJSZXF1ZXN0UGF5bG9hZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVNQT05TRV9QQVlMT0FEID0gXCJsb2dnZXJSZXNwb25zZVBheWxvYWRcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVRVUVTVF9TVEFSVF9USU1FID0gXCJsb2dnZXJSZXF1ZXN0U3RhcnRUaW1lXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX0FQSV9ST1VURSA9IFwibG9nZ2VyUm91dGVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfVVNFUl9JUF9BRERSRVNTID0gXCJsb2dnZXJVc2VySXBBZGRyZXNzXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX0NPUlJFTEFUSU9OSUQgPSBcImxvZ2dlckNvcnJlbGF0aW9uSWRcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVTUE9OU0VfVElNRSA9IFwibG9nZ2VyUmVzcG9uc2VUaW1lXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX1VSTF9SRURJUkVDVElPTl9PQkogPSBcImxvZ2dlclVybFJlZGlyZWN0aW9uT2JqXCI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLG1CQUFtQixHQUFHLG1CQUE1Qjs7QUFDQSxNQUFNQyxzQkFBc0IsR0FBRyxzQkFBL0I7O0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsdUJBQWhDOztBQUNBLE1BQU1DLHlCQUF5QixHQUFHLHdCQUFsQzs7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxhQUF6Qjs7QUFDQSxNQUFNQyxzQkFBc0IsR0FBRyxxQkFBL0I7O0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcscUJBQTdCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLG9CQUE3Qjs7QUFDQSxNQUFNQywwQkFBMEIsR0FBRyx5QkFBbkMifQ==","map":{"version":3,"names":["LOGGER_USER_DETAILS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","LOGGER_REQUEST_START_TIME","LOGGER_API_ROUTE","LOGGER_USER_IP_ADDRESS","LOGGER_CORRELATIONID","LOGGER_RESPONSE_TIME","LOGGER_URL_REDIRECTION_OBJ"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/constants/","sources":["Constants.js"],"sourcesContent":["export const LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexport const LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexport const LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexport const LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexport const LOGGER_API_ROUTE = \"loggerRoute\";\nexport const LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexport const LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexport const LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexport const LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG,mBAA5B;;AACA,MAAMC,sBAAsB,GAAG,sBAA/B;;AACA,MAAMC,uBAAuB,GAAG,uBAAhC;;AACA,MAAMC,yBAAyB,GAAG,wBAAlC;;AACA,MAAMC,gBAAgB,GAAG,aAAzB;;AACA,MAAMC,sBAAsB,GAAG,qBAA/B;;AACA,MAAMC,oBAAoB,GAAG,qBAA7B;;AACA,MAAMC,oBAAoB,GAAG,oBAA7B;;AACA,MAAMC,0BAA0B,GAAG,yBAAnC"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/MainDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  _mongoose.default.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwibW9uZ29vc2UiLCJzZXQiLCJjb2xsZWN0aW9uTmFtZSIsIm1ldGhvZE5hbWUiLCJtZXRob2RBcmdzIiwibG9nIiwiam9pbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiTWFpbkRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1pbXBvcnQtbW9kdWxlLWV4cG9ydHMgKi9cblxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XG5cbmxldCBjb25uO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc3QgUkVDT05ORUNUX1RJTUUgPSA1MDAwO1xuICBjb25zdCBDT05OX1VSTCA9IGNvbmZpZy5tYWluRGJjb25maWcuY29ublN0cmluZztcblxuICBpZiAoY29ubikge1xuICAgIHJldHVybiBjb25uO1xuICB9XG5cbiAgbW9uZ29vc2Uuc2V0KFwiZGVidWdcIiwgKGNvbGxlY3Rpb25OYW1lLCBtZXRob2ROYW1lLCAuLi5tZXRob2RBcmdzKSA9PiB7XG4gICAgLy8gdXNlIGN1c3RvbSBmdW5jdGlvbiB0byBsb2cgY29sbGVjdGlvbiBtZXRob2RzICsgYXJndW1lbnRzXG4gICAgbG9nKFwiaW5mb1wiLCBgTW9uZ29vc2U6ICR7Y29sbGVjdGlvbk5hbWV9LiR7bWV0aG9kTmFtZX0oJHttZXRob2RBcmdzLmpvaW4oXCIsIFwiKX0pYCk7XG4gIH0pO1xuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gbWFpbiBkYXRhYmFzZSAke0NPTk5fVVJMfWApO1xuICBjb25uID0gbW9uZ29vc2UuY3JlYXRlQ29ubmVjdGlvbihDT05OX1VSTCk7XG5cbiAgLy8gIE1vbmdvb3NlIENvbm5lY3Rpb24gRXZlbnRzXG4gIGNvbm4ub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGVycm9yIH0pO1xuICB9KTtcblxuICBjb25uLm9uY2UoXCJvcGVuXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcIm9wZW5cIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0ZWRcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImNvbm5lY3RpbmdcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwiY29ubmVjdGluZ1wiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwicmVjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwicmVjb25uZWN0ZWRcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IGBkaXNjb25uZWN0ZWQgUmVjb25uZWN0aW5nIGluICR7UkVDT05ORUNUX1RJTUUgLyAxMDAwfXMuLi5gIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdXRvbWF0dGljL21vbmdvb3NlL2lzc3Vlcy81MTY5I2lzc3VlY29tbWVudC0zMTQ5ODMxMTNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgY29ubi5vcGVuVXJpKENPTk5fVVJMKS5jYXRjaCgoKSA9PiB7IH0pOyB9LCBSRUNPTk5FQ1RfVElNRSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGJJbnN0YW5jZSgpIHtcbiAgcmV0dXJuIGNvbm47XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUE7O0FBQ0E7Ozs7QUFIQTtBQUtBLElBQUlBLElBQUo7O0FBRU8sU0FBU0MsSUFBVCxHQUFnQjtFQUNyQixNQUFNQyxjQUFjLEdBQUcsSUFBdkI7RUFDQSxNQUFNQyxRQUFRLEdBQUdDLGVBQU9DLFlBQVAsQ0FBb0JDLFVBQXJDOztFQUVBLElBQUlOLElBQUosRUFBVTtJQUNSLE9BQU9BLElBQVA7RUFDRDs7RUFFRE8sa0JBQVNDLEdBQVQsQ0FBYSxPQUFiLEVBQXNCLENBQUNDLGNBQUQsRUFBaUJDLFVBQWpCLEVBQTZCLEdBQUdDLFVBQWhDLEtBQStDO0lBQ25FO0lBQ0FDLEdBQUcsQ0FBQyxNQUFELEVBQVUsYUFBWUgsY0FBZSxJQUFHQyxVQUFXLElBQUdDLFVBQVUsQ0FBQ0UsSUFBWCxDQUFnQixJQUFoQixDQUFzQixHQUE1RSxDQUFIO0VBQ0QsQ0FIRDs7RUFLQUQsR0FBRyxDQUFDLE1BQUQsRUFBVSx3Q0FBdUNULFFBQVMsRUFBMUQsQ0FBSDtFQUNBSCxJQUFJLEdBQUdPLGtCQUFTTyxnQkFBVCxDQUEwQlgsUUFBMUIsQ0FBUCxDQWRxQixDQWdCckI7O0VBQ0FILElBQUksQ0FBQ2UsRUFBTCxDQUFRLE9BQVIsRUFBa0JDLEtBQUQsSUFBVztJQUMxQkosR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFSTtJQUFGLENBQVYsQ0FBSDtFQUNELENBRkQ7RUFJQWhCLElBQUksQ0FBQ2lCLElBQUwsQ0FBVSxNQUFWLEVBQWtCLE1BQU07SUFDdEJMLEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsV0FBUixFQUFxQixNQUFNO0lBQ3pCSCxHQUFHLENBQUMsTUFBRCxFQUFTO01BQUVNLGtCQUFrQixFQUFFO0lBQXRCLENBQVQsQ0FBSDtFQUNELENBRkQ7RUFJQWxCLElBQUksQ0FBQ2UsRUFBTCxDQUFRLFlBQVIsRUFBc0IsTUFBTTtJQUMxQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxhQUFSLEVBQXVCLE1BQU07SUFDM0JILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsY0FBUixFQUF3QixNQUFNO0lBQzVCSCxHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVNLGtCQUFrQixFQUFHLGdDQUErQmhCLGNBQWMsR0FBRyxJQUFLO0lBQTVFLENBQVYsQ0FBSCxDQUQ0QixDQUU1Qjs7SUFDQWlCLFVBQVUsQ0FBQyxNQUFNO01BQUVuQixJQUFJLENBQUNvQixPQUFMLENBQWFqQixRQUFiLEVBQXVCa0IsS0FBdkIsQ0FBNkIsTUFBTSxDQUFHLENBQXRDO0lBQTBDLENBQW5ELEVBQXFEbkIsY0FBckQsQ0FBVjtFQUNELENBSkQ7RUFNQSxPQUFPRixJQUFQO0FBQ0Q7O0FBRU0sU0FBU3NCLGFBQVQsR0FBeUI7RUFDOUIsT0FBT3RCLElBQVA7QUFDRCJ9","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","mainDbconfig","connString","mongoose","set","collectionName","methodName","methodArgs","log","join","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["MainDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  mongoose.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,YAAP,CAAoBC,UAArC;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,kBAASC,GAAT,CAAa,OAAb,EAAsB,CAACC,cAAD,EAAiBC,UAAjB,EAA6B,GAAGC,UAAhC,KAA+C;IACnE;IACAC,GAAG,CAAC,MAAD,EAAU,aAAYH,cAAe,IAAGC,UAAW,IAAGC,UAAU,CAACE,IAAX,CAAgB,IAAhB,CAAsB,GAA5E,CAAH;EACD,CAHD;;EAKAD,GAAG,CAAC,MAAD,EAAU,wCAAuCT,QAAS,EAA1D,CAAH;EACAH,IAAI,GAAGO,kBAASO,gBAAT,CAA0BX,QAA1B,CAAP,CAdqB,CAgBrB;;EACAH,IAAI,CAACe,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAhB,IAAI,CAACiB,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BhB,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAiB,UAAU,CAAC,MAAM;MAAEnB,IAAI,CAACoB,OAAL,CAAajB,QAAb,EAAuBkB,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDnB,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASsB,aAAT,GAAyB;EAC9B,OAAOtB,IAAP;AACD"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default2 = _interopRequireDefault(require(\"./default\"));\n\nvar _dev = _interopRequireDefault(require(\"./dev\"));\n\nvar _prod = _interopRequireDefault(require(\"./prod\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return _default2.default;\n\n    case \"dev\":\n      return _dev.default;\n\n    case \"production\":\n      return _prod.default;\n\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\n\nvar _default = config();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsb2NhbENvbmZpZyIsImRldkNvbmZpZyIsInByb2RDb25maWciLCJFcnJvciJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9jYWxDb25maWcgZnJvbSBcIi4vZGVmYXVsdFwiO1xuaW1wb3J0IGRldkNvbmZpZyBmcm9tIFwiLi9kZXZcIjtcbmltcG9ydCBwcm9kQ29uZmlnIGZyb20gXCIuL3Byb2RcIjtcblxuY29uc3QgY29uZmlnID0gKCkgPT4ge1xuICAvLyBwcm9jZXNzLmVudi5OT0RFX0VOViA9IFwiZGVmYXVsdFwiO1xuICBzd2l0Y2ggKHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgIHJldHVybiBsb2NhbENvbmZpZztcbiAgICBjYXNlIFwiZGV2XCI6XG4gICAgICByZXR1cm4gZGV2Q29uZmlnO1xuICAgIGNhc2UgXCJwcm9kdWN0aW9uXCI6XG4gICAgICByZXR1cm4gcHJvZENvbmZpZztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlnIHZhcmlhYmxlcyBub3Qgc2V0XCIpO1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxNQUFNO0VBQ25CO0VBQ0EsUUFBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCO0lBQ0UsS0FBSyxTQUFMO01BQ0UsT0FBT0MsaUJBQVA7O0lBQ0YsS0FBSyxLQUFMO01BQ0UsT0FBT0MsWUFBUDs7SUFDRixLQUFLLFlBQUw7TUFDRSxPQUFPQyxhQUFQOztJQUNGO01BQ0UsTUFBTSxJQUFJQyxLQUFKLENBQVUsMEJBQVYsQ0FBTjtFQVJKO0FBVUQsQ0FaRDs7ZUFhZVAsTUFBTSxFIn0=","map":{"version":3,"names":["config","process","env","NODE_ENV","localConfig","devConfig","prodConfig","Error"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["index.js"],"sourcesContent":["import localConfig from \"./default\";\nimport devConfig from \"./dev\";\nimport prodConfig from \"./prod\";\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return localConfig;\n    case \"dev\":\n      return devConfig;\n    case \"production\":\n      return prodConfig;\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\nexport default config();\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,MAAM;EACnB;EACA,QAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB;IACE,KAAK,SAAL;MACE,OAAOC,iBAAP;;IACF,KAAK,KAAL;MACE,OAAOC,YAAP;;IACF,KAAK,YAAL;MACE,OAAOC,aAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;EARJ;AAUD,CAZD;;eAaeP,MAAM,E"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/default.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\"\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\"\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwiYW5hbHl0aWNzRGJDb25maWciLCJyZWRpc0NvbmZpZyIsInNlbnRyeV9kc24iLCJwcm9jZXNzIiwiZW52IiwiU0VOVFJZX0RTTiJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJkZWZhdWx0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgbWFpbkRiY29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2xjX21ldHJvX2RiXCIsXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2FuYWx5dGljc2RiXCIsXG4gIH0sXG4gIHJlZGlzQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJyZWRpczovL2xvY2FsaG9zdDo2Mzc5XCIsXG4gIH0sXG4gIHNlbnRyeV9kc246IHByb2Nlc3MuZW52LlNFTlRSWV9EU04sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNiQSxZQUFZLEVBQUU7SUFDWkMsVUFBVSxFQUFFO0VBREEsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkQsVUFBVSxFQUFFO0VBREssQ0FKTjtFQU9iRSxXQUFXLEVBQUU7SUFDWEYsVUFBVSxFQUFFO0VBREQsQ0FQQTtFQVViRyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQVZYLEMifQ==","map":{"version":3,"names":["mainDbconfig","connString","analyticsDbConfig","redisConfig","sentry_dsn","process","env","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["default.js"],"sourcesContent":["export default {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\",\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\",\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;eAAe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAE;EADA,CADD;EAIbC,iBAAiB,EAAE;IACjBD,UAAU,EAAE;EADK,CAJN;EAObE,WAAW,EAAE;IACXF,UAAU,EAAE;EADD,CAPA;EAUbG,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/dev.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29uZmlnLyIsInNvdXJjZXMiOlsiZGV2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5NQUlOX0RCX0NPTk5fU1RSSU5HLCAvLyBDaGFuZ2UgYWxsIHJlcXVpcmVkIGNvbmZpZyB0byBlbnYgdmFyaWFibGVzXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuQU5BTFlUSUNTX0RCX0NPTk5fU1RSSU5HLFxuICB9LFxuICByZWRpc0NvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IFwicmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OVwiLFxuICB9LFxuICBzZW50cnlfZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztlQUVlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFEWixDQUNpQzs7RUFEakMsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkosVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7RUFEUCxDQUpOO0VBT2JDLFdBQVcsRUFBRTtJQUNYTixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJPLFVBQVUsRUFBRU4sT0FBTyxDQUFDQyxHQUFSLENBQVlNO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["dev.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/prod.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29uZmlnLyIsInNvdXJjZXMiOlsicHJvZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbWFpbkRiY29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuTUFJTl9EQl9DT05OX1NUUklORywgLy8gQ2hhbmdlIGFsbCByZXF1aXJlZCBjb25maWcgdG8gZW52IHZhcmlhYmxlc1xuICB9LFxuICBhbmFseXRpY3NEYkNvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IHByb2Nlc3MuZW52LkFOQUxZVElDU19EQl9DT05OX1NUUklORyxcbiAgfSxcbiAgcmVkaXNDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcInJlZGlzOi8vbG9jYWxob3N0OjYzNzlcIixcbiAgfSxcbiAgc2VudHJ5X2RzbjogcHJvY2Vzcy5lbnYuU0VOVFJZX0RTTixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7ZUFFZTtFQUNiQSxZQUFZLEVBQUU7SUFDWkMsVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBRFosQ0FDaUM7O0VBRGpDLENBREQ7RUFJYkMsaUJBQWlCLEVBQUU7SUFDakJKLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0VBRFAsQ0FKTjtFQU9iQyxXQUFXLEVBQUU7SUFDWE4sVUFBVSxFQUFFO0VBREQsQ0FQQTtFQVViTyxVQUFVLEVBQUVOLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTTtBQVZYLEMifQ==","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["prod.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/AnalyticsDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJhbmFseXRpY3NEYkNvbmZpZyIsImNvbm5TdHJpbmciLCJsb2ciLCJtb25nb29zZSIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiQW5hbHl0aWNzRGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWltcG9ydC1tb2R1bGUtZXhwb3J0cyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxubGV0IGNvbm47XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBSRUNPTk5FQ1RfVElNRSA9IDUwMDA7XG4gIGNvbnN0IENPTk5fVVJMID0gY29uZmlnLmFuYWx5dGljc0RiQ29uZmlnLmNvbm5TdHJpbmc7XG5cbiAgaWYgKGNvbm4pIHtcbiAgICByZXR1cm4gY29ubjtcbiAgfVxuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gYW5hbHl0aWNzIGRhdGFiYXNlICR7Q09OTl9VUkx9YCk7XG4gIGNvbm4gPSBtb25nb29zZS5jcmVhdGVDb25uZWN0aW9uKENPTk5fVVJMKTtcblxuICAvLyAgTW9uZ29vc2UgQ29ubmVjdGlvbiBFdmVudHNcbiAgY29ubi5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub25jZShcIm9wZW5cIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwib3BlblwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGluZ1wiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0aW5nXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJyZWNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJyZWNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiZGlzY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogYGRpc2Nvbm5lY3RlZCBSZWNvbm5lY3RpbmcgaW4gJHtSRUNPTk5FQ1RfVElNRSAvIDEwMDB9cy4uLmAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F1dG9tYXR0aWMvbW9uZ29vc2UvaXNzdWVzLzUxNjkjaXNzdWVjb21tZW50LTMxNDk4MzExM1xuICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb25uLm9wZW5VcmkoQ09OTl9VUkwpLmNhdGNoKCgpID0+IHsgfSk7IH0sIFJFQ09OTkVDVF9USU1FKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gY29ubjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUhBO0FBS0EsSUFBSUEsSUFBSjs7QUFFTyxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRyxJQUF2QjtFQUNBLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsaUJBQVAsQ0FBeUJDLFVBQTFDOztFQUVBLElBQUlOLElBQUosRUFBVTtJQUNSLE9BQU9BLElBQVA7RUFDRDs7RUFFRE8sR0FBRyxDQUFDLE1BQUQsRUFBVSw2Q0FBNENKLFFBQVMsRUFBL0QsQ0FBSDtFQUNBSCxJQUFJLEdBQUdRLGtCQUFTQyxnQkFBVCxDQUEwQk4sUUFBMUIsQ0FBUCxDQVRxQixDQVdyQjs7RUFDQUgsSUFBSSxDQUFDVSxFQUFMLENBQVEsT0FBUixFQUFrQkMsS0FBRCxJQUFXO0lBQzFCSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0QsQ0FGRDtFQUlBWCxJQUFJLENBQUNZLElBQUwsQ0FBVSxNQUFWLEVBQWtCLE1BQU07SUFDdEJMLEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxXQUFSLEVBQXFCLE1BQU07SUFDekJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxZQUFSLEVBQXNCLE1BQU07SUFDMUJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxhQUFSLEVBQXVCLE1BQU07SUFDM0JILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLE1BQU07SUFDNUJILEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRU0sa0JBQWtCLEVBQUcsZ0NBQStCWCxjQUFjLEdBQUcsSUFBSztJQUE1RSxDQUFWLENBQUgsQ0FENEIsQ0FFNUI7O0lBQ0FZLFVBQVUsQ0FBQyxNQUFNO01BQUVkLElBQUksQ0FBQ2UsT0FBTCxDQUFhWixRQUFiLEVBQXVCYSxLQUF2QixDQUE2QixNQUFNLENBQUcsQ0FBdEM7SUFBMEMsQ0FBbkQsRUFBcURkLGNBQXJELENBQVY7RUFDRCxDQUpEO0VBTUEsT0FBT0YsSUFBUDtBQUNEOztBQUVNLFNBQVNpQixhQUFULEdBQXlCO0VBQzlCLE9BQU9qQixJQUFQO0FBQ0QifQ==","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","analyticsDbConfig","connString","log","mongoose","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["AnalyticsDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,iBAAP,CAAyBC,UAA1C;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,GAAG,CAAC,MAAD,EAAU,6CAA4CJ,QAAS,EAA/D,CAAH;EACAH,IAAI,GAAGQ,kBAASC,gBAAT,CAA0BN,QAA1B,CAAP,CATqB,CAWrB;;EACAH,IAAI,CAACU,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAX,IAAI,CAACY,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BX,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAY,UAAU,CAAC,MAAM;MAAEd,IAAI,CAACe,OAAL,CAAaZ,QAAb,EAAuBa,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDd,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASiB,aAAT,GAAyB;EAC9B,OAAOjB,IAAP;AACD"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/RedisClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedisClient = void 0;\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _redis = require(\"redis\");\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eslint-disable-next-line import/no-mutable-exports\nlet RedisClient;\nexports.RedisClient = RedisClient;\n\nfunction init() {\n  const CONN_URL = _index.default.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n  exports.RedisClient = RedisClient = (0, _redis.createClient)({\n    url: CONN_URL\n  }); //  Redis Connection Events\n\n  RedisClient.on(\"connect\", () => log(\"info\", {\n    redisConnection: \"connect\"\n  }));\n  RedisClient.on(\"ready\", () => log(\"info\", {\n    redisConnection: \"ready\"\n  }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", {\n    redisConnection: \"reconnecting\"\n  }));\n  RedisClient.on(\"end\", () => log(\"info\", {\n    redisConnection: \"disconnected\"\n  }));\n  RedisClient.on(\"error\", error => log(\"info\", {\n    error\n  }));\n\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return RedisClient;\n}\n\nfunction getDbInstance() {\n  return RedisClient;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpc0NsaWVudCIsImluaXQiLCJDT05OX1VSTCIsImNvbmZpZyIsInJlZGlzQ29uZmlnIiwiY29ublN0cmluZyIsImxvZyIsInVybCIsIm9uIiwicmVkaXNDb25uZWN0aW9uIiwiZXJyb3IiLCJjb25uZWN0IiwiZ2V0RGJJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25uZWN0aW9ucy8iLCJzb3VyY2VzIjpbIlJlZGlzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJyZWRpc1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG5leHBvcnQgbGV0IFJlZGlzQ2xpZW50O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc3QgQ09OTl9VUkwgPSBjb25maWcucmVkaXNDb25maWcuY29ublN0cmluZztcblxuICBpZiAoUmVkaXNDbGllbnQpIHtcbiAgICByZXR1cm4gUmVkaXNDbGllbnQ7XG4gIH1cblxuICBsb2coXCJpbmZvXCIsIGBDT05OX1VSTCB0byBjb25uZWN0IHRvIHJlZGlzICR7Q09OTl9VUkx9YCk7XG5cbiAgUmVkaXNDbGllbnQgPSBjcmVhdGVDbGllbnQoe1xuICAgIHVybDogQ09OTl9VUkwsXG4gIH0pO1xuXG4gIC8vICBSZWRpcyBDb25uZWN0aW9uIEV2ZW50c1xuICBSZWRpc0NsaWVudC5vbihcImNvbm5lY3RcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJjb25uZWN0XCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcInJlYWR5XCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwicmVhZHlcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwicmVjb25uZWN0aW5nXCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwicmVjb25uZWN0aW5nXCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcImVuZFwiLCAoKSA9PiBsb2coXCJpbmZvXCIsIHsgcmVkaXNDb25uZWN0aW9uOiBcImRpc2Nvbm5lY3RlZFwiIH0pKTtcbiAgUmVkaXNDbGllbnQub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IGxvZyhcImluZm9cIiwgeyBlcnJvciB9KSk7XG4gIHRyeSB7XG4gICAgUmVkaXNDbGllbnQuY29ubmVjdCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH1cblxuICByZXR1cm4gUmVkaXNDbGllbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gUmVkaXNDbGllbnQ7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUE7QUFDTyxJQUFJQSxXQUFKOzs7QUFFQSxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsV0FBUCxDQUFtQkMsVUFBcEM7O0VBRUEsSUFBSUwsV0FBSixFQUFpQjtJQUNmLE9BQU9BLFdBQVA7RUFDRDs7RUFFRE0sR0FBRyxDQUFDLE1BQUQsRUFBVSxnQ0FBK0JKLFFBQVMsRUFBbEQsQ0FBSDtFQUVBLHNCQUFBRixXQUFXLEdBQUcseUJBQWE7SUFDekJPLEdBQUcsRUFBRUw7RUFEb0IsQ0FBYixDQUFkLENBVHFCLENBYXJCOztFQUNBRixXQUFXLENBQUNRLEVBQVosQ0FBZSxTQUFmLEVBQTBCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBbkM7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsT0FBZixFQUF3QixNQUFNRixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVHLGVBQWUsRUFBRTtFQUFuQixDQUFULENBQWpDO0VBQ0FULFdBQVcsQ0FBQ1EsRUFBWixDQUFlLGNBQWYsRUFBK0IsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUF4QztFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxLQUFmLEVBQXNCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBL0I7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsT0FBZixFQUF5QkUsS0FBRCxJQUFXSixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVJO0VBQUYsQ0FBVCxDQUF0Qzs7RUFDQSxJQUFJO0lBQ0ZWLFdBQVcsQ0FBQ1csT0FBWjtFQUNELENBRkQsQ0FFRSxPQUFPRCxLQUFQLEVBQWM7SUFDZEosR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFSTtJQUFGLENBQVYsQ0FBSDtFQUNEOztFQUVELE9BQU9WLFdBQVA7QUFDRDs7QUFFTSxTQUFTWSxhQUFULEdBQXlCO0VBQzlCLE9BQU9aLFdBQVA7QUFDRCJ9","map":{"version":3,"names":["RedisClient","init","CONN_URL","config","redisConfig","connString","log","url","on","redisConnection","error","connect","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["RedisClient.js"],"sourcesContent":["import { createClient } from \"redis\";\nimport config from \"../config/index\";\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let RedisClient;\n\nexport function init() {\n  const CONN_URL = config.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n\n  RedisClient = createClient({\n    url: CONN_URL,\n  });\n\n  //  Redis Connection Events\n  RedisClient.on(\"connect\", () => log(\"info\", { redisConnection: \"connect\" }));\n  RedisClient.on(\"ready\", () => log(\"info\", { redisConnection: \"ready\" }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", { redisConnection: \"reconnecting\" }));\n  RedisClient.on(\"end\", () => log(\"info\", { redisConnection: \"disconnected\" }));\n  RedisClient.on(\"error\", (error) => log(\"info\", { error }));\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", { error });\n  }\n\n  return RedisClient;\n}\n\nexport function getDbInstance() {\n  return RedisClient;\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AAEA;AACO,IAAIA,WAAJ;;;AAEA,SAASC,IAAT,GAAgB;EACrB,MAAMC,QAAQ,GAAGC,eAAOC,WAAP,CAAmBC,UAApC;;EAEA,IAAIL,WAAJ,EAAiB;IACf,OAAOA,WAAP;EACD;;EAEDM,GAAG,CAAC,MAAD,EAAU,gCAA+BJ,QAAS,EAAlD,CAAH;EAEA,sBAAAF,WAAW,GAAG,yBAAa;IACzBO,GAAG,EAAEL;EADoB,CAAb,CAAd,CATqB,CAarB;;EACAF,WAAW,CAACQ,EAAZ,CAAe,SAAf,EAA0B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAnC;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAwB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAjC;EACAT,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAxC;EACAT,WAAW,CAACQ,EAAZ,CAAe,KAAf,EAAsB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAA/B;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAyBE,KAAD,IAAWJ,GAAG,CAAC,MAAD,EAAS;IAAEI;EAAF,CAAT,CAAtC;;EACA,IAAI;IACFV,WAAW,CAACW,OAAZ;EACD,CAFD,CAEE,OAAOD,KAAP,EAAc;IACdJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD;;EAED,OAAOV,WAAP;AACD;;AAEM,SAASY,aAAT,GAAyB;EAC9B,OAAOZ,WAAP;AACD"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar Sentry = _interopRequireWildcard(require(\"@sentry/node\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nrequire(\"express-async-errors\");\n\nvar _User = _interopRequireDefault(require(\"./routes/User\"));\n\nvar _Outboundcall = _interopRequireDefault(require(\"./routes/Outboundcall\"));\n\nvar _Health = _interopRequireDefault(require(\"./routes/Health\"));\n\nvar _index = _interopRequireDefault(require(\"./config/index\"));\n\nvar _RequestLogger = _interopRequireDefault(require(\"./middlewares/RequestLogger\"));\n\nvar _Auth = require(\"./middlewares/Auth\");\n\nvar _ResponseLogger = require(\"./middlewares/ResponseLogger\");\n\nvar _SchemaValidator = require(\"./middlewares/SchemaValidator\");\n\nvar HttpContextMiddleware = _interopRequireWildcard(require(\"./middlewares/HttpContextMiddleware\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\n// Module Imports\n// Default Imports\n// Named Imports\nconst httpContext = require(\"express-http-context\");\n\nconst app = (0, _express.default)(); // init sentry\n\nSentry.init({\n  dsn: _index.default.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/]\n});\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)()); // init httpcontext\n\napp.use(httpContext.middleware); // set http context\n\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\napp.use(\"*\", [_RequestLogger.default, _Auth.checks, _SchemaValidator.validate]);\napp.use(\"/v1/health\", _Health.default);\napp.use(\"/v1/user\", _User.default);\napp.use(\"/v1/organisation/outbound-call\", _Outboundcall.default); // The error handler must be before any other error middleware and after all controllers\n\napp.use(Sentry.Handlers.errorHandler()); // attach response payload\n\napp.use(HttpContextMiddleware.setHttpContextResponsePayload); // attach response payload on error\n\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\napp.use(\"*\", [_ResponseLogger.resSuccessLog, _ResponseLogger.resErrorLog]);\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJhcHAiLCJTZW50cnkiLCJpbml0IiwiZHNuIiwiY29uZmlnIiwic2VudHJ5X2RzbiIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic2VydmVyTmFtZSIsIm5hbWUiLCJpZ25vcmVFcnJvcnMiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIm1pZGRsZXdhcmUiLCJIdHRwQ29udGV4dE1pZGRsZXdhcmUiLCJzZXRIdHRwQ29udGV4dE1ldHJpY3MiLCJzZXRIdHRwQ29udGV4dFVzZXJEZXRhaWxzIiwic2V0SHR0cENvbnRleHRSZXF1ZXN0UGF5bG9hZCIsInJlcUxvZyIsImNoZWNrcyIsInZhbGlkYXRlIiwiaGVhbHRoIiwidXNlciIsIk91dGJvdW5kY2FsbCIsIkhhbmRsZXJzIiwiZXJyb3JIYW5kbGVyIiwic2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQiLCJzZXRIdHRwQ29udGV4dEVycm9yUmVzcG9uc2VQYXlsb2FkIiwicmVzU3VjY2Vzc0xvZyIsInJlc0Vycm9yTG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS8iLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8taW1wb3J0LW1vZHVsZS1leHBvcnRzICovXG4vLyBNb2R1bGUgSW1wb3J0c1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tIFwiQHNlbnRyeS9ub2RlXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XG5pbXBvcnQgXCJleHByZXNzLWFzeW5jLWVycm9yc1wiO1xuXG4vLyBEZWZhdWx0IEltcG9ydHNcbmltcG9ydCB1c2VyIGZyb20gXCIuL3JvdXRlcy9Vc2VyXCI7XG5pbXBvcnQgT3V0Ym91bmRjYWxsIGZyb20gXCIuL3JvdXRlcy9PdXRib3VuZGNhbGxcIjtcbmltcG9ydCBoZWFsdGggZnJvbSBcIi4vcm91dGVzL0hlYWx0aFwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9jb25maWcvaW5kZXhcIjtcblxuaW1wb3J0IHJlcUxvZyBmcm9tIFwiLi9taWRkbGV3YXJlcy9SZXF1ZXN0TG9nZ2VyXCI7XG5cbi8vIE5hbWVkIEltcG9ydHNcbmltcG9ydCB7IGNoZWNrcyB9IGZyb20gXCIuL21pZGRsZXdhcmVzL0F1dGhcIjtcbmltcG9ydCB7IHJlc1N1Y2Nlc3NMb2csIHJlc0Vycm9yTG9nIH0gZnJvbSBcIi4vbWlkZGxld2FyZXMvUmVzcG9uc2VMb2dnZXJcIjtcbmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSBcIi4vbWlkZGxld2FyZXMvU2NoZW1hVmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBIdHRwQ29udGV4dE1pZGRsZXdhcmUgZnJvbSBcIi4vbWlkZGxld2FyZXMvSHR0cENvbnRleHRNaWRkbGV3YXJlXCI7XG5cbmNvbnN0IGh0dHBDb250ZXh0ID0gcmVxdWlyZShcImV4cHJlc3MtaHR0cC1jb250ZXh0XCIpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbi8vIGluaXQgc2VudHJ5XG5TZW50cnkuaW5pdCh7XG4gIGRzbjogY29uZmlnLnNlbnRyeV9kc24sXG4gIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgLy8gbmFtZSBpcyBzZXQgaW4gZWNvc3lzdGVtIGNvbmZpZyBmaWxlXG4gIHNlcnZlck5hbWU6IHByb2Nlc3MuZW52Lm5hbWUsXG4gIC8vIGlnbm9yZSBtaWRkbGV3YXJlIGVycm9yc1xuICBpZ25vcmVFcnJvcnM6IFsvXk5vbi1FcnJvciBleGNlcHRpb24gY2FwdHVyZWQkL10sXG59KTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuLy8gaW5pdCBodHRwY29udGV4dFxuYXBwLnVzZShodHRwQ29udGV4dC5taWRkbGV3YXJlKTtcblxuLy8gc2V0IGh0dHAgY29udGV4dFxuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRNZXRyaWNzKTtcbmFwcC51c2UoSHR0cENvbnRleHRNaWRkbGV3YXJlLnNldEh0dHBDb250ZXh0VXNlckRldGFpbHMpO1xuYXBwLnVzZShIdHRwQ29udGV4dE1pZGRsZXdhcmUuc2V0SHR0cENvbnRleHRSZXF1ZXN0UGF5bG9hZCk7XG5cbmFwcC51c2UoXCIqXCIsIFtyZXFMb2csIGNoZWNrcywgdmFsaWRhdGVdKTtcbmFwcC51c2UoXCIvdjEvaGVhbHRoXCIsIGhlYWx0aCk7XG5hcHAudXNlKFwiL3YxL3VzZXJcIiwgdXNlcik7XG5hcHAudXNlKFwiL3YxL29yZ2FuaXNhdGlvbi9vdXRib3VuZC1jYWxsXCIsIE91dGJvdW5kY2FsbCk7XG5cbi8vIFRoZSBlcnJvciBoYW5kbGVyIG11c3QgYmUgYmVmb3JlIGFueSBvdGhlciBlcnJvciBtaWRkbGV3YXJlIGFuZCBhZnRlciBhbGwgY29udHJvbGxlcnNcbmFwcC51c2UoU2VudHJ5LkhhbmRsZXJzLmVycm9ySGFuZGxlcigpKTtcblxuLy8gYXR0YWNoIHJlc3BvbnNlIHBheWxvYWRcbmFwcC51c2UoSHR0cENvbnRleHRNaWRkbGV3YXJlLnNldEh0dHBDb250ZXh0UmVzcG9uc2VQYXlsb2FkKTtcblxuLy8gYXR0YWNoIHJlc3BvbnNlIHBheWxvYWQgb24gZXJyb3JcbmFwcC51c2UoSHR0cENvbnRleHRNaWRkbGV3YXJlLnNldEh0dHBDb250ZXh0RXJyb3JSZXNwb25zZVBheWxvYWQpO1xuXG5hcHAudXNlKFwiKlwiLCBbcmVzU3VjY2Vzc0xvZywgcmVzRXJyb3JMb2ddKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhcHA7XG4iXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBcEJBO0FBQ0E7QUFPQTtBQVFBO0FBTUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBM0I7O0FBRUEsTUFBTUMsR0FBRyxHQUFHLHVCQUFaLEMsQ0FFQTs7QUFDQUMsTUFBTSxDQUFDQyxJQUFQLENBQVk7RUFDVkMsR0FBRyxFQUFFQyxlQUFPQyxVQURGO0VBRVZDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBRmY7RUFHVjtFQUNBQyxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxJQUpkO0VBS1Y7RUFDQUMsWUFBWSxFQUFFLENBQUMsZ0NBQUQ7QUFOSixDQUFaO0FBUUFaLEdBQUcsQ0FBQ2EsR0FBSixDQUFRQyxvQkFBV0MsSUFBWCxFQUFSO0FBQ0FmLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLG9CQUFSLEUsQ0FDQTs7QUFDQWIsR0FBRyxDQUFDYSxHQUFKLENBQVFmLFdBQVcsQ0FBQ2tCLFVBQXBCLEUsQ0FFQTs7QUFDQWhCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRSSxxQkFBcUIsQ0FBQ0MscUJBQTlCO0FBQ0FsQixHQUFHLENBQUNhLEdBQUosQ0FBUUkscUJBQXFCLENBQUNFLHlCQUE5QjtBQUNBbkIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLHFCQUFxQixDQUFDRyw0QkFBOUI7QUFFQXBCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDUSxzQkFBRCxFQUFTQyxZQUFULEVBQWlCQyx5QkFBakIsQ0FBYjtBQUNBdkIsR0FBRyxDQUFDYSxHQUFKLENBQVEsWUFBUixFQUFzQlcsZUFBdEI7QUFDQXhCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLFVBQVIsRUFBb0JZLGFBQXBCO0FBQ0F6QixHQUFHLENBQUNhLEdBQUosQ0FBUSxnQ0FBUixFQUEwQ2EscUJBQTFDLEUsQ0FFQTs7QUFDQTFCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRWixNQUFNLENBQUMwQixRQUFQLENBQWdCQyxZQUFoQixFQUFSLEUsQ0FFQTs7QUFDQTVCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRSSxxQkFBcUIsQ0FBQ1ksNkJBQTlCLEUsQ0FFQTs7QUFDQTdCLEdBQUcsQ0FBQ2EsR0FBSixDQUFRSSxxQkFBcUIsQ0FBQ2Esa0NBQTlCO0FBRUE5QixHQUFHLENBQUNhLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ2tCLDZCQUFELEVBQWdCQywyQkFBaEIsQ0FBYjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQyxHQUFqQiJ9","map":{"version":3,"names":["httpContext","require","app","Sentry","init","dsn","config","sentry_dsn","environment","process","env","NODE_ENV","serverName","name","ignoreErrors","use","bodyParser","json","middleware","HttpContextMiddleware","setHttpContextMetrics","setHttpContextUserDetails","setHttpContextRequestPayload","reqLog","checks","validate","health","user","Outboundcall","Handlers","errorHandler","setHttpContextResponsePayload","setHttpContextErrorResponsePayload","resSuccessLog","resErrorLog","module","exports"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/","sources":["app.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n// Module Imports\nimport express from \"express\";\nimport * as Sentry from \"@sentry/node\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport \"express-async-errors\";\n\n// Default Imports\nimport user from \"./routes/User\";\nimport Outboundcall from \"./routes/Outboundcall\";\nimport health from \"./routes/Health\";\nimport config from \"./config/index\";\n\nimport reqLog from \"./middlewares/RequestLogger\";\n\n// Named Imports\nimport { checks } from \"./middlewares/Auth\";\nimport { resSuccessLog, resErrorLog } from \"./middlewares/ResponseLogger\";\nimport { validate } from \"./middlewares/SchemaValidator\";\nimport * as HttpContextMiddleware from \"./middlewares/HttpContextMiddleware\";\n\nconst httpContext = require(\"express-http-context\");\n\nconst app = express();\n\n// init sentry\nSentry.init({\n  dsn: config.sentry_dsn,\n  environment: process.env.NODE_ENV,\n  // name is set in ecosystem config file\n  serverName: process.env.name,\n  // ignore middleware errors\n  ignoreErrors: [/^Non-Error exception captured$/],\n});\napp.use(bodyParser.json());\napp.use(cors());\n// init httpcontext\napp.use(httpContext.middleware);\n\n// set http context\napp.use(HttpContextMiddleware.setHttpContextMetrics);\napp.use(HttpContextMiddleware.setHttpContextUserDetails);\napp.use(HttpContextMiddleware.setHttpContextRequestPayload);\n\napp.use(\"*\", [reqLog, checks, validate]);\napp.use(\"/v1/health\", health);\napp.use(\"/v1/user\", user);\napp.use(\"/v1/organisation/outbound-call\", Outboundcall);\n\n// The error handler must be before any other error middleware and after all controllers\napp.use(Sentry.Handlers.errorHandler());\n\n// attach response payload\napp.use(HttpContextMiddleware.setHttpContextResponsePayload);\n\n// attach response payload on error\napp.use(HttpContextMiddleware.setHttpContextErrorResponsePayload);\n\napp.use(\"*\", [resSuccessLog, resErrorLog]);\n\nmodule.exports = app;\n"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AAEA;;AAGA;;AACA;;AACA;;AACA;;;;;;;;AApBA;AACA;AAOA;AAQA;AAMA,MAAMA,WAAW,GAAGC,OAAO,CAAC,sBAAD,CAA3B;;AAEA,MAAMC,GAAG,GAAG,uBAAZ,C,CAEA;;AACAC,MAAM,CAACC,IAAP,CAAY;EACVC,GAAG,EAAEC,eAAOC,UADF;EAEVC,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFf;EAGV;EACAC,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYG,IAJd;EAKV;EACAC,YAAY,EAAE,CAAC,gCAAD;AANJ,CAAZ;AAQAZ,GAAG,CAACa,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAf,GAAG,CAACa,GAAJ,CAAQ,oBAAR,E,CACA;;AACAb,GAAG,CAACa,GAAJ,CAAQf,WAAW,CAACkB,UAApB,E,CAEA;;AACAhB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACC,qBAA9B;AACAlB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACE,yBAA9B;AACAnB,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACG,4BAA9B;AAEApB,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACQ,sBAAD,EAASC,YAAT,EAAiBC,yBAAjB,CAAb;AACAvB,GAAG,CAACa,GAAJ,CAAQ,YAAR,EAAsBW,eAAtB;AACAxB,GAAG,CAACa,GAAJ,CAAQ,UAAR,EAAoBY,aAApB;AACAzB,GAAG,CAACa,GAAJ,CAAQ,gCAAR,EAA0Ca,qBAA1C,E,CAEA;;AACA1B,GAAG,CAACa,GAAJ,CAAQZ,MAAM,CAAC0B,QAAP,CAAgBC,YAAhB,EAAR,E,CAEA;;AACA5B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACY,6BAA9B,E,CAEA;;AACA7B,GAAG,CAACa,GAAJ,CAAQI,qBAAqB,CAACa,kCAA9B;AAEA9B,GAAG,CAACa,GAAJ,CAAQ,GAAR,EAAa,CAACkB,6BAAD,EAAgBC,2BAAhB,CAAb;AAEAC,MAAM,CAACC,OAAP,GAAiBlC,GAAjB"}},"mtime":1653891206480},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar UserController = _interopRequireWildcard(require(\"../controllers/UserController\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post(\"/register\", UserController.register);\nrouter.get(\"/user-details\", UserController.getUserDetails);\nrouter.put(\"/user-details\", UserController.updateUserDetails);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0IiwiVXNlckNvbnRyb2xsZXIiLCJyZWdpc3RlciIsImdldCIsImdldFVzZXJEZXRhaWxzIiwicHV0IiwidXBkYXRlVXNlckRldGFpbHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvcm91dGVzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0ICogYXMgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIuZ2V0KFwiL3VzZXItZGV0YWlsc1wiLCBVc2VyQ29udHJvbGxlci5nZXRVc2VyRGV0YWlscyk7XG5yb3V0ZXIucHV0KFwiL3VzZXItZGV0YWlsc1wiLCBVc2VyQ29udHJvbGxlci51cGRhdGVVc2VyRGV0YWlscyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsc0JBQWY7QUFFQUEsTUFBTSxDQUFDQyxJQUFQLENBQVksV0FBWixFQUF5QkMsY0FBYyxDQUFDQyxRQUF4QztBQUNBSCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxlQUFYLEVBQTRCRixjQUFjLENBQUNHLGNBQTNDO0FBQ0FMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGVBQVgsRUFBNEJKLGNBQWMsQ0FBQ0ssaUJBQTNDO2VBRWVQLE0ifQ==","map":{"version":3,"names":["router","post","UserController","register","get","getUserDetails","put","updateUserDetails"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/routes/","sources":["User.js"],"sourcesContent":["import { Router } from \"express\";\nimport * as UserController from \"../controllers/UserController\";\n\nconst router = Router();\n\nrouter.post(\"/register\", UserController.register);\nrouter.get(\"/user-details\", UserController.getUserDetails);\nrouter.put(\"/user-details\", UserController.updateUserDetails);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAyBC,cAAc,CAACC,QAAxC;AACAH,MAAM,CAACI,GAAP,CAAW,eAAX,EAA4BF,cAAc,CAACG,cAA3C;AACAL,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BJ,cAAc,CAACK,iBAA3C;eAEeP,M"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserDetails = exports.register = exports.getUserDetails = void 0;\n\nvar Auth = _interopRequireWildcard(require(\"../middlewares/Auth\"));\n\nvar UserService = _interopRequireWildcard(require(\"../services/UserService\"));\n\nvar _Keys = require(\"../constants/Keys\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst register = async (req, res, next) => {\n  const {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  } = req.body;\n  const userDetails = {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  };\n  const clientDetails = {\n    apiKey: req.header(_Keys.HEADER_API_KEY)\n  };\n  const userObj = await UserService.registerUser(userDetails, clientDetails);\n  req.session = Auth.createSessionObj(userObj);\n  res.data = {\n    userDetails: userObj,\n    sessiontoken: req.session\n  };\n  next();\n};\n\nexports.register = register;\n\nconst getUserDetails = async (req, res, next) => {\n  const sessionObj = await Auth.getSessionObj(req);\n  const {\n    mobileNo\n  } = sessionObj;\n  const userObj = await UserService.getUserDetails(mobileNo);\n  res.data = userObj;\n  next();\n};\n\nexports.getUserDetails = getUserDetails;\n\nconst updateUserDetails = async (req, res, next) => {\n  const {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email\n  } = req.body;\n  const sessionObj = await Auth.getSessionObj(req);\n  const {\n    mobileNo\n  } = sessionObj;\n  const userDetails = {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo\n  };\n  await UserService.updateUserDetails(userDetails);\n  res.data = { ...userDetails\n  };\n  next();\n};\n\nexports.updateUserDetails = updateUserDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJtb2JpbGVObyIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJib2R5IiwidXNlckRldGFpbHMiLCJjbGllbnREZXRhaWxzIiwiYXBpS2V5IiwiaGVhZGVyIiwiSEVBREVSX0FQSV9LRVkiLCJ1c2VyT2JqIiwiVXNlclNlcnZpY2UiLCJyZWdpc3RlclVzZXIiLCJzZXNzaW9uIiwiQXV0aCIsImNyZWF0ZVNlc3Npb25PYmoiLCJkYXRhIiwic2Vzc2lvbnRva2VuIiwiZ2V0VXNlckRldGFpbHMiLCJzZXNzaW9uT2JqIiwiZ2V0U2Vzc2lvbk9iaiIsInVwZGF0ZVVzZXJEZXRhaWxzIiwiYWx0ZXJuYXRlTW9iaWxlTm8iLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL0F1dGhcIjtcbmltcG9ydCAqIGFzIFVzZXJTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9Vc2VyU2VydmljZVwiO1xuaW1wb3J0IHtcbiAgSEVBREVSX0FQSV9LRVksXG59IGZyb20gXCIuLi9jb25zdGFudHMvS2V5c1wiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qge1xuICAgIG1vYmlsZU5vLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSxcbiAgfSA9IHJlcS5ib2R5O1xuICBjb25zdCB1c2VyRGV0YWlscyA9IHtcbiAgICBtb2JpbGVObyxcbiAgICBwYXNzd29yZCxcbiAgICBmaXJzdE5hbWUsXG4gICAgbGFzdE5hbWUsXG4gIH07XG4gIGNvbnN0IGNsaWVudERldGFpbHMgPSB7XG4gICAgYXBpS2V5OiByZXEuaGVhZGVyKEhFQURFUl9BUElfS0VZKSxcbiAgfTtcbiAgY29uc3QgdXNlck9iaiA9IGF3YWl0IFVzZXJTZXJ2aWNlLnJlZ2lzdGVyVXNlcih1c2VyRGV0YWlscywgY2xpZW50RGV0YWlscyk7XG4gIHJlcS5zZXNzaW9uID0gQXV0aC5jcmVhdGVTZXNzaW9uT2JqKHVzZXJPYmopO1xuICByZXMuZGF0YSA9IHtcbiAgICB1c2VyRGV0YWlsczogdXNlck9iaixcbiAgICBzZXNzaW9udG9rZW46IHJlcS5zZXNzaW9uLFxuICB9O1xuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckRldGFpbHMgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgc2Vzc2lvbk9iaiA9IGF3YWl0IEF1dGguZ2V0U2Vzc2lvbk9iaihyZXEpO1xuICBjb25zdCB7IG1vYmlsZU5vIH0gPSBzZXNzaW9uT2JqO1xuICBjb25zdCB1c2VyT2JqID0gYXdhaXQgVXNlclNlcnZpY2UuZ2V0VXNlckRldGFpbHMobW9iaWxlTm8pO1xuICByZXMuZGF0YSA9IHVzZXJPYmo7XG4gIG5leHQoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7XG4gICAgZmlyc3ROYW1lLCBsYXN0TmFtZSwgYWx0ZXJuYXRlTW9iaWxlTm8sIGVtYWlsLFxuICB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IHNlc3Npb25PYmogPSBhd2FpdCBBdXRoLmdldFNlc3Npb25PYmoocmVxKTtcbiAgY29uc3QgeyBtb2JpbGVObyB9ID0gc2Vzc2lvbk9iajtcbiAgY29uc3QgdXNlckRldGFpbHMgPSB7XG4gICAgZmlyc3ROYW1lLFxuICAgIGxhc3ROYW1lLFxuICAgIGFsdGVybmF0ZU1vYmlsZU5vLFxuICAgIGVtYWlsLFxuICAgIG1vYmlsZU5vLFxuICB9O1xuICBhd2FpdCBVc2VyU2VydmljZS51cGRhdGVVc2VyRGV0YWlscyh1c2VyRGV0YWlscyk7XG4gIHJlcy5kYXRhID0ge1xuICAgIC4uLnVzZXJEZXRhaWxzLFxuICB9O1xuICBuZXh0KCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUlPLE1BQU1BLFFBQVEsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELE1BQU07SUFDSkMsUUFESTtJQUNNQyxRQUROO0lBQ2dCQyxTQURoQjtJQUMyQkM7RUFEM0IsSUFFRk4sR0FBRyxDQUFDTyxJQUZSO0VBR0EsTUFBTUMsV0FBVyxHQUFHO0lBQ2xCTCxRQURrQjtJQUVsQkMsUUFGa0I7SUFHbEJDLFNBSGtCO0lBSWxCQztFQUprQixDQUFwQjtFQU1BLE1BQU1HLGFBQWEsR0FBRztJQUNwQkMsTUFBTSxFQUFFVixHQUFHLENBQUNXLE1BQUosQ0FBV0Msb0JBQVg7RUFEWSxDQUF0QjtFQUdBLE1BQU1DLE9BQU8sR0FBRyxNQUFNQyxXQUFXLENBQUNDLFlBQVosQ0FBeUJQLFdBQXpCLEVBQXNDQyxhQUF0QyxDQUF0QjtFQUNBVCxHQUFHLENBQUNnQixPQUFKLEdBQWNDLElBQUksQ0FBQ0MsZ0JBQUwsQ0FBc0JMLE9BQXRCLENBQWQ7RUFDQVosR0FBRyxDQUFDa0IsSUFBSixHQUFXO0lBQ1RYLFdBQVcsRUFBRUssT0FESjtJQUVUTyxZQUFZLEVBQUVwQixHQUFHLENBQUNnQjtFQUZULENBQVg7RUFJQWQsSUFBSTtBQUNMLENBcEJNOzs7O0FBc0JBLE1BQU1tQixjQUFjLEdBQUcsT0FBT3JCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEQsTUFBTW9CLFVBQVUsR0FBRyxNQUFNTCxJQUFJLENBQUNNLGFBQUwsQ0FBbUJ2QixHQUFuQixDQUF6QjtFQUNBLE1BQU07SUFBRUc7RUFBRixJQUFlbUIsVUFBckI7RUFDQSxNQUFNVCxPQUFPLEdBQUcsTUFBTUMsV0FBVyxDQUFDTyxjQUFaLENBQTJCbEIsUUFBM0IsQ0FBdEI7RUFDQUYsR0FBRyxDQUFDa0IsSUFBSixHQUFXTixPQUFYO0VBQ0FYLElBQUk7QUFDTCxDQU5NOzs7O0FBUUEsTUFBTXNCLGlCQUFpQixHQUFHLE9BQU94QixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ3pELE1BQU07SUFDSkcsU0FESTtJQUNPQyxRQURQO0lBQ2lCbUIsaUJBRGpCO0lBQ29DQztFQURwQyxJQUVGMUIsR0FBRyxDQUFDTyxJQUZSO0VBR0EsTUFBTWUsVUFBVSxHQUFHLE1BQU1MLElBQUksQ0FBQ00sYUFBTCxDQUFtQnZCLEdBQW5CLENBQXpCO0VBQ0EsTUFBTTtJQUFFRztFQUFGLElBQWVtQixVQUFyQjtFQUNBLE1BQU1kLFdBQVcsR0FBRztJQUNsQkgsU0FEa0I7SUFFbEJDLFFBRmtCO0lBR2xCbUIsaUJBSGtCO0lBSWxCQyxLQUprQjtJQUtsQnZCO0VBTGtCLENBQXBCO0VBT0EsTUFBTVcsV0FBVyxDQUFDVSxpQkFBWixDQUE4QmhCLFdBQTlCLENBQU47RUFDQVAsR0FBRyxDQUFDa0IsSUFBSixHQUFXLEVBQ1QsR0FBR1g7RUFETSxDQUFYO0VBR0FOLElBQUk7QUFDTCxDQWxCTSJ9","map":{"version":3,"names":["register","req","res","next","mobileNo","password","firstName","lastName","body","userDetails","clientDetails","apiKey","header","HEADER_API_KEY","userObj","UserService","registerUser","session","Auth","createSessionObj","data","sessiontoken","getUserDetails","sessionObj","getSessionObj","updateUserDetails","alternateMobileNo","email"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/controllers/","sources":["UserController.js"],"sourcesContent":["import * as Auth from \"../middlewares/Auth\";\nimport * as UserService from \"../services/UserService\";\nimport {\n  HEADER_API_KEY,\n} from \"../constants/Keys\";\n\nexport const register = async (req, res, next) => {\n  const {\n    mobileNo, password, firstName, lastName,\n  } = req.body;\n  const userDetails = {\n    mobileNo,\n    password,\n    firstName,\n    lastName,\n  };\n  const clientDetails = {\n    apiKey: req.header(HEADER_API_KEY),\n  };\n  const userObj = await UserService.registerUser(userDetails, clientDetails);\n  req.session = Auth.createSessionObj(userObj);\n  res.data = {\n    userDetails: userObj,\n    sessiontoken: req.session,\n  };\n  next();\n};\n\nexport const getUserDetails = async (req, res, next) => {\n  const sessionObj = await Auth.getSessionObj(req);\n  const { mobileNo } = sessionObj;\n  const userObj = await UserService.getUserDetails(mobileNo);\n  res.data = userObj;\n  next();\n};\n\nexport const updateUserDetails = async (req, res, next) => {\n  const {\n    firstName, lastName, alternateMobileNo, email,\n  } = req.body;\n  const sessionObj = await Auth.getSessionObj(req);\n  const { mobileNo } = sessionObj;\n  const userDetails = {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo,\n  };\n  await UserService.updateUserDetails(userDetails);\n  res.data = {\n    ...userDetails,\n  };\n  next();\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAIO,MAAMA,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,MAAM;IACJC,QADI;IACMC,QADN;IACgBC,SADhB;IAC2BC;EAD3B,IAEFN,GAAG,CAACO,IAFR;EAGA,MAAMC,WAAW,GAAG;IAClBL,QADkB;IAElBC,QAFkB;IAGlBC,SAHkB;IAIlBC;EAJkB,CAApB;EAMA,MAAMG,aAAa,GAAG;IACpBC,MAAM,EAAEV,GAAG,CAACW,MAAJ,CAAWC,oBAAX;EADY,CAAtB;EAGA,MAAMC,OAAO,GAAG,MAAMC,WAAW,CAACC,YAAZ,CAAyBP,WAAzB,EAAsCC,aAAtC,CAAtB;EACAT,GAAG,CAACgB,OAAJ,GAAcC,IAAI,CAACC,gBAAL,CAAsBL,OAAtB,CAAd;EACAZ,GAAG,CAACkB,IAAJ,GAAW;IACTX,WAAW,EAAEK,OADJ;IAETO,YAAY,EAAEpB,GAAG,CAACgB;EAFT,CAAX;EAIAd,IAAI;AACL,CApBM;;;;AAsBA,MAAMmB,cAAc,GAAG,OAAOrB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACtD,MAAMoB,UAAU,GAAG,MAAML,IAAI,CAACM,aAAL,CAAmBvB,GAAnB,CAAzB;EACA,MAAM;IAAEG;EAAF,IAAemB,UAArB;EACA,MAAMT,OAAO,GAAG,MAAMC,WAAW,CAACO,cAAZ,CAA2BlB,QAA3B,CAAtB;EACAF,GAAG,CAACkB,IAAJ,GAAWN,OAAX;EACAX,IAAI;AACL,CANM;;;;AAQA,MAAMsB,iBAAiB,GAAG,OAAOxB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACzD,MAAM;IACJG,SADI;IACOC,QADP;IACiBmB,iBADjB;IACoCC;EADpC,IAEF1B,GAAG,CAACO,IAFR;EAGA,MAAMe,UAAU,GAAG,MAAML,IAAI,CAACM,aAAL,CAAmBvB,GAAnB,CAAzB;EACA,MAAM;IAAEG;EAAF,IAAemB,UAArB;EACA,MAAMd,WAAW,GAAG;IAClBH,SADkB;IAElBC,QAFkB;IAGlBmB,iBAHkB;IAIlBC,KAJkB;IAKlBvB;EALkB,CAApB;EAOA,MAAMW,WAAW,CAACU,iBAAZ,CAA8BhB,WAA9B,CAAN;EACAP,GAAG,CAACkB,IAAJ,GAAW,EACT,GAAGX;EADM,CAAX;EAGAN,IAAI;AACL,CAlBM"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMetrics = exports.getSessionObj = exports.createSessionObj = exports.checks = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nvar _RedisClient = require(\"../connections/RedisClient\");\n\nvar _Credentials = require(\"../constants/Credentials\");\n\nvar _Keys = require(\"../constants/Keys\");\n\nvar _util = require(\"util\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst httpContext = require(\"express-http-context\"); // Static data can be read using require or fs\n\n\nlet newSessionRoutes = _fs.default.readFileSync(_path.default.resolve(__dirname, \"NewSessionRoutes.json\"), \"utf8\");\n\nnewSessionRoutes = JSON.parse(newSessionRoutes);\n\nlet authenticatedRoutes = _fs.default.readFileSync(_path.default.resolve(__dirname, \"./AuthenticatedRoutes.json\"), \"utf8\");\n\nauthenticatedRoutes = JSON.parse(authenticatedRoutes);\n\nconst uuid = require(\"uuid\");\n\nconst healthCheckRoutes = require(\"./HealthCheckRoutes.json\");\n\nconst noAPIKeyRoutes = require(\"./NoClientIdRoutes.json\");\n\nconst noSessionRoutes = require(\"./NoSessionRoutes.json\");\n\nconst routeMaps = [newSessionRoutes, authenticatedRoutes, noSessionRoutes, noAPIKeyRoutes, healthCheckRoutes];\n\nconst getRouteCategory = routeMapsIndex => {\n  let routeCategory = \"others\";\n\n  if (routeMapsIndex === 0) {\n    routeCategory = \"newSessionRoutes\";\n  } else if (routeMapsIndex === 1) {\n    routeCategory = \"authenticatedRoutes\";\n  } else if (routeMapsIndex === 2) {\n    routeCategory = \"noSessionRoutes\";\n  } else if (routeMapsIndex === 3) {\n    routeCategory = \"noAPIKeyRoutes\";\n  } else if (routeMapsIndex === 4) {\n    routeCategory = \"healthCheckRoutes\";\n  }\n\n  return routeCategory;\n};\n\nconst checkApiKeyValidity = async req => {\n  const apiKey = req.header(_Keys.HEADER_API_KEY);\n  const selectCondition = {\n    metro_auth_key: apiKey\n  };\n  const projectCondition = {\n    metro_auth_key: 1,\n    _id: 0\n  };\n  const isValidAPIKey = await AbstractModels.mongoFindOne(_index.Clients, selectCondition, projectCondition);\n  return isValidAPIKey;\n};\n\nconst getRedisSession = async sessionId => {\n  try {\n    // @hotfix: For backward compatibility preprending \"sess:\" to sessionId\n    const redisSession = await _RedisClient.RedisClient.get(`sess:${sessionId}`);\n    return redisSession;\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n    throw ErrorUtils.redisConnectionError();\n  }\n};\n\nconst decrypt = text => {\n  let resultChiper = \"\";\n\n  const decipher = _crypto.default.createDecipher(_Credentials.ALGORITHM, _Credentials.PASSWORD);\n\n  console.log(\"+++++++++++++ length is \" + text, text.length);\n  resultChiper = decipher.update(text, \"hex\", \"utf8\");\n  resultChiper += decipher.final(\"utf8\");\n  return resultChiper;\n};\n\nconst getSessionObj = async req => {\n  const sessiontoken = req.header(_Keys.HEADER_SESSION_TOKEN);\n  if (!sessiontoken) throw ErrorUtils.InvalidSessionToken(); // const session = jwt.verify(sessiontoken, SECREAT);\n\n  const sessionId = decrypt(sessiontoken);\n  let session = await getRedisSession(sessionId);\n  log(\"info\", {\n    session,\n    sessionId,\n    sessiontoken\n  });\n\n  if (!session) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n\n  try {\n    session = JSON.parse(session);\n  } catch (error) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n\n  console.log(\"the returned value formthe session is +++++++++++++++\" + session);\n  return session;\n};\n\nexports.getSessionObj = getSessionObj;\n\nconst getRouteObj = (originalUrl, httpMethod) => {\n  let routeObj = {};\n  const normalizedURL = originalUrl.toLowerCase().split(\"?\")[0];\n  const index = normalizedURL.lastIndexOf(\"/\");\n  const baseURL = normalizedURL.substring(0, index);\n  let isRouteObjFound = false;\n\n  for (let i = 0; i < routeMaps.length; i++) {\n    const routeMap = routeMaps[i];\n\n    if (routeMap && routeMap[httpMethod]) {\n      if (routeMap[httpMethod][normalizedURL]) {\n        routeObj = routeMap[httpMethod][normalizedURL];\n        isRouteObjFound = true;\n      } else if (routeMap[httpMethod][`${baseURL}/:param`] && index !== normalizedURL.length - 1) {\n        routeObj = routeMap[httpMethod][`${baseURL}/:param`];\n        isRouteObjFound = true;\n      }\n\n      if (isRouteObjFound) {\n        routeObj.httpMethod = httpMethod;\n        routeObj.baseURL = baseURL;\n        routeObj.normalizedURL = normalizedURL;\n        routeObj.routeCategory = getRouteCategory(i);\n        break;\n      }\n    }\n  } // If route is not found from RoutesMap it shoud be treated as others\n\n\n  if (!isRouteObjFound) {\n    routeObj.httpMethod = httpMethod;\n    routeObj.baseURL = baseURL;\n    routeObj.normalizedURL = normalizedURL;\n    routeObj.routeCategory = \"others\";\n  }\n\n  return routeObj;\n}; // @hotfix: For backward compatibility\n// Business & consumer user roles are stored in different keys in session\n// Possible values for users_business_portal_role are \"admin\" & \"user\"\n\n\nasync function getUserRoles(req) {\n  const session = await getSessionObj(req);\n  console.log('*****************************' + JSON.stringify(session));\n  const {\n    users_business_portal_role: userRoles\n  } = session;\n  console.log(\"+++++++++++ the role of user is \" + JSON.stringify(userRoles));\n  return [].concat(userRoles).map(value => value.toUpperCase());\n}\n\nconst checkAutorization = async req => {\n  let isAuthorizedToAccessRoute = false;\n  console.log(\"in the check authorization rule--------------------------\");\n  const userRoles = await getUserRoles(req);\n  const routeAutorizedRoles = req.routeObj?.roles || [];\n\n  if (routeAutorizedRoles?.filter(value => userRoles.includes(value.toUpperCase()))?.length > 0) {\n    isAuthorizedToAccessRoute = true;\n  }\n\n  return isAuthorizedToAccessRoute;\n};\n\nconst checkBlockListedUser = async () => {\n  // @hotfix: Rewrite this logic according to service need\n  const isBlockedUser = false;\n  return isBlockedUser; // let isBlockedUser = false;\n  // const session = await getSessionObj(req);\n  // const { mobileNo } = session;\n  // const selectCondition = {\n  //   mobileNo,\n  //   isBlockedUser: true,\n  // };\n  // const projectCondition = {\n  //   mobileNo: 1,\n  //   _id: 0,\n  // };\n  // const userObj = await AbstractModels.mongoFindOne(\n  //   Users,\n  //   selectCondition,\n  //   projectCondition,\n  // );\n  // if (userObj) {\n  //   isBlockedUser = true;\n  // }\n  // return isBlockedUser;\n};\n\nconst createSessionObj = data => {\n  const session = _jsonwebtoken.default.sign(data, _Credentials.SECREAT, {\n    expiresIn: 60 * 60 * 24 * 30\n  }); // default is in sec\n\n\n  return session;\n};\n/*\n1.newSessionRoutes\n2.authenticatedRoutes(api key check,sessoin token check,Authorize check,blocklist users check)\n3.noSessionRoutes(api key check)\n4.noAPIKeyRoutes\n5.healthCheckRoutes(Dont' store Audits)\n6.others\n\nFor each req store req, res audits\n*/\n\n\nexports.createSessionObj = createSessionObj;\n\nconst checks = async (req, res, next) => {\n  const {\n    routeCategory\n  } = req.routeObj;\n\n  if (routeCategory === \"others\") {\n    const error = ErrorUtils.InvalidRequest();\n    next(error);\n  } else if (routeCategory === \"healthCheckRoutes\") {\n    next();\n  } else if (routeCategory === \"noAPIKeyRoutes\") {\n    next();\n  } else if (routeCategory === \"noSessionRoutes\" || routeCategory === \"newSessionRoutes\") {\n    const isValidAPIKey = await checkApiKeyValidity(req);\n\n    if (!isValidAPIKey) {\n      const error = ErrorUtils.InvalidAPIKey();\n      next(error);\n    } else {\n      next();\n    }\n  } else if (routeCategory === \"authenticatedRoutes\") {\n    // 1.api key check 2.session token check 3.autorization check 4.blocklisted user check\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    const session = await getSessionObj(req);\n\n    if (!session) {\n      const error = ErrorUtils.InvalidSessionToken();\n      next(error);\n    } else {\n      const isAuthorizedToAccessRoute = await checkAutorization(req);\n      console.log('***************** is authorized user ' + isAuthorizedToAccessRoute);\n      const isBlockListeduser = await checkBlockListedUser();\n\n      if (!isValidAPIKey) {\n        const error = ErrorUtils.InvalidAPIKey();\n        next(error);\n      } else if (isBlockListeduser) {\n        const error = ErrorUtils.BlockListedUser();\n        next(error);\n      } else if (!isAuthorizedToAccessRoute) {\n        const error = ErrorUtils.InvalidAuthorization();\n        next(error);\n      } else {\n        req.sesssion = session;\n        next();\n      }\n    }\n  }\n};\n\nexports.checks = checks;\n\nconst setMetrics = (req, res) => {\n  const {\n    originalUrl\n  } = req;\n  const httpMethod = req.method;\n  const routeObj = getRouteObj(originalUrl, httpMethod);\n  console.log(\"CHecking++++++++++++ \" + JSON.stringify(routeObj));\n  routeObj.startTime = new Date().getTime();\n  let correlationId = req.get(Constants.LOGGER_CORRELATIONID);\n\n  if (!correlationId) {\n    // generate and set uuid v4 version\n    correlationId = uuid.v4();\n    httpContext.set(Constants.LOGGER_CORRELATIONID, correlationId); // inject correlationId in headers\n\n    req.headers.correlationId = httpContext.get(Constants.LOGGER_CORRELATIONID);\n    res.set(\"CorrelationId\", httpContext.get(Constants.LOGGER_CORRELATIONID));\n  }\n\n  return routeObj;\n};\n\nexports.setMetrics = setMetrics;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJuZXdTZXNzaW9uUm91dGVzIiwiZnMiLCJyZWFkRmlsZVN5bmMiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsIkpTT04iLCJwYXJzZSIsImF1dGhlbnRpY2F0ZWRSb3V0ZXMiLCJ1dWlkIiwiaGVhbHRoQ2hlY2tSb3V0ZXMiLCJub0FQSUtleVJvdXRlcyIsIm5vU2Vzc2lvblJvdXRlcyIsInJvdXRlTWFwcyIsImdldFJvdXRlQ2F0ZWdvcnkiLCJyb3V0ZU1hcHNJbmRleCIsInJvdXRlQ2F0ZWdvcnkiLCJjaGVja0FwaUtleVZhbGlkaXR5IiwicmVxIiwiYXBpS2V5IiwiaGVhZGVyIiwiSEVBREVSX0FQSV9LRVkiLCJzZWxlY3RDb25kaXRpb24iLCJtZXRyb19hdXRoX2tleSIsInByb2plY3RDb25kaXRpb24iLCJfaWQiLCJpc1ZhbGlkQVBJS2V5IiwiQWJzdHJhY3RNb2RlbHMiLCJtb25nb0ZpbmRPbmUiLCJDbGllbnRzIiwiZ2V0UmVkaXNTZXNzaW9uIiwic2Vzc2lvbklkIiwicmVkaXNTZXNzaW9uIiwiUmVkaXNDbGllbnQiLCJnZXQiLCJlcnJvciIsImxvZyIsIkVycm9yVXRpbHMiLCJyZWRpc0Nvbm5lY3Rpb25FcnJvciIsImRlY3J5cHQiLCJ0ZXh0IiwicmVzdWx0Q2hpcGVyIiwiZGVjaXBoZXIiLCJjcnlwdG8iLCJjcmVhdGVEZWNpcGhlciIsIkFMR09SSVRITSIsIlBBU1NXT1JEIiwiY29uc29sZSIsImxlbmd0aCIsInVwZGF0ZSIsImZpbmFsIiwiZ2V0U2Vzc2lvbk9iaiIsInNlc3Npb250b2tlbiIsIkhFQURFUl9TRVNTSU9OX1RPS0VOIiwiSW52YWxpZFNlc3Npb25Ub2tlbiIsInNlc3Npb24iLCJnZXRSb3V0ZU9iaiIsIm9yaWdpbmFsVXJsIiwiaHR0cE1ldGhvZCIsInJvdXRlT2JqIiwibm9ybWFsaXplZFVSTCIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJpbmRleCIsImxhc3RJbmRleE9mIiwiYmFzZVVSTCIsInN1YnN0cmluZyIsImlzUm91dGVPYmpGb3VuZCIsImkiLCJyb3V0ZU1hcCIsImdldFVzZXJSb2xlcyIsInN0cmluZ2lmeSIsInVzZXJzX2J1c2luZXNzX3BvcnRhbF9yb2xlIiwidXNlclJvbGVzIiwiY29uY2F0IiwibWFwIiwidmFsdWUiLCJ0b1VwcGVyQ2FzZSIsImNoZWNrQXV0b3JpemF0aW9uIiwiaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSIsInJvdXRlQXV0b3JpemVkUm9sZXMiLCJyb2xlcyIsImZpbHRlciIsImluY2x1ZGVzIiwiY2hlY2tCbG9ja0xpc3RlZFVzZXIiLCJpc0Jsb2NrZWRVc2VyIiwiY3JlYXRlU2Vzc2lvbk9iaiIsImRhdGEiLCJqd3QiLCJzaWduIiwiU0VDUkVBVCIsImV4cGlyZXNJbiIsImNoZWNrcyIsInJlcyIsIm5leHQiLCJJbnZhbGlkUmVxdWVzdCIsIkludmFsaWRBUElLZXkiLCJpc0Jsb2NrTGlzdGVkdXNlciIsIkJsb2NrTGlzdGVkVXNlciIsIkludmFsaWRBdXRob3JpemF0aW9uIiwic2Vzc3Npb24iLCJzZXRNZXRyaWNzIiwibWV0aG9kIiwic3RhcnRUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJjb3JyZWxhdGlvbklkIiwiQ29uc3RhbnRzIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJ2NCIsInNldCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvQ29uc3RhbnRzXCI7XG5cbmltcG9ydCAqIGFzIEVycm9yVXRpbHMgZnJvbSBcIi4uL2Vycm9ycy9FcnJvclV0aWxzXCI7XG5pbXBvcnQgKiBhcyBBYnN0cmFjdE1vZGVscyBmcm9tIFwiLi4vbW9kZWxzL0Fic3RyYWN0TW9kZWxzXCI7XG5pbXBvcnQgeyBDbGllbnRzIH0gZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvaW5kZXhcIjtcblxuaW1wb3J0IHsgUmVkaXNDbGllbnQgfSBmcm9tIFwiLi4vY29ubmVjdGlvbnMvUmVkaXNDbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgU0VDUkVBVCwgQUxHT1JJVEhNLCBQQVNTV09SRCxcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9DcmVkZW50aWFsc1wiO1xuXG5pbXBvcnQge1xuICBIRUFERVJfQVBJX0tFWSwgSEVBREVSX1NFU1NJT05fVE9LRU4sXG59IGZyb20gXCIuLi9jb25zdGFudHMvS2V5c1wiO1xuaW1wb3J0IHsgZGVwcmVjYXRlIH0gZnJvbSBcInV0aWxcIjtcblxuY29uc3QgaHR0cENvbnRleHQgPSByZXF1aXJlKFwiZXhwcmVzcy1odHRwLWNvbnRleHRcIik7XG5cbi8vIFN0YXRpYyBkYXRhIGNhbiBiZSByZWFkIHVzaW5nIHJlcXVpcmUgb3IgZnNcbmxldCBuZXdTZXNzaW9uUm91dGVzID0gZnMucmVhZEZpbGVTeW5jKFxuICBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIk5ld1Nlc3Npb25Sb3V0ZXMuanNvblwiKSxcbiAgXCJ1dGY4XCIsXG4pO1xubmV3U2Vzc2lvblJvdXRlcyA9IEpTT04ucGFyc2UobmV3U2Vzc2lvblJvdXRlcyk7XG5cbmxldCBhdXRoZW50aWNhdGVkUm91dGVzID0gZnMucmVhZEZpbGVTeW5jKFxuICBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4vQXV0aGVudGljYXRlZFJvdXRlcy5qc29uXCIpLFxuICBcInV0ZjhcIixcbik7XG5hdXRoZW50aWNhdGVkUm91dGVzID0gSlNPTi5wYXJzZShhdXRoZW50aWNhdGVkUm91dGVzKTtcblxuY29uc3QgdXVpZCA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuY29uc3QgaGVhbHRoQ2hlY2tSb3V0ZXMgPSByZXF1aXJlKFwiLi9IZWFsdGhDaGVja1JvdXRlcy5qc29uXCIpO1xuY29uc3Qgbm9BUElLZXlSb3V0ZXMgPSByZXF1aXJlKFwiLi9Ob0NsaWVudElkUm91dGVzLmpzb25cIik7XG5jb25zdCBub1Nlc3Npb25Sb3V0ZXMgPSByZXF1aXJlKFwiLi9Ob1Nlc3Npb25Sb3V0ZXMuanNvblwiKTtcblxuY29uc3Qgcm91dGVNYXBzID0gW1xuICBuZXdTZXNzaW9uUm91dGVzLFxuICBhdXRoZW50aWNhdGVkUm91dGVzLFxuICBub1Nlc3Npb25Sb3V0ZXMsXG4gIG5vQVBJS2V5Um91dGVzLFxuICBoZWFsdGhDaGVja1JvdXRlcyxcbl07XG5cbmNvbnN0IGdldFJvdXRlQ2F0ZWdvcnkgPSAocm91dGVNYXBzSW5kZXgpID0+IHtcbiAgbGV0IHJvdXRlQ2F0ZWdvcnkgPSBcIm90aGVyc1wiO1xuICBpZiAocm91dGVNYXBzSW5kZXggPT09IDApIHtcbiAgICByb3V0ZUNhdGVnb3J5ID0gXCJuZXdTZXNzaW9uUm91dGVzXCI7XG4gIH0gZWxzZSBpZiAocm91dGVNYXBzSW5kZXggPT09IDEpIHtcbiAgICByb3V0ZUNhdGVnb3J5ID0gXCJhdXRoZW50aWNhdGVkUm91dGVzXCI7XG4gIH0gZWxzZSBpZiAocm91dGVNYXBzSW5kZXggPT09IDIpIHtcbiAgICByb3V0ZUNhdGVnb3J5ID0gXCJub1Nlc3Npb25Sb3V0ZXNcIjtcbiAgfSBlbHNlIGlmIChyb3V0ZU1hcHNJbmRleCA9PT0gMykge1xuICAgIHJvdXRlQ2F0ZWdvcnkgPSBcIm5vQVBJS2V5Um91dGVzXCI7XG4gIH0gZWxzZSBpZiAocm91dGVNYXBzSW5kZXggPT09IDQpIHtcbiAgICByb3V0ZUNhdGVnb3J5ID0gXCJoZWFsdGhDaGVja1JvdXRlc1wiO1xuICB9XG4gIHJldHVybiByb3V0ZUNhdGVnb3J5O1xufTtcblxuY29uc3QgY2hlY2tBcGlLZXlWYWxpZGl0eSA9IGFzeW5jIChyZXEpID0+IHtcbiAgY29uc3QgYXBpS2V5ID0gcmVxLmhlYWRlcihIRUFERVJfQVBJX0tFWSk7XG4gIGNvbnN0IHNlbGVjdENvbmRpdGlvbiA9IHtcbiAgICBtZXRyb19hdXRoX2tleTogYXBpS2V5LFxuICB9O1xuICBjb25zdCBwcm9qZWN0Q29uZGl0aW9uID0ge1xuICAgIG1ldHJvX2F1dGhfa2V5OiAxLFxuICAgIF9pZDogMCxcbiAgfTtcbiAgY29uc3QgaXNWYWxpZEFQSUtleSA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShcbiAgICBDbGllbnRzLFxuICAgIHNlbGVjdENvbmRpdGlvbixcbiAgICBwcm9qZWN0Q29uZGl0aW9uLFxuICApO1xuICByZXR1cm4gaXNWYWxpZEFQSUtleTtcbn07XG5cbmNvbnN0IGdldFJlZGlzU2Vzc2lvbiA9IGFzeW5jIChzZXNzaW9uSWQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBAaG90Zml4OiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBwcmVwcmVuZGluZyBcInNlc3M6XCIgdG8gc2Vzc2lvbklkXG4gICAgY29uc3QgcmVkaXNTZXNzaW9uID0gYXdhaXQgUmVkaXNDbGllbnQuZ2V0KGBzZXNzOiR7c2Vzc2lvbklkfWApO1xuICAgIHJldHVybiByZWRpc1Nlc3Npb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBlcnJvciB9KTtcbiAgICB0aHJvdyBFcnJvclV0aWxzLnJlZGlzQ29ubmVjdGlvbkVycm9yKCk7XG4gIH1cbn07XG5cbmNvbnN0IGRlY3J5cHQgPSAodGV4dCkgPT4ge1xuICBsZXQgcmVzdWx0Q2hpcGVyID0gXCJcIjtcbiAgY29uc3QgZGVjaXBoZXIgPSBjcnlwdG8uY3JlYXRlRGVjaXBoZXIoQUxHT1JJVEhNLCBQQVNTV09SRCk7XG4gIGNvbnNvbGUubG9nKFwiKysrKysrKysrKysrKyBsZW5ndGggaXMgXCIrIHRleHQsdGV4dC5sZW5ndGgpO1xuICByZXN1bHRDaGlwZXIgPSBkZWNpcGhlci51cGRhdGUodGV4dCwgXCJoZXhcIiwgXCJ1dGY4XCIpO1xuICByZXN1bHRDaGlwZXIgKz0gZGVjaXBoZXIuZmluYWwoXCJ1dGY4XCIpO1xuICByZXR1cm4gcmVzdWx0Q2hpcGVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNlc3Npb25PYmogPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHNlc3Npb250b2tlbiA9IHJlcS5oZWFkZXIoSEVBREVSX1NFU1NJT05fVE9LRU4pO1xuICBpZiAoIXNlc3Npb250b2tlbikgdGhyb3cgRXJyb3JVdGlscy5JbnZhbGlkU2Vzc2lvblRva2VuKCk7XG4gIC8vIGNvbnN0IHNlc3Npb24gPSBqd3QudmVyaWZ5KHNlc3Npb250b2tlbiwgU0VDUkVBVCk7XG5cbiAgY29uc3Qgc2Vzc2lvbklkID0gZGVjcnlwdChzZXNzaW9udG9rZW4pO1xuICBsZXQgc2Vzc2lvbiA9IGF3YWl0IGdldFJlZGlzU2Vzc2lvbihzZXNzaW9uSWQpO1xuICBsb2coXCJpbmZvXCIsIHsgc2Vzc2lvbiwgc2Vzc2lvbklkLCBzZXNzaW9udG9rZW4gfSk7XG5cbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgdGhyb3cgRXJyb3JVdGlscy5JbnZhbGlkU2Vzc2lvblRva2VuKCk7XG4gIH1cbiAgdHJ5IHtcbiAgICBzZXNzaW9uID0gSlNPTi5wYXJzZShzZXNzaW9uKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBFcnJvclV0aWxzLkludmFsaWRTZXNzaW9uVG9rZW4oKTtcbiAgfVxuICBjb25zb2xlLmxvZyhcInRoZSByZXR1cm5lZCB2YWx1ZSBmb3JtdGhlIHNlc3Npb24gaXMgKysrKysrKysrKysrKysrXCIrc2Vzc2lvbik7XG4gIHJldHVybiBzZXNzaW9uO1xufTtcbmNvbnN0IGdldFJvdXRlT2JqID0gKG9yaWdpbmFsVXJsLCBodHRwTWV0aG9kKSA9PiB7XG4gIGxldCByb3V0ZU9iaiA9IHt9O1xuICBjb25zdCBub3JtYWxpemVkVVJMID0gb3JpZ2luYWxVcmwudG9Mb3dlckNhc2UoKS5zcGxpdChcIj9cIilbMF07XG4gIGNvbnN0IGluZGV4ID0gbm9ybWFsaXplZFVSTC5sYXN0SW5kZXhPZihcIi9cIik7XG4gIGNvbnN0IGJhc2VVUkwgPSBub3JtYWxpemVkVVJMLnN1YnN0cmluZygwLCBpbmRleCk7XG4gIGxldCBpc1JvdXRlT2JqRm91bmQgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZU1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByb3V0ZU1hcCA9IHJvdXRlTWFwc1tpXTtcbiAgICBpZiAocm91dGVNYXAgJiYgcm91dGVNYXBbaHR0cE1ldGhvZF0pIHtcbiAgICAgIGlmIChyb3V0ZU1hcFtodHRwTWV0aG9kXVtub3JtYWxpemVkVVJMXSkge1xuICAgICAgICByb3V0ZU9iaiA9IHJvdXRlTWFwW2h0dHBNZXRob2RdW25vcm1hbGl6ZWRVUkxdO1xuICAgICAgICBpc1JvdXRlT2JqRm91bmQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcm91dGVNYXBbaHR0cE1ldGhvZF1bYCR7YmFzZVVSTH0vOnBhcmFtYF1cbiAgICAgICAgJiYgaW5kZXggIT09IG5vcm1hbGl6ZWRVUkwubGVuZ3RoIC0gMVxuICAgICAgKSB7XG4gICAgICAgIHJvdXRlT2JqID0gcm91dGVNYXBbaHR0cE1ldGhvZF1bYCR7YmFzZVVSTH0vOnBhcmFtYF07XG4gICAgICAgIGlzUm91dGVPYmpGb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNSb3V0ZU9iakZvdW5kKSB7XG4gICAgICAgIHJvdXRlT2JqLmh0dHBNZXRob2QgPSBodHRwTWV0aG9kO1xuICAgICAgICByb3V0ZU9iai5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICAgICAgcm91dGVPYmoubm9ybWFsaXplZFVSTCA9IG5vcm1hbGl6ZWRVUkw7XG4gICAgICAgIHJvdXRlT2JqLnJvdXRlQ2F0ZWdvcnkgPSBnZXRSb3V0ZUNhdGVnb3J5KGkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gSWYgcm91dGUgaXMgbm90IGZvdW5kIGZyb20gUm91dGVzTWFwIGl0IHNob3VkIGJlIHRyZWF0ZWQgYXMgb3RoZXJzXG4gIGlmICghaXNSb3V0ZU9iakZvdW5kKSB7XG4gICAgcm91dGVPYmouaHR0cE1ldGhvZCA9IGh0dHBNZXRob2Q7XG4gICAgcm91dGVPYmouYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgcm91dGVPYmoubm9ybWFsaXplZFVSTCA9IG5vcm1hbGl6ZWRVUkw7XG4gICAgcm91dGVPYmoucm91dGVDYXRlZ29yeSA9IFwib3RoZXJzXCI7XG4gIH1cbiAgcmV0dXJuIHJvdXRlT2JqO1xufTtcblxuLy8gQGhvdGZpeDogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbi8vIEJ1c2luZXNzICYgY29uc3VtZXIgdXNlciByb2xlcyBhcmUgc3RvcmVkIGluIGRpZmZlcmVudCBrZXlzIGluIHNlc3Npb25cbi8vIFBvc3NpYmxlIHZhbHVlcyBmb3IgdXNlcnNfYnVzaW5lc3NfcG9ydGFsX3JvbGUgYXJlIFwiYWRtaW5cIiAmIFwidXNlclwiXG5hc3luYyBmdW5jdGlvbiBnZXRVc2VyUm9sZXMocmVxKSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uT2JqKHJlcSk7XG4gIGNvbnNvbGUubG9nKCcqKioqKioqKioqKioqKioqKioqKioqKioqKioqKicrSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbikpO1xuICBjb25zdCB7IHVzZXJzX2J1c2luZXNzX3BvcnRhbF9yb2xlOiB1c2VyUm9sZXMgfSA9IHNlc3Npb247XG4gIGNvbnNvbGUubG9nKFwiKysrKysrKysrKysgdGhlIHJvbGUgb2YgdXNlciBpcyBcIitKU09OLnN0cmluZ2lmeSh1c2VyUm9sZXMpKVxuICByZXR1cm4gW10uY29uY2F0KHVzZXJSb2xlcykubWFwKCh2YWx1ZSkgPT4gdmFsdWUudG9VcHBlckNhc2UoKSk7XG59XG5cbmNvbnN0IGNoZWNrQXV0b3JpemF0aW9uID0gYXN5bmMgKHJlcSkgPT4ge1xuICBsZXQgaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSA9IGZhbHNlO1xuICBjb25zb2xlLmxvZyhcImluIHRoZSBjaGVjayBhdXRob3JpemF0aW9uIHJ1bGUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgY29uc3QgdXNlclJvbGVzID0gYXdhaXQgZ2V0VXNlclJvbGVzKHJlcSk7XG4gIGNvbnN0IHJvdXRlQXV0b3JpemVkUm9sZXMgPSByZXEucm91dGVPYmo/LnJvbGVzIHx8IFtdO1xuICBpZiAocm91dGVBdXRvcml6ZWRSb2xlcz8uZmlsdGVyKCh2YWx1ZSkgPT4gdXNlclJvbGVzLmluY2x1ZGVzKHZhbHVlLnRvVXBwZXJDYXNlKCkpKT8ubGVuZ3RoID4gMCkge1xuICAgIGlzQXV0aG9yaXplZFRvQWNjZXNzUm91dGUgPSB0cnVlO1xuICB9XG4gIHJldHVybiBpc0F1dGhvcml6ZWRUb0FjY2Vzc1JvdXRlO1xufTtcblxuY29uc3QgY2hlY2tCbG9ja0xpc3RlZFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gIC8vIEBob3RmaXg6IFJld3JpdGUgdGhpcyBsb2dpYyBhY2NvcmRpbmcgdG8gc2VydmljZSBuZWVkXG4gIGNvbnN0IGlzQmxvY2tlZFVzZXIgPSBmYWxzZTtcbiAgcmV0dXJuIGlzQmxvY2tlZFVzZXI7XG4gIC8vIGxldCBpc0Jsb2NrZWRVc2VyID0gZmFsc2U7XG4gIC8vIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uT2JqKHJlcSk7XG4gIC8vIGNvbnN0IHsgbW9iaWxlTm8gfSA9IHNlc3Npb247XG4gIC8vIGNvbnN0IHNlbGVjdENvbmRpdGlvbiA9IHtcbiAgLy8gICBtb2JpbGVObyxcbiAgLy8gICBpc0Jsb2NrZWRVc2VyOiB0cnVlLFxuICAvLyB9O1xuICAvLyBjb25zdCBwcm9qZWN0Q29uZGl0aW9uID0ge1xuICAvLyAgIG1vYmlsZU5vOiAxLFxuICAvLyAgIF9pZDogMCxcbiAgLy8gfTtcbiAgLy8gY29uc3QgdXNlck9iaiA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShcbiAgLy8gICBVc2VycyxcbiAgLy8gICBzZWxlY3RDb25kaXRpb24sXG4gIC8vICAgcHJvamVjdENvbmRpdGlvbixcbiAgLy8gKTtcbiAgLy8gaWYgKHVzZXJPYmopIHtcbiAgLy8gICBpc0Jsb2NrZWRVc2VyID0gdHJ1ZTtcbiAgLy8gfVxuICAvLyByZXR1cm4gaXNCbG9ja2VkVXNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXNzaW9uT2JqID0gKGRhdGEpID0+IHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGp3dC5zaWduKGRhdGEsIFNFQ1JFQVQsIHsgZXhwaXJlc0luOiA2MCAqIDYwICogMjQgKiAzMCB9KTsgLy8gZGVmYXVsdCBpcyBpbiBzZWNcbiAgcmV0dXJuIHNlc3Npb247XG59O1xuXG4vKlxuMS5uZXdTZXNzaW9uUm91dGVzXG4yLmF1dGhlbnRpY2F0ZWRSb3V0ZXMoYXBpIGtleSBjaGVjayxzZXNzb2luIHRva2VuIGNoZWNrLEF1dGhvcml6ZSBjaGVjayxibG9ja2xpc3QgdXNlcnMgY2hlY2spXG4zLm5vU2Vzc2lvblJvdXRlcyhhcGkga2V5IGNoZWNrKVxuNC5ub0FQSUtleVJvdXRlc1xuNS5oZWFsdGhDaGVja1JvdXRlcyhEb250JyBzdG9yZSBBdWRpdHMpXG42Lm90aGVyc1xuXG5Gb3IgZWFjaCByZXEgc3RvcmUgcmVxLCByZXMgYXVkaXRzXG4qL1xuXG5leHBvcnQgY29uc3QgY2hlY2tzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHsgcm91dGVDYXRlZ29yeSB9ID0gcmVxLnJvdXRlT2JqO1xuICBpZiAocm91dGVDYXRlZ29yeSA9PT0gXCJvdGhlcnNcIikge1xuICAgIGNvbnN0IGVycm9yID0gRXJyb3JVdGlscy5JbnZhbGlkUmVxdWVzdCgpO1xuICAgIG5leHQoZXJyb3IpO1xuICB9IGVsc2UgaWYgKHJvdXRlQ2F0ZWdvcnkgPT09IFwiaGVhbHRoQ2hlY2tSb3V0ZXNcIikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIGlmIChyb3V0ZUNhdGVnb3J5ID09PSBcIm5vQVBJS2V5Um91dGVzXCIpIHtcbiAgICBuZXh0KCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgcm91dGVDYXRlZ29yeSA9PT0gXCJub1Nlc3Npb25Sb3V0ZXNcIlxuICAgIHx8IHJvdXRlQ2F0ZWdvcnkgPT09IFwibmV3U2Vzc2lvblJvdXRlc1wiXG4gICkge1xuICAgIGNvbnN0IGlzVmFsaWRBUElLZXkgPSBhd2FpdCBjaGVja0FwaUtleVZhbGlkaXR5KHJlcSk7XG4gICAgaWYgKCFpc1ZhbGlkQVBJS2V5KSB7XG4gICAgICBjb25zdCBlcnJvciA9IEVycm9yVXRpbHMuSW52YWxpZEFQSUtleSgpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocm91dGVDYXRlZ29yeSA9PT0gXCJhdXRoZW50aWNhdGVkUm91dGVzXCIpIHtcbiAgICAvLyAxLmFwaSBrZXkgY2hlY2sgMi5zZXNzaW9uIHRva2VuIGNoZWNrIDMuYXV0b3JpemF0aW9uIGNoZWNrIDQuYmxvY2tsaXN0ZWQgdXNlciBjaGVja1xuICAgIGNvbnN0IGlzVmFsaWRBUElLZXkgPSBhd2FpdCBjaGVja0FwaUtleVZhbGlkaXR5KHJlcSk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25PYmoocmVxKTtcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JVdGlscy5JbnZhbGlkU2Vzc2lvblRva2VuKCk7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSA9IGF3YWl0IGNoZWNrQXV0b3JpemF0aW9uKHJlcSk7XG4gICAgICBjb25zb2xlLmxvZygnKioqKioqKioqKioqKioqKiogaXMgYXV0aG9yaXplZCB1c2VyICcraXNBdXRob3JpemVkVG9BY2Nlc3NSb3V0ZSk7XG4gICAgICBjb25zdCBpc0Jsb2NrTGlzdGVkdXNlciA9IGF3YWl0IGNoZWNrQmxvY2tMaXN0ZWRVc2VyKCk7XG4gICAgICBpZiAoIWlzVmFsaWRBUElLZXkpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBFcnJvclV0aWxzLkludmFsaWRBUElLZXkoKTtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKGlzQmxvY2tMaXN0ZWR1c2VyKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JVdGlscy5CbG9ja0xpc3RlZFVzZXIoKTtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKCFpc0F1dGhvcml6ZWRUb0FjY2Vzc1JvdXRlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JVdGlscy5JbnZhbGlkQXV0aG9yaXphdGlvbigpO1xuICAgICAgICBuZXh0KGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcS5zZXNzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRNZXRyaWNzID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgb3JpZ2luYWxVcmwgfSA9IHJlcTtcbiAgY29uc3QgaHR0cE1ldGhvZCA9IHJlcS5tZXRob2Q7XG4gIGNvbnN0IHJvdXRlT2JqID0gZ2V0Um91dGVPYmoob3JpZ2luYWxVcmwsIGh0dHBNZXRob2QpO1xuICBjb25zb2xlLmxvZyhcIkNIZWNraW5nKysrKysrKysrKysrIFwiK0pTT04uc3RyaW5naWZ5KHJvdXRlT2JqKSk7XG4gIHJvdXRlT2JqLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIGxldCBjb3JyZWxhdGlvbklkID0gcmVxLmdldChDb25zdGFudHMuTE9HR0VSX0NPUlJFTEFUSU9OSUQpO1xuICBpZiAoIWNvcnJlbGF0aW9uSWQpIHtcbiAgICAvLyBnZW5lcmF0ZSBhbmQgc2V0IHV1aWQgdjQgdmVyc2lvblxuICAgIGNvcnJlbGF0aW9uSWQgPSB1dWlkLnY0KCk7XG4gICAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfQ09SUkVMQVRJT05JRCwgY29ycmVsYXRpb25JZCk7XG4gICAgLy8gaW5qZWN0IGNvcnJlbGF0aW9uSWQgaW4gaGVhZGVyc1xuICAgIHJlcS5oZWFkZXJzLmNvcnJlbGF0aW9uSWQgPSBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9DT1JSRUxBVElPTklEKTtcbiAgICByZXMuc2V0KFwiQ29ycmVsYXRpb25JZFwiLCBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9DT1JSRUxBVElPTklEKSk7XG4gIH1cblxuICByZXR1cm4gcm91dGVPYmo7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBRUE7O0FBSUE7O0FBR0E7Ozs7Ozs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBM0IsQyxDQUVBOzs7QUFDQSxJQUFJQyxnQkFBZ0IsR0FBR0MsWUFBR0MsWUFBSCxDQUNyQkMsY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLHVCQUF4QixDQURxQixFQUVyQixNQUZxQixDQUF2Qjs7QUFJQUwsZ0JBQWdCLEdBQUdNLElBQUksQ0FBQ0MsS0FBTCxDQUFXUCxnQkFBWCxDQUFuQjs7QUFFQSxJQUFJUSxtQkFBbUIsR0FBR1AsWUFBR0MsWUFBSCxDQUN4QkMsY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLDRCQUF4QixDQUR3QixFQUV4QixNQUZ3QixDQUExQjs7QUFJQUcsbUJBQW1CLEdBQUdGLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxtQkFBWCxDQUF0Qjs7QUFFQSxNQUFNQyxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1XLGlCQUFpQixHQUFHWCxPQUFPLENBQUMsMEJBQUQsQ0FBakM7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","map":{"version":3,"names":["httpContext","require","newSessionRoutes","fs","readFileSync","path","resolve","__dirname","JSON","parse","authenticatedRoutes","uuid","healthCheckRoutes","noAPIKeyRoutes","noSessionRoutes","routeMaps","getRouteCategory","routeMapsIndex","routeCategory","checkApiKeyValidity","req","apiKey","header","HEADER_API_KEY","selectCondition","metro_auth_key","projectCondition","_id","isValidAPIKey","AbstractModels","mongoFindOne","Clients","getRedisSession","sessionId","redisSession","RedisClient","get","error","log","ErrorUtils","redisConnectionError","decrypt","text","resultChiper","decipher","crypto","createDecipher","ALGORITHM","PASSWORD","console","length","update","final","getSessionObj","sessiontoken","HEADER_SESSION_TOKEN","InvalidSessionToken","session","getRouteObj","originalUrl","httpMethod","routeObj","normalizedURL","toLowerCase","split","index","lastIndexOf","baseURL","substring","isRouteObjFound","i","routeMap","getUserRoles","stringify","users_business_portal_role","userRoles","concat","map","value","toUpperCase","checkAutorization","isAuthorizedToAccessRoute","routeAutorizedRoles","roles","filter","includes","checkBlockListedUser","isBlockedUser","createSessionObj","data","jwt","sign","SECREAT","expiresIn","checks","res","next","InvalidRequest","InvalidAPIKey","isBlockListeduser","BlockListedUser","InvalidAuthorization","sesssion","setMetrics","method","startTime","Date","getTime","correlationId","Constants","LOGGER_CORRELATIONID","v4","set","headers"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/","sources":["Auth.js"],"sourcesContent":["import path from \"path\";\nimport jwt from \"jsonwebtoken\";\nimport fs from \"fs\";\nimport crypto from \"crypto\";\nimport * as Constants from \"../constants/Constants\";\n\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport { Clients } from \"../models/mainDbSchema/index\";\n\nimport { RedisClient } from \"../connections/RedisClient\";\n\nimport {\n  SECREAT, ALGORITHM, PASSWORD,\n} from \"../constants/Credentials\";\n\nimport {\n  HEADER_API_KEY, HEADER_SESSION_TOKEN,\n} from \"../constants/Keys\";\nimport { deprecate } from \"util\";\n\nconst httpContext = require(\"express-http-context\");\n\n// Static data can be read using require or fs\nlet newSessionRoutes = fs.readFileSync(\n  path.resolve(__dirname, \"NewSessionRoutes.json\"),\n  \"utf8\",\n);\nnewSessionRoutes = JSON.parse(newSessionRoutes);\n\nlet authenticatedRoutes = fs.readFileSync(\n  path.resolve(__dirname, \"./AuthenticatedRoutes.json\"),\n  \"utf8\",\n);\nauthenticatedRoutes = JSON.parse(authenticatedRoutes);\n\nconst uuid = require(\"uuid\");\nconst healthCheckRoutes = require(\"./HealthCheckRoutes.json\");\nconst noAPIKeyRoutes = require(\"./NoClientIdRoutes.json\");\nconst noSessionRoutes = require(\"./NoSessionRoutes.json\");\n\nconst routeMaps = [\n  newSessionRoutes,\n  authenticatedRoutes,\n  noSessionRoutes,\n  noAPIKeyRoutes,\n  healthCheckRoutes,\n];\n\nconst getRouteCategory = (routeMapsIndex) => {\n  let routeCategory = \"others\";\n  if (routeMapsIndex === 0) {\n    routeCategory = \"newSessionRoutes\";\n  } else if (routeMapsIndex === 1) {\n    routeCategory = \"authenticatedRoutes\";\n  } else if (routeMapsIndex === 2) {\n    routeCategory = \"noSessionRoutes\";\n  } else if (routeMapsIndex === 3) {\n    routeCategory = \"noAPIKeyRoutes\";\n  } else if (routeMapsIndex === 4) {\n    routeCategory = \"healthCheckRoutes\";\n  }\n  return routeCategory;\n};\n\nconst checkApiKeyValidity = async (req) => {\n  const apiKey = req.header(HEADER_API_KEY);\n  const selectCondition = {\n    metro_auth_key: apiKey,\n  };\n  const projectCondition = {\n    metro_auth_key: 1,\n    _id: 0,\n  };\n  const isValidAPIKey = await AbstractModels.mongoFindOne(\n    Clients,\n    selectCondition,\n    projectCondition,\n  );\n  return isValidAPIKey;\n};\n\nconst getRedisSession = async (sessionId) => {\n  try {\n    // @hotfix: For backward compatibility preprending \"sess:\" to sessionId\n    const redisSession = await RedisClient.get(`sess:${sessionId}`);\n    return redisSession;\n  } catch (error) {\n    log(\"error\", { error });\n    throw ErrorUtils.redisConnectionError();\n  }\n};\n\nconst decrypt = (text) => {\n  let resultChiper = \"\";\n  const decipher = crypto.createDecipher(ALGORITHM, PASSWORD);\n  console.log(\"+++++++++++++ length is \"+ text,text.length);\n  resultChiper = decipher.update(text, \"hex\", \"utf8\");\n  resultChiper += decipher.final(\"utf8\");\n  return resultChiper;\n};\n\nexport const getSessionObj = async (req) => {\n  const sessiontoken = req.header(HEADER_SESSION_TOKEN);\n  if (!sessiontoken) throw ErrorUtils.InvalidSessionToken();\n  // const session = jwt.verify(sessiontoken, SECREAT);\n\n  const sessionId = decrypt(sessiontoken);\n  let session = await getRedisSession(sessionId);\n  log(\"info\", { session, sessionId, sessiontoken });\n\n  if (!session) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n  try {\n    session = JSON.parse(session);\n  } catch (error) {\n    throw ErrorUtils.InvalidSessionToken();\n  }\n  console.log(\"the returned value formthe session is +++++++++++++++\"+session);\n  return session;\n};\nconst getRouteObj = (originalUrl, httpMethod) => {\n  let routeObj = {};\n  const normalizedURL = originalUrl.toLowerCase().split(\"?\")[0];\n  const index = normalizedURL.lastIndexOf(\"/\");\n  const baseURL = normalizedURL.substring(0, index);\n  let isRouteObjFound = false;\n  for (let i = 0; i < routeMaps.length; i++) {\n    const routeMap = routeMaps[i];\n    if (routeMap && routeMap[httpMethod]) {\n      if (routeMap[httpMethod][normalizedURL]) {\n        routeObj = routeMap[httpMethod][normalizedURL];\n        isRouteObjFound = true;\n      } else if (\n        routeMap[httpMethod][`${baseURL}/:param`]\n        && index !== normalizedURL.length - 1\n      ) {\n        routeObj = routeMap[httpMethod][`${baseURL}/:param`];\n        isRouteObjFound = true;\n      }\n      if (isRouteObjFound) {\n        routeObj.httpMethod = httpMethod;\n        routeObj.baseURL = baseURL;\n        routeObj.normalizedURL = normalizedURL;\n        routeObj.routeCategory = getRouteCategory(i);\n        break;\n      }\n    }\n  }\n  // If route is not found from RoutesMap it shoud be treated as others\n  if (!isRouteObjFound) {\n    routeObj.httpMethod = httpMethod;\n    routeObj.baseURL = baseURL;\n    routeObj.normalizedURL = normalizedURL;\n    routeObj.routeCategory = \"others\";\n  }\n  return routeObj;\n};\n\n// @hotfix: For backward compatibility\n// Business & consumer user roles are stored in different keys in session\n// Possible values for users_business_portal_role are \"admin\" & \"user\"\nasync function getUserRoles(req) {\n  const session = await getSessionObj(req);\n  console.log('*****************************'+JSON.stringify(session));\n  const { users_business_portal_role: userRoles } = session;\n  console.log(\"+++++++++++ the role of user is \"+JSON.stringify(userRoles))\n  return [].concat(userRoles).map((value) => value.toUpperCase());\n}\n\nconst checkAutorization = async (req) => {\n  let isAuthorizedToAccessRoute = false;\n  console.log(\"in the check authorization rule--------------------------\");\n  const userRoles = await getUserRoles(req);\n  const routeAutorizedRoles = req.routeObj?.roles || [];\n  if (routeAutorizedRoles?.filter((value) => userRoles.includes(value.toUpperCase()))?.length > 0) {\n    isAuthorizedToAccessRoute = true;\n  }\n  return isAuthorizedToAccessRoute;\n};\n\nconst checkBlockListedUser = async () => {\n  // @hotfix: Rewrite this logic according to service need\n  const isBlockedUser = false;\n  return isBlockedUser;\n  // let isBlockedUser = false;\n  // const session = await getSessionObj(req);\n  // const { mobileNo } = session;\n  // const selectCondition = {\n  //   mobileNo,\n  //   isBlockedUser: true,\n  // };\n  // const projectCondition = {\n  //   mobileNo: 1,\n  //   _id: 0,\n  // };\n  // const userObj = await AbstractModels.mongoFindOne(\n  //   Users,\n  //   selectCondition,\n  //   projectCondition,\n  // );\n  // if (userObj) {\n  //   isBlockedUser = true;\n  // }\n  // return isBlockedUser;\n};\n\nexport const createSessionObj = (data) => {\n  const session = jwt.sign(data, SECREAT, { expiresIn: 60 * 60 * 24 * 30 }); // default is in sec\n  return session;\n};\n\n/*\n1.newSessionRoutes\n2.authenticatedRoutes(api key check,sessoin token check,Authorize check,blocklist users check)\n3.noSessionRoutes(api key check)\n4.noAPIKeyRoutes\n5.healthCheckRoutes(Dont' store Audits)\n6.others\n\nFor each req store req, res audits\n*/\n\nexport const checks = async (req, res, next) => {\n  const { routeCategory } = req.routeObj;\n  if (routeCategory === \"others\") {\n    const error = ErrorUtils.InvalidRequest();\n    next(error);\n  } else if (routeCategory === \"healthCheckRoutes\") {\n    next();\n  } else if (routeCategory === \"noAPIKeyRoutes\") {\n    next();\n  } else if (\n    routeCategory === \"noSessionRoutes\"\n    || routeCategory === \"newSessionRoutes\"\n  ) {\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    if (!isValidAPIKey) {\n      const error = ErrorUtils.InvalidAPIKey();\n      next(error);\n    } else {\n      next();\n    }\n  } else if (routeCategory === \"authenticatedRoutes\") {\n    // 1.api key check 2.session token check 3.autorization check 4.blocklisted user check\n    const isValidAPIKey = await checkApiKeyValidity(req);\n    const session = await getSessionObj(req);\n    if (!session) {\n      const error = ErrorUtils.InvalidSessionToken();\n      next(error);\n    } else {\n      const isAuthorizedToAccessRoute = await checkAutorization(req);\n      console.log('***************** is authorized user '+isAuthorizedToAccessRoute);\n      const isBlockListeduser = await checkBlockListedUser();\n      if (!isValidAPIKey) {\n        const error = ErrorUtils.InvalidAPIKey();\n        next(error);\n      } else if (isBlockListeduser) {\n        const error = ErrorUtils.BlockListedUser();\n        next(error);\n      } else if (!isAuthorizedToAccessRoute) {\n        const error = ErrorUtils.InvalidAuthorization();\n        next(error);\n      } else {\n        req.sesssion = session;\n        next();\n      }\n    }\n  }\n};\n\nexport const setMetrics = (req, res) => {\n  const { originalUrl } = req;\n  const httpMethod = req.method;\n  const routeObj = getRouteObj(originalUrl, httpMethod);\n  console.log(\"CHecking++++++++++++ \"+JSON.stringify(routeObj));\n  routeObj.startTime = new Date().getTime();\n\n  let correlationId = req.get(Constants.LOGGER_CORRELATIONID);\n  if (!correlationId) {\n    // generate and set uuid v4 version\n    correlationId = uuid.v4();\n    httpContext.set(Constants.LOGGER_CORRELATIONID, correlationId);\n    // inject correlationId in headers\n    req.headers.correlationId = httpContext.get(Constants.LOGGER_CORRELATIONID);\n    res.set(\"CorrelationId\", httpContext.get(Constants.LOGGER_CORRELATIONID));\n  }\n\n  return routeObj;\n};\n"],"mappings":"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"}},"mtime":1653905361883},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/errors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/errors/ErrorUtils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BlockListedUser = BlockListedUser;\nexports.DataAlreadyExists = DataAlreadyExists;\nexports.DataNotFound = DataNotFound;\nexports.ExpiredUser = ExpiredUser;\nexports.IncorrectOTP = IncorrectOTP;\nexports.InternalServerError = InternalServerError;\nexports.InvalidAPIKey = InvalidAPIKey;\nexports.InvalidAuthorization = InvalidAuthorization;\nexports.InvalidPasswordError = InvalidPasswordError;\nexports.InvalidRequest = InvalidRequest;\nexports.InvalidSchemaError = InvalidSchemaError;\nexports.InvalidSessionToken = InvalidSessionToken;\nexports.InvalidUserError = InvalidUserError;\nexports.MongoError = MongoError;\nexports.NotRegisteredUser = NotRegisteredUser;\nexports.UserNotFoundError = UserNotFoundError;\nexports.redisConnectionError = redisConnectionError;\n\nvar ErrorType = _interopRequireWildcard(require(\"../constants/ErrorConstants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst RESPONSE_STATUS_400_BAD_REQUEST = 400;\nconst RESPONSE_STATUS_401_UNAUTHORIZED = 401;\nconst RESPONSE_STATUS_403_FORBIDDEN = 403;\nconst RESPONSE_STATUS_404_NOT_FOUND = 404;\nconst RESPONSE_STATUS_409_CONFLICT = 409;\nconst RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR = 500;\n\nfunction ErrorUtils(functionName, customMessage, httpResponseStatusCode) {\n  Error.captureStackTrace(this, functionName || ErrorUtils);\n  this.name = this.constructor.name;\n  this.message = customMessage?.message;\n  this.code = customMessage?.code;\n  this.statusCode = httpResponseStatusCode;\n}\n\nfunction InvalidRequest() {\n  return new ErrorUtils(InvalidRequest, ErrorType.INVALID_REQUEST, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidAPIKey() {\n  return new ErrorUtils(InvalidAPIKey, ErrorType.INVALID_API_KEY, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidSessionToken() {\n  return new ErrorUtils(InvalidSessionToken, ErrorType.INVALID_SESSION_TOKEN, RESPONSE_STATUS_400_BAD_REQUEST);\n}\n\nfunction InvalidAuthorization() {\n  return new ErrorUtils(InvalidAuthorization, ErrorType.INVALID_AUTHORIZATION, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction BlockListedUser() {\n  return new ErrorUtils(BlockListedUser, ErrorType.BLOCK_LISTED_USER, RESPONSE_STATUS_403_FORBIDDEN);\n}\n\nfunction UserNotFoundError() {\n  return new ErrorUtils(UserNotFoundError, ErrorType.USER_DOES_NOT_EXIST, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction InvalidPasswordError() {\n  return new ErrorUtils(InvalidPasswordError, ErrorType.INVALID_PASSWORD, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction InvalidSchemaError() {\n  return new ErrorUtils(InvalidSchemaError, ErrorType.INVALID_SCHEMA.code, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction InternalServerError() {\n  return new ErrorUtils(InternalServerError, ErrorType.INTERNAL_SERVER_ERR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction DataNotFound() {\n  return new ErrorUtils(DataNotFound, ErrorType.DATA_NOT_FOUND, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction MongoError() {\n  return new ErrorUtils(MongoError, ErrorType.MONGO_ERROR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n\nfunction DataAlreadyExists() {\n  return new ErrorUtils(DataAlreadyExists, ErrorType.DATA_ALREADY_EXISTS, RESPONSE_STATUS_409_CONFLICT);\n}\n\nfunction IncorrectOTP() {\n  return new ErrorUtils(IncorrectOTP, ErrorType.INCORRECT_OTP, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction InvalidUserError() {\n  return new ErrorUtils(InvalidUserError, ErrorType.INVALID_USER, RESPONSE_STATUS_401_UNAUTHORIZED);\n}\n\nfunction ExpiredUser() {\n  return new ErrorUtils(ExpiredUser, ErrorType.EXPIRED_USER, RESPONSE_STATUS_403_FORBIDDEN);\n}\n\nfunction NotRegisteredUser() {\n  return new ErrorUtils(NotRegisteredUser, ErrorType.NOT_REGISTERED_USER, RESPONSE_STATUS_404_NOT_FOUND);\n}\n\nfunction redisConnectionError() {\n  return new ErrorUtils(redisConnectionError, ErrorType.REDIS_CONNECTION_ERROR, RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSRVNQT05TRV9TVEFUVVNfNDAwX0JBRF9SRVFVRVNUIiwiUkVTUE9OU0VfU1RBVFVTXzQwMV9VTkFVVEhPUklaRUQiLCJSRVNQT05TRV9TVEFUVVNfNDAzX0ZPUkJJRERFTiIsIlJFU1BPTlNFX1NUQVRVU180MDRfTk9UX0ZPVU5EIiwiUkVTUE9OU0VfU1RBVFVTXzQwOV9DT05GTElDVCIsIlJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwiRXJyb3JVdGlscyIsImZ1bmN0aW9uTmFtZSIsImN1c3RvbU1lc3NhZ2UiLCJodHRwUmVzcG9uc2VTdGF0dXNDb2RlIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIm5hbWUiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwic3RhdHVzQ29kZSIsIkludmFsaWRSZXF1ZXN0IiwiRXJyb3JUeXBlIiwiSU5WQUxJRF9SRVFVRVNUIiwiSW52YWxpZEFQSUtleSIsIklOVkFMSURfQVBJX0tFWSIsIkludmFsaWRTZXNzaW9uVG9rZW4iLCJJTlZBTElEX1NFU1NJT05fVE9LRU4iLCJJbnZhbGlkQXV0aG9yaXphdGlvbiIsIklOVkFMSURfQVVUSE9SSVpBVElPTiIsIkJsb2NrTGlzdGVkVXNlciIsIkJMT0NLX0xJU1RFRF9VU0VSIiwiVXNlck5vdEZvdW5kRXJyb3IiLCJVU0VSX0RPRVNfTk9UX0VYSVNUIiwiSW52YWxpZFBhc3N3b3JkRXJyb3IiLCJJTlZBTElEX1BBU1NXT1JEIiwiSW52YWxpZFNjaGVtYUVycm9yIiwiSU5WQUxJRF9TQ0hFTUEiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiSU5URVJOQUxfU0VSVkVSX0VSUiIsIkRhdGFOb3RGb3VuZCIsIkRBVEFfTk9UX0ZPVU5EIiwiTW9uZ29FcnJvciIsIk1PTkdPX0VSUk9SIiwiRGF0YUFscmVhZHlFeGlzdHMiLCJEQVRBX0FMUkVBRFlfRVhJU1RTIiwiSW5jb3JyZWN0T1RQIiwiSU5DT1JSRUNUX09UUCIsIkludmFsaWRVc2VyRXJyb3IiLCJJTlZBTElEX1VTRVIiLCJFeHBpcmVkVXNlciIsIkVYUElSRURfVVNFUiIsIk5vdFJlZ2lzdGVyZWRVc2VyIiwiTk9UX1JFR0lTVEVSRURfVVNFUiIsInJlZGlzQ29ubmVjdGlvbkVycm9yIiwiUkVESVNfQ09OTkVDVElPTl9FUlJPUiJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9lcnJvcnMvIiwic291cmNlcyI6WyJFcnJvclV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEVycm9yVHlwZSBmcm9tIFwiLi4vY29uc3RhbnRzL0Vycm9yQ29uc3RhbnRzXCI7XG5cbmNvbnN0IFJFU1BPTlNFX1NUQVRVU180MDBfQkFEX1JFUVVFU1QgPSA0MDA7XG5jb25zdCBSRVNQT05TRV9TVEFUVVNfNDAxX1VOQVVUSE9SSVpFRCA9IDQwMTtcbmNvbnN0IFJFU1BPTlNFX1NUQVRVU180MDNfRk9SQklEREVOID0gNDAzO1xuY29uc3QgUkVTUE9OU0VfU1RBVFVTXzQwNF9OT1RfRk9VTkQgPSA0MDQ7XG5jb25zdCBSRVNQT05TRV9TVEFUVVNfNDA5X0NPTkZMSUNUID0gNDA5O1xuXG5jb25zdCBSRVNQT05TRV9TVEFUVVNfNTAwX0lOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMDtcblxuZnVuY3Rpb24gRXJyb3JVdGlscyhmdW5jdGlvbk5hbWUsIGN1c3RvbU1lc3NhZ2UsIGh0dHBSZXNwb25zZVN0YXR1c0NvZGUpIHtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgZnVuY3Rpb25OYW1lIHx8IEVycm9yVXRpbHMpO1xuICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gIHRoaXMubWVzc2FnZSA9IGN1c3RvbU1lc3NhZ2U/Lm1lc3NhZ2U7XG4gIHRoaXMuY29kZSA9IGN1c3RvbU1lc3NhZ2U/LmNvZGU7XG4gIHRoaXMuc3RhdHVzQ29kZSA9IGh0dHBSZXNwb25zZVN0YXR1c0NvZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkUmVxdWVzdCgpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRSZXF1ZXN0LFxuICAgIEVycm9yVHlwZS5JTlZBTElEX1JFUVVFU1QsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwMF9CQURfUkVRVUVTVCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRBUElLZXkoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnZhbGlkQVBJS2V5LFxuICAgIEVycm9yVHlwZS5JTlZBTElEX0FQSV9LRVksXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwMF9CQURfUkVRVUVTVCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRTZXNzaW9uVG9rZW4oKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnZhbGlkU2Vzc2lvblRva2VuLFxuICAgIEVycm9yVHlwZS5JTlZBTElEX1NFU1NJT05fVE9LRU4sXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwMF9CQURfUkVRVUVTVCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRBdXRob3JpemF0aW9uKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgSW52YWxpZEF1dGhvcml6YXRpb24sXG4gICAgRXJyb3JUeXBlLklOVkFMSURfQVVUSE9SSVpBVElPTixcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAxX1VOQVVUSE9SSVpFRCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrTGlzdGVkVXNlcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEJsb2NrTGlzdGVkVXNlcixcbiAgICBFcnJvclR5cGUuQkxPQ0tfTElTVEVEX1VTRVIsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwM19GT1JCSURERU4sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyTm90Rm91bmRFcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIFVzZXJOb3RGb3VuZEVycm9yLFxuICAgIEVycm9yVHlwZS5VU0VSX0RPRVNfTk9UX0VYSVNULFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDRfTk9UX0ZPVU5ELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZFBhc3N3b3JkRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnZhbGlkUGFzc3dvcmRFcnJvcixcbiAgICBFcnJvclR5cGUuSU5WQUxJRF9QQVNTV09SRCxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAxX1VOQVVUSE9SSVpFRCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRTY2hlbWFFcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEludmFsaWRTY2hlbWFFcnJvcixcbiAgICBFcnJvclR5cGUuSU5WQUxJRF9TQ0hFTUEuY29kZSxcbiAgICBSRVNQT05TRV9TVEFUVVNfNTAwX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludGVybmFsU2VydmVyRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnRlcm5hbFNlcnZlckVycm9yLFxuICAgIEVycm9yVHlwZS5JTlRFUk5BTF9TRVJWRVJfRVJSLFxuICAgIFJFU1BPTlNFX1NUQVRVU181MDBfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRGF0YU5vdEZvdW5kKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgRGF0YU5vdEZvdW5kLFxuICAgIEVycm9yVHlwZS5EQVRBX05PVF9GT1VORCxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDA0X05PVF9GT1VORCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vbmdvRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBNb25nb0Vycm9yLFxuICAgIEVycm9yVHlwZS5NT05HT19FUlJPUixcbiAgICBSRVNQT05TRV9TVEFUVVNfNTAwX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERhdGFBbHJlYWR5RXhpc3RzKCkge1xuICByZXR1cm4gbmV3IEVycm9yVXRpbHMoXG4gICAgRGF0YUFscmVhZHlFeGlzdHMsXG4gICAgRXJyb3JUeXBlLkRBVEFfQUxSRUFEWV9FWElTVFMsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwOV9DT05GTElDVCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluY29ycmVjdE9UUCgpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEluY29ycmVjdE9UUCxcbiAgICBFcnJvclR5cGUuSU5DT1JSRUNUX09UUCxcbiAgICBSRVNQT05TRV9TVEFUVVNfNDAxX1VOQVVUSE9SSVpFRCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWRVc2VyRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICBJbnZhbGlkVXNlckVycm9yLFxuICAgIEVycm9yVHlwZS5JTlZBTElEX1VTRVIsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwMV9VTkFVVEhPUklaRUQsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHBpcmVkVXNlcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIEV4cGlyZWRVc2VyLFxuICAgIEVycm9yVHlwZS5FWFBJUkVEX1VTRVIsXG4gICAgUkVTUE9OU0VfU1RBVFVTXzQwM19GT1JCSURERU4sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOb3RSZWdpc3RlcmVkVXNlcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvclV0aWxzKFxuICAgIE5vdFJlZ2lzdGVyZWRVc2VyLFxuICAgIEVycm9yVHlwZS5OT1RfUkVHSVNURVJFRF9VU0VSLFxuICAgIFJFU1BPTlNFX1NUQVRVU180MDRfTk9UX0ZPVU5ELFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVkaXNDb25uZWN0aW9uRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3JVdGlscyhcbiAgICByZWRpc0Nvbm5lY3Rpb25FcnJvcixcbiAgICBFcnJvclR5cGUuUkVESVNfQ09OTkVDVElPTl9FUlJPUixcbiAgICBSRVNQT05TRV9TVEFUVVNfNTAwX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsTUFBTUEsK0JBQStCLEdBQUcsR0FBeEM7QUFDQSxNQUFNQyxnQ0FBZ0MsR0FBRyxHQUF6QztBQUNBLE1BQU1DLDZCQUE2QixHQUFHLEdBQXRDO0FBQ0EsTUFBTUMsNkJBQTZCLEdBQUcsR0FBdEM7QUFDQSxNQUFNQyw0QkFBNEIsR0FBRyxHQUFyQztBQUVBLE1BQU1DLHlDQUF5QyxHQUFHLEdBQWxEOztBQUVBLFNBQVNDLFVBQVQsQ0FBb0JDLFlBQXBCLEVBQWtDQyxhQUFsQyxFQUFpREMsc0JBQWpELEVBQXlFO0VBQ3ZFQyxLQUFLLENBQUNDLGlCQUFOLENBQXdCLElBQXhCLEVBQThCSixZQUFZLElBQUlELFVBQTlDO0VBQ0EsS0FBS00sSUFBTCxHQUFZLEtBQUtDLFdBQUwsQ0FBaUJELElBQTdCO0VBQ0EsS0FBS0UsT0FBTCxHQUFlTixhQUFhLEVBQUVNLE9BQTlCO0VBQ0EsS0FBS0MsSUFBTCxHQUFZUCxhQUFhLEVBQUVPLElBQTNCO0VBQ0EsS0FBS0MsVUFBTCxHQUFrQlAsc0JBQWxCO0FBQ0Q7O0FBRU0sU0FBU1EsY0FBVCxHQUEwQjtFQUMvQixPQUFPLElBQUlYLFVBQUosQ0FDTFcsY0FESyxFQUVMQyxTQUFTLENBQUNDLGVBRkwsRUFHTG5CLCtCQUhLLENBQVA7QUFLRDs7QUFFTSxTQUFTb0IsYUFBVCxHQUF5QjtFQUM5QixPQUFPLElBQUlkLFVBQUosQ0FDTGMsYUFESyxFQUVMRixTQUFTLENBQUNHLGVBRkws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","map":{"version":3,"names":["RESPONSE_STATUS_400_BAD_REQUEST","RESPONSE_STATUS_401_UNAUTHORIZED","RESPONSE_STATUS_403_FORBIDDEN","RESPONSE_STATUS_404_NOT_FOUND","RESPONSE_STATUS_409_CONFLICT","RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR","ErrorUtils","functionName","customMessage","httpResponseStatusCode","Error","captureStackTrace","name","constructor","message","code","statusCode","InvalidRequest","ErrorType","INVALID_REQUEST","InvalidAPIKey","INVALID_API_KEY","InvalidSessionToken","INVALID_SESSION_TOKEN","InvalidAuthorization","INVALID_AUTHORIZATION","BlockListedUser","BLOCK_LISTED_USER","UserNotFoundError","USER_DOES_NOT_EXIST","InvalidPasswordError","INVALID_PASSWORD","InvalidSchemaError","INVALID_SCHEMA","InternalServerError","INTERNAL_SERVER_ERR","DataNotFound","DATA_NOT_FOUND","MongoError","MONGO_ERROR","DataAlreadyExists","DATA_ALREADY_EXISTS","IncorrectOTP","INCORRECT_OTP","InvalidUserError","INVALID_USER","ExpiredUser","EXPIRED_USER","NotRegisteredUser","NOT_REGISTERED_USER","redisConnectionError","REDIS_CONNECTION_ERROR"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/errors/","sources":["ErrorUtils.js"],"sourcesContent":["import * as ErrorType from \"../constants/ErrorConstants\";\n\nconst RESPONSE_STATUS_400_BAD_REQUEST = 400;\nconst RESPONSE_STATUS_401_UNAUTHORIZED = 401;\nconst RESPONSE_STATUS_403_FORBIDDEN = 403;\nconst RESPONSE_STATUS_404_NOT_FOUND = 404;\nconst RESPONSE_STATUS_409_CONFLICT = 409;\n\nconst RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR = 500;\n\nfunction ErrorUtils(functionName, customMessage, httpResponseStatusCode) {\n  Error.captureStackTrace(this, functionName || ErrorUtils);\n  this.name = this.constructor.name;\n  this.message = customMessage?.message;\n  this.code = customMessage?.code;\n  this.statusCode = httpResponseStatusCode;\n}\n\nexport function InvalidRequest() {\n  return new ErrorUtils(\n    InvalidRequest,\n    ErrorType.INVALID_REQUEST,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidAPIKey() {\n  return new ErrorUtils(\n    InvalidAPIKey,\n    ErrorType.INVALID_API_KEY,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidSessionToken() {\n  return new ErrorUtils(\n    InvalidSessionToken,\n    ErrorType.INVALID_SESSION_TOKEN,\n    RESPONSE_STATUS_400_BAD_REQUEST,\n  );\n}\n\nexport function InvalidAuthorization() {\n  return new ErrorUtils(\n    InvalidAuthorization,\n    ErrorType.INVALID_AUTHORIZATION,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function BlockListedUser() {\n  return new ErrorUtils(\n    BlockListedUser,\n    ErrorType.BLOCK_LISTED_USER,\n    RESPONSE_STATUS_403_FORBIDDEN,\n  );\n}\n\nexport function UserNotFoundError() {\n  return new ErrorUtils(\n    UserNotFoundError,\n    ErrorType.USER_DOES_NOT_EXIST,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function InvalidPasswordError() {\n  return new ErrorUtils(\n    InvalidPasswordError,\n    ErrorType.INVALID_PASSWORD,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function InvalidSchemaError() {\n  return new ErrorUtils(\n    InvalidSchemaError,\n    ErrorType.INVALID_SCHEMA.code,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function InternalServerError() {\n  return new ErrorUtils(\n    InternalServerError,\n    ErrorType.INTERNAL_SERVER_ERR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function DataNotFound() {\n  return new ErrorUtils(\n    DataNotFound,\n    ErrorType.DATA_NOT_FOUND,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function MongoError() {\n  return new ErrorUtils(\n    MongoError,\n    ErrorType.MONGO_ERROR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n\nexport function DataAlreadyExists() {\n  return new ErrorUtils(\n    DataAlreadyExists,\n    ErrorType.DATA_ALREADY_EXISTS,\n    RESPONSE_STATUS_409_CONFLICT,\n  );\n}\n\nexport function IncorrectOTP() {\n  return new ErrorUtils(\n    IncorrectOTP,\n    ErrorType.INCORRECT_OTP,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function InvalidUserError() {\n  return new ErrorUtils(\n    InvalidUserError,\n    ErrorType.INVALID_USER,\n    RESPONSE_STATUS_401_UNAUTHORIZED,\n  );\n}\n\nexport function ExpiredUser() {\n  return new ErrorUtils(\n    ExpiredUser,\n    ErrorType.EXPIRED_USER,\n    RESPONSE_STATUS_403_FORBIDDEN,\n  );\n}\n\nexport function NotRegisteredUser() {\n  return new ErrorUtils(\n    NotRegisteredUser,\n    ErrorType.NOT_REGISTERED_USER,\n    RESPONSE_STATUS_404_NOT_FOUND,\n  );\n}\n\nexport function redisConnectionError() {\n  return new ErrorUtils(\n    redisConnectionError,\n    ErrorType.REDIS_CONNECTION_ERROR,\n    RESPONSE_STATUS_500_INTERNAL_SERVER_ERROR,\n  );\n}\n"],"mappings":"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"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/ErrorConstants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.USER_DOES_NOT_EXIST = exports.REDIS_CONNECTION_ERROR = exports.NOT_REGISTERED_USER = exports.MONGO_ERROR = exports.INVALID_SESSION_TOKEN = exports.INVALID_SCHEMA = exports.INVALID_REQUEST = exports.INVALID_PASSWORD = exports.INVALID_AUTHORIZATION = exports.INVALID_API_KEY = exports.INTERNAL_SERVER_ERR = exports.INCORRECT_OTP = exports.EXPIRED_USER = exports.DATA_NOT_FOUND = exports.DATA_ALREADY_EXISTS = exports.BLOCK_LISTED_USER = void 0;\nconst INTERNAL_SERVER_ERR = {\n  code: 1000,\n  message: \"Internal Server Error. Something went wrong!\"\n};\nexports.INTERNAL_SERVER_ERR = INTERNAL_SERVER_ERR;\nconst INVALID_REQUEST = {\n  code: 1001,\n  message: \"invalid request\"\n};\nexports.INVALID_REQUEST = INVALID_REQUEST;\nconst INVALID_API_KEY = {\n  code: 1002,\n  message: \"invalid api key id\"\n};\nexports.INVALID_API_KEY = INVALID_API_KEY;\nconst INVALID_SESSION_TOKEN = {\n  code: 1003,\n  message: \"invalid session token\"\n};\nexports.INVALID_SESSION_TOKEN = INVALID_SESSION_TOKEN;\nconst INVALID_AUTHORIZATION = {\n  code: 1004,\n  message: \"invalid authorization\"\n};\nexports.INVALID_AUTHORIZATION = INVALID_AUTHORIZATION;\nconst BLOCK_LISTED_USER = {\n  code: 1005,\n  message: \"invalid authorization\"\n};\nexports.BLOCK_LISTED_USER = BLOCK_LISTED_USER;\nconst USER_DOES_NOT_EXIST = {\n  code: 1006,\n  message: \"User does not exist\"\n};\nexports.USER_DOES_NOT_EXIST = USER_DOES_NOT_EXIST;\nconst INCORRECT_OTP = {\n  code: 1007,\n  message: \"Incorrect OTP\"\n};\nexports.INCORRECT_OTP = INCORRECT_OTP;\nconst INVALID_PASSWORD = {\n  code: 1008,\n  message: \"Invalid Password\"\n};\nexports.INVALID_PASSWORD = INVALID_PASSWORD;\nconst INVALID_SCHEMA = {\n  code: 1009,\n  message: \"Invalid schema or Missing Data sent\"\n};\nexports.INVALID_SCHEMA = INVALID_SCHEMA;\nconst DATA_NOT_FOUND = {\n  code: 1010,\n  message: \"Data not found\"\n};\nexports.DATA_NOT_FOUND = DATA_NOT_FOUND;\nconst MONGO_ERROR = {\n  code: 1011,\n  message: \"Error in Mongo Query\"\n};\nexports.MONGO_ERROR = MONGO_ERROR;\nconst DATA_ALREADY_EXISTS = {\n  code: 1012,\n  message: \"Data already exist\"\n};\nexports.DATA_ALREADY_EXISTS = DATA_ALREADY_EXISTS;\nconst EXPIRED_USER = {\n  code: 1016,\n  message: \"Expired user\"\n};\nexports.EXPIRED_USER = EXPIRED_USER;\nconst NOT_REGISTERED_USER = {\n  code: 1017,\n  message: \"Not registered user\"\n};\nexports.NOT_REGISTERED_USER = NOT_REGISTERED_USER;\nconst REDIS_CONNECTION_ERROR = {\n  code: 1018,\n  message: \"Redis connection error\"\n};\nexports.REDIS_CONNECTION_ERROR = REDIS_CONNECTION_ERROR;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJTlRFUk5BTF9TRVJWRVJfRVJSIiwiY29kZSIsIm1lc3NhZ2UiLCJJTlZBTElEX1JFUVVFU1QiLCJJTlZBTElEX0FQSV9LRVkiLCJJTlZBTElEX1NFU1NJT05fVE9LRU4iLCJJTlZBTElEX0FVVEhPUklaQVRJT04iLCJCTE9DS19MSVNURURfVVNFUiIsIlVTRVJfRE9FU19OT1RfRVhJU1QiLCJJTkNPUlJFQ1RfT1RQIiwiSU5WQUxJRF9QQVNTV09SRCIsIklOVkFMSURfU0NIRU1BIiwiREFUQV9OT1RfRk9VTkQiLCJNT05HT19FUlJPUiIsIkRBVEFfQUxSRUFEWV9FWElTVFMiLCJFWFBJUkVEX1VTRVIiLCJOT1RfUkVHSVNURVJFRF9VU0VSIiwiUkVESVNfQ09OTkVDVElPTl9FUlJPUiJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25zdGFudHMvIiwic291cmNlcyI6WyJFcnJvckNvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgSU5URVJOQUxfU0VSVkVSX0VSUiA9IHtcbiAgY29kZTogMTAwMCxcbiAgbWVzc2FnZTogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IuIFNvbWV0aGluZyB3ZW50IHdyb25nIVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfUkVRVUVTVCA9IHtcbiAgY29kZTogMTAwMSxcbiAgbWVzc2FnZTogXCJpbnZhbGlkIHJlcXVlc3RcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX0FQSV9LRVkgPSB7XG4gIGNvZGU6IDEwMDIsXG4gIG1lc3NhZ2U6IFwiaW52YWxpZCBhcGkga2V5IGlkXCIsXG59O1xuXG5leHBvcnQgY29uc3QgSU5WQUxJRF9TRVNTSU9OX1RPS0VOID0ge1xuICBjb2RlOiAxMDAzLFxuICBtZXNzYWdlOiBcImludmFsaWQgc2Vzc2lvbiB0b2tlblwiLFxufTtcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfQVVUSE9SSVpBVElPTiA9IHtcbiAgY29kZTogMTAwNCxcbiAgbWVzc2FnZTogXCJpbnZhbGlkIGF1dGhvcml6YXRpb25cIixcbn07XG5cbmV4cG9ydCBjb25zdCBCTE9DS19MSVNURURfVVNFUiA9IHtcbiAgY29kZTogMTAwNSxcbiAgbWVzc2FnZTogXCJpbnZhbGlkIGF1dGhvcml6YXRpb25cIixcbn07XG5cbmV4cG9ydCBjb25zdCBVU0VSX0RPRVNfTk9UX0VYSVNUID0ge1xuICBjb2RlOiAxMDA2LFxuICBtZXNzYWdlOiBcIlVzZXIgZG9lcyBub3QgZXhpc3RcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTkNPUlJFQ1RfT1RQID0ge1xuICBjb2RlOiAxMDA3LFxuICBtZXNzYWdlOiBcIkluY29ycmVjdCBPVFBcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX1BBU1NXT1JEID0ge1xuICBjb2RlOiAxMDA4LFxuICBtZXNzYWdlOiBcIkludmFsaWQgUGFzc3dvcmRcIixcbn07XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX1NDSEVNQSA9IHtcbiAgY29kZTogMTAwOSxcbiAgbWVzc2FnZTogXCJJbnZhbGlkIHNjaGVtYSBvciBNaXNzaW5nIERhdGEgc2VudFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IERBVEFfTk9UX0ZPVU5EID0ge1xuICBjb2RlOiAxMDEwLFxuICBtZXNzYWdlOiBcIkRhdGEgbm90IGZvdW5kXCIsXG59O1xuXG5leHBvcnQgY29uc3QgTU9OR09fRVJST1IgPSB7XG4gIGNvZGU6IDEwMTEsXG4gIG1lc3NhZ2U6IFwiRXJyb3IgaW4gTW9uZ28gUXVlcnlcIixcbn07XG5cbmV4cG9ydCBjb25zdCBEQVRBX0FMUkVBRFlfRVhJU1RTID0ge1xuICBjb2RlOiAxMDEyLFxuICBtZXNzYWdlOiBcIkRhdGEgYWxyZWFkeSBleGlzdFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IEVYUElSRURfVVNFUiA9IHtcbiAgY29kZTogMTAxNixcbiAgbWVzc2FnZTogXCJFeHBpcmVkIHVzZXJcIixcbn07XG5cbmV4cG9ydCBjb25zdCBOT1RfUkVHSVNURVJFRF9VU0VSID0ge1xuICBjb2RlOiAxMDE3LFxuICBtZXNzYWdlOiBcIk5vdCByZWdpc3RlcmVkIHVzZXJcIixcbn07XG5cbmV4cG9ydCBjb25zdCBSRURJU19DT05ORUNUSU9OX0VSUk9SID0ge1xuICBjb2RlOiAxMDE4LFxuICBtZXNzYWdlOiBcIlJlZGlzIGNvbm5lY3Rpb24gZXJyb3JcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLG1CQUFtQixHQUFHO0VBQ2pDQyxJQUFJLEVBQUUsSUFEMkI7RUFFakNDLE9BQU8sRUFBRTtBQUZ3QixDQUE1Qjs7QUFLQSxNQUFNQyxlQUFlLEdBQUc7RUFDN0JGLElBQUksRUFBRSxJQUR1QjtFQUU3QkMsT0FBTyxFQUFFO0FBRm9CLENBQXhCOztBQUtBLE1BQU1FLGVBQWUsR0FBRztFQUM3QkgsSUFBSSxFQUFFLElBRHVCO0VBRTdCQyxPQUFPLEVBQUU7QUFGb0IsQ0FBeEI7O0FBS0EsTUFBTUcscUJBQXFCLEdBQUc7RUFDbkNKLElBQUksRUFBRSxJQUQ2QjtFQUVuQ0MsT0FBTyxFQUFFO0FBRjBCLENBQTlCOztBQUtBLE1BQU1JLHFCQUFxQixHQUFHO0VBQ25DTCxJQUFJLEVBQUUsSUFENkI7RUFFbkNDLE9BQU8sRUFBRTtBQUYwQixDQUE5Qjs7QUFLQSxNQUFNSyxpQkFBaUIsR0FBRztFQUMvQk4sSUFBSSxFQUFFLElBRHlCO0VBRS9CQyxPQUFPLEVBQUU7QUFGc0IsQ0FBMUI7O0FBS0EsTUFBTU0sbUJBQW1CLEdBQUc7RUFDakNQLElBQUksRUFBRSxJQUQyQjtFQUVqQ0MsT0FBTyxFQUFFO0FBRndCLENBQTVCOztBQUtBLE1BQU1PLGFBQWEsR0FBRztFQUMzQlIsSUFBSSxFQUFFLElBRHFCO0VBRTNCQyxPQUFPLEVBQUU7QUFGa0IsQ0FBdEI7O0FBS0EsTUFBTVEsZ0JBQWdCLEdBQUc7RUFDOUJULElBQUksRUFBRSxJQUR3QjtFQUU5QkMsT0FBTyxFQUFFO0FBRnFCLENBQXpCOztBQUtBLE1BQU1TLGNBQWMsR0FBRztFQUM1QlYsSUFBSSxFQUFFLElBRHNCO0VBRTVCQyxPQUFPLEVBQUU7QUFGbUIsQ0FBdkI7O0FBS0EsTUFBTVUsY0FBYyxHQUFHO0VBQzVCWCxJQUFJLEVBQUUsSUFEc0I7RUFFNUJDLE9BQU8sRUFBRTtBQUZtQixDQUF2Qjs7QUFLQSxNQUFNVyxXQUFXLEdBQUc7RUFDekJaLElBQUksRUFBRSxJQURtQjtFQUV6QkMsT0FBTyxFQUFFO0FBRmdCLENBQXBCOztBQUtBLE1BQU1ZLG1CQUFtQixHQUFHO0VBQ2pDYixJQUFJLEVBQUUsSUFEMkI7RUFFakNDLE9BQU8sRUFBRTtBQUZ3QixDQUE1Qjs7QUFLQSxNQUFNYSxZQUFZLEdBQUc7RUFDMUJkLElBQUksRUFBRSxJQURvQjtFQUUxQkMsT0FBTyxFQUFFO0FBRmlCLENBQXJCOztBQUtBLE1BQU1jLG1CQUFtQixHQUFHO0VBQ2pDZixJQUFJLEVBQUUsSUFEMkI7RUFFakNDLE9BQU8sRUFBRTtBQUZ3QixDQUE1Qjs7QUFLQSxNQUFNZSxzQkFBc0IsR0FBRztFQUNwQ2hCLElBQUksRUFBRSxJQUQ4QjtFQUVwQ0MsT0FBTyxFQUFFO0FBRjJCLENBQS9CIn0=","map":{"version":3,"names":["INTERNAL_SERVER_ERR","code","message","INVALID_REQUEST","INVALID_API_KEY","INVALID_SESSION_TOKEN","INVALID_AUTHORIZATION","BLOCK_LISTED_USER","USER_DOES_NOT_EXIST","INCORRECT_OTP","INVALID_PASSWORD","INVALID_SCHEMA","DATA_NOT_FOUND","MONGO_ERROR","DATA_ALREADY_EXISTS","EXPIRED_USER","NOT_REGISTERED_USER","REDIS_CONNECTION_ERROR"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/constants/","sources":["ErrorConstants.js"],"sourcesContent":["export const INTERNAL_SERVER_ERR = {\n  code: 1000,\n  message: \"Internal Server Error. Something went wrong!\",\n};\n\nexport const INVALID_REQUEST = {\n  code: 1001,\n  message: \"invalid request\",\n};\n\nexport const INVALID_API_KEY = {\n  code: 1002,\n  message: \"invalid api key id\",\n};\n\nexport const INVALID_SESSION_TOKEN = {\n  code: 1003,\n  message: \"invalid session token\",\n};\n\nexport const INVALID_AUTHORIZATION = {\n  code: 1004,\n  message: \"invalid authorization\",\n};\n\nexport const BLOCK_LISTED_USER = {\n  code: 1005,\n  message: \"invalid authorization\",\n};\n\nexport const USER_DOES_NOT_EXIST = {\n  code: 1006,\n  message: \"User does not exist\",\n};\n\nexport const INCORRECT_OTP = {\n  code: 1007,\n  message: \"Incorrect OTP\",\n};\n\nexport const INVALID_PASSWORD = {\n  code: 1008,\n  message: \"Invalid Password\",\n};\n\nexport const INVALID_SCHEMA = {\n  code: 1009,\n  message: \"Invalid schema or Missing Data sent\",\n};\n\nexport const DATA_NOT_FOUND = {\n  code: 1010,\n  message: \"Data not found\",\n};\n\nexport const MONGO_ERROR = {\n  code: 1011,\n  message: \"Error in Mongo Query\",\n};\n\nexport const DATA_ALREADY_EXISTS = {\n  code: 1012,\n  message: \"Data already exist\",\n};\n\nexport const EXPIRED_USER = {\n  code: 1016,\n  message: \"Expired user\",\n};\n\nexport const NOT_REGISTERED_USER = {\n  code: 1017,\n  message: \"Not registered user\",\n};\n\nexport const REDIS_CONNECTION_ERROR = {\n  code: 1018,\n  message: \"Redis connection error\",\n};\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG;EACjCC,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMC,eAAe,GAAG;EAC7BF,IAAI,EAAE,IADuB;EAE7BC,OAAO,EAAE;AAFoB,CAAxB;;AAKA,MAAME,eAAe,GAAG;EAC7BH,IAAI,EAAE,IADuB;EAE7BC,OAAO,EAAE;AAFoB,CAAxB;;AAKA,MAAMG,qBAAqB,GAAG;EACnCJ,IAAI,EAAE,IAD6B;EAEnCC,OAAO,EAAE;AAF0B,CAA9B;;AAKA,MAAMI,qBAAqB,GAAG;EACnCL,IAAI,EAAE,IAD6B;EAEnCC,OAAO,EAAE;AAF0B,CAA9B;;AAKA,MAAMK,iBAAiB,GAAG;EAC/BN,IAAI,EAAE,IADyB;EAE/BC,OAAO,EAAE;AAFsB,CAA1B;;AAKA,MAAMM,mBAAmB,GAAG;EACjCP,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMO,aAAa,GAAG;EAC3BR,IAAI,EAAE,IADqB;EAE3BC,OAAO,EAAE;AAFkB,CAAtB;;AAKA,MAAMQ,gBAAgB,GAAG;EAC9BT,IAAI,EAAE,IADwB;EAE9BC,OAAO,EAAE;AAFqB,CAAzB;;AAKA,MAAMS,cAAc,GAAG;EAC5BV,IAAI,EAAE,IADsB;EAE5BC,OAAO,EAAE;AAFmB,CAAvB;;AAKA,MAAMU,cAAc,GAAG;EAC5BX,IAAI,EAAE,IADsB;EAE5BC,OAAO,EAAE;AAFmB,CAAvB;;AAKA,MAAMW,WAAW,GAAG;EACzBZ,IAAI,EAAE,IADmB;EAEzBC,OAAO,EAAE;AAFgB,CAApB;;AAKA,MAAMY,mBAAmB,GAAG;EACjCb,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMa,YAAY,GAAG;EAC1Bd,IAAI,EAAE,IADoB;EAE1BC,OAAO,EAAE;AAFiB,CAArB;;AAKA,MAAMc,mBAAmB,GAAG;EACjCf,IAAI,EAAE,IAD2B;EAEjCC,OAAO,EAAE;AAFwB,CAA5B;;AAKA,MAAMe,sBAAsB,GAAG;EACpChB,IAAI,EAAE,IAD8B;EAEpCC,OAAO,EAAE;AAF2B,CAA/B"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/AbstractModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mongoUpsertOne = exports.mongoUpdateOne = exports.mongoUpdateMany = exports.mongoInsertOne = exports.mongoInsertMany = exports.mongoFindWithSort = exports.mongoFindOneWithOutLean = exports.mongoFindOneAndUpdate = exports.mongoFindOneAndRemove = exports.mongoFindOne = exports.mongoFindMany = exports.mongoFindCursor = exports.mongoDistinct = exports.mongoDeleteOne = exports.mongoDeleteMany = exports.mongoCount = exports.mongoAggregate = void 0;\n\nconst mongoFindOne = async (col, findCondition, selectCondition = {}) => {\n  const result = await col.findOne(findCondition).select(selectCondition).lean().exec();\n  return result;\n};\n\nexports.mongoFindOne = mongoFindOne;\n\nconst mongoFindOneWithOutLean = async (col, findCondition, selectCondition = {}) => {\n  const result = await col.findOne(findCondition).select(selectCondition).exec();\n  return result;\n};\n\nexports.mongoFindOneWithOutLean = mongoFindOneWithOutLean;\n\nconst mongoFindWithSort = async (col, findCondition, selectCondition = {}, limit = 0, sortCondition = {\n  _id: -1\n}) => {\n  const result = await col.find(findCondition).select(selectCondition).sort(sortCondition).limit(limit).lean().exec();\n  return result;\n};\n\nexports.mongoFindWithSort = mongoFindWithSort;\n\nconst mongoFindMany = async (col, findCondition, selectCondition = {}, limit = 0) => {\n  const result = await col.find(findCondition).select(selectCondition).limit(limit).lean().exec();\n  return result;\n};\n\nexports.mongoFindMany = mongoFindMany;\n\nconst mongoFindCursor = async (col, findCondition, selectCondition = {}, limit = 0) => {\n  const cursor = await col.find(findCondition).select(selectCondition).limit(limit).lean().cursor();\n  return cursor;\n};\n\nexports.mongoFindCursor = mongoFindCursor;\n\nconst mongoCount = async (col, findCondition) => {\n  const count = await col.count(findCondition);\n  return count;\n};\n\nexports.mongoCount = mongoCount;\n\nconst mongoUpdateOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition);\n};\n\nexports.mongoUpdateOne = mongoUpdateOne;\n\nconst mongoUpsertOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, {\n    upsert: true\n  });\n};\n\nexports.mongoUpsertOne = mongoUpsertOne;\n\nconst mongoUpdateMany = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, {\n    multi: true\n  });\n};\n\nexports.mongoUpdateMany = mongoUpdateMany;\n\nconst mongoAggregate = async (col, aggregateCondition) => {\n  const result = col.aggregate(aggregateCondition);\n  return result;\n};\n\nexports.mongoAggregate = mongoAggregate;\n\nconst mongoDeleteOne = async (col, findCondition) => {\n  await col.deleteOne(findCondition);\n};\n\nexports.mongoDeleteOne = mongoDeleteOne;\n\nconst mongoDeleteMany = async (col, findCondition) => {\n  await col.deleteMany(findCondition);\n};\n\nexports.mongoDeleteMany = mongoDeleteMany;\n\nconst mongoInsertOne = async (col, doc) => {\n  const moongooseDoc = col(doc);\n  await moongooseDoc.save();\n};\n\nexports.mongoInsertOne = mongoInsertOne;\n\nconst mongoInsertMany = async (col, docs) => {\n  await col.insertMany(docs);\n};\n\nexports.mongoInsertMany = mongoInsertMany;\n\nconst mongoDistinct = async (col, string, findCondition) => {\n  const result = await col.distinct(string, findCondition);\n  return result;\n};\n\nexports.mongoDistinct = mongoDistinct;\n\nconst mongoFindOneAndUpdate = async (col, findCondition, updateCondition, returnCondition) => {\n  const result = await col.findOneAndUpdate(findCondition, updateCondition, returnCondition);\n  return result;\n};\n\nexports.mongoFindOneAndUpdate = mongoFindOneAndUpdate;\n\nconst mongoFindOneAndRemove = async (col, findCondition) => {\n  const result = await col.findOneAndRemove(findCondition);\n  return result;\n};\n\nexports.mongoFindOneAndRemove = mongoFindOneAndRemove;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb0ZpbmRPbmUiLCJjb2wiLCJmaW5kQ29uZGl0aW9uIiwic2VsZWN0Q29uZGl0aW9uIiwicmVzdWx0IiwiZmluZE9uZSIsInNlbGVjdCIsImxlYW4iLCJleGVjIiwibW9uZ29GaW5kT25lV2l0aE91dExlYW4iLCJtb25nb0ZpbmRXaXRoU29ydCIsImxpbWl0Iiwic29ydENvbmRpdGlvbiIsIl9pZCIsImZpbmQiLCJzb3J0IiwibW9uZ29GaW5kTWFueSIsIm1vbmdvRmluZEN1cnNvciIsImN1cnNvciIsIm1vbmdvQ291bnQiLCJjb3VudCIsIm1vbmdvVXBkYXRlT25lIiwidXBkYXRlQ29uZGl0aW9uIiwidXBkYXRlT25lIiwibW9uZ29VcHNlcnRPbmUiLCJ1cHNlcnQiLCJtb25nb1VwZGF0ZU1hbnkiLCJtdWx0aSIsIm1vbmdvQWdncmVnYXRlIiwiYWdncmVnYXRlQ29uZGl0aW9uIiwiYWdncmVnYXRlIiwibW9uZ29EZWxldGVPbmUiLCJkZWxldGVPbmUiLCJtb25nb0RlbGV0ZU1hbnkiLCJkZWxldGVNYW55IiwibW9uZ29JbnNlcnRPbmUiLCJkb2MiLCJtb29uZ29vc2VEb2MiLCJzYXZlIiwibW9uZ29JbnNlcnRNYW55IiwiZG9jcyIsImluc2VydE1hbnkiLCJtb25nb0Rpc3RpbmN0Iiwic3RyaW5nIiwiZGlzdGluY3QiLCJtb25nb0ZpbmRPbmVBbmRVcGRhdGUiLCJyZXR1cm5Db25kaXRpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwibW9uZ29GaW5kT25lQW5kUmVtb3ZlIiwiZmluZE9uZUFuZFJlbW92ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9tb2RlbHMvIiwic291cmNlcyI6WyJBYnN0cmFjdE1vZGVscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbW9uZ29GaW5kT25lID0gYXN5bmMgKFxuICBjb2wsXG4gIGZpbmRDb25kaXRpb24sXG4gIHNlbGVjdENvbmRpdGlvbiA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbFxuICAgIC5maW5kT25lKGZpbmRDb25kaXRpb24pXG4gICAgLnNlbGVjdChzZWxlY3RDb25kaXRpb24pXG4gICAgLmxlYW4oKVxuICAgIC5leGVjKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29GaW5kT25lV2l0aE91dExlYW4gPSBhc3luYyAoXG4gIGNvbCxcbiAgZmluZENvbmRpdGlvbixcbiAgc2VsZWN0Q29uZGl0aW9uID0ge30sXG4pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sXG4gICAgLmZpbmRPbmUoZmluZENvbmRpdGlvbilcbiAgICAuc2VsZWN0KHNlbGVjdENvbmRpdGlvbilcbiAgICAuZXhlYygpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRmluZFdpdGhTb3J0ID0gYXN5bmMgKFxuICBjb2wsXG4gIGZpbmRDb25kaXRpb24sXG4gIHNlbGVjdENvbmRpdGlvbiA9IHt9LFxuICBsaW1pdCA9IDAsXG4gIHNvcnRDb25kaXRpb24gPSB7IF9pZDogLTEgfSxcbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xcbiAgICAuZmluZChmaW5kQ29uZGl0aW9uKVxuICAgIC5zZWxlY3Qoc2VsZWN0Q29uZGl0aW9uKVxuICAgIC5zb3J0KHNvcnRDb25kaXRpb24pXG4gICAgLmxpbWl0KGxpbWl0KVxuICAgIC5sZWFuKClcbiAgICAuZXhlYygpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRmluZE1hbnkgPSBhc3luYyAoXG4gIGNvbCxcbiAgZmluZENvbmRpdGlvbixcbiAgc2VsZWN0Q29uZGl0aW9uID0ge30sXG4gIGxpbWl0ID0gMCxcbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xcbiAgICAuZmluZChmaW5kQ29uZGl0aW9uKVxuICAgIC5zZWxlY3Qoc2VsZWN0Q29uZGl0aW9uKVxuICAgIC5saW1pdChsaW1pdClcbiAgICAubGVhbigpXG4gICAgLmV4ZWMoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0ZpbmRDdXJzb3IgPSBhc3luYyAoXG4gIGNvbCxcbiAgZmluZENvbmRpdGlvbixcbiAgc2VsZWN0Q29uZGl0aW9uID0ge30sXG4gIGxpbWl0ID0gMCxcbikgPT4ge1xuICBjb25zdCBjdXJzb3IgPSBhd2FpdCBjb2xcbiAgICAuZmluZChmaW5kQ29uZGl0aW9uKVxuICAgIC5zZWxlY3Qoc2VsZWN0Q29uZGl0aW9uKVxuICAgIC5saW1pdChsaW1pdClcbiAgICAubGVhbigpXG4gICAgLmN1cnNvcigpO1xuICByZXR1cm4gY3Vyc29yO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvQ291bnQgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uKSA9PiB7XG4gIGNvbnN0IGNvdW50ID0gYXdhaXQgY29sLmNvdW50KGZpbmRDb25kaXRpb24pO1xuICByZXR1cm4gY291bnQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29VcGRhdGVPbmUgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24pID0+IHtcbiAgYXdhaXQgY29sLnVwZGF0ZU9uZShmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24pO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvVXBzZXJ0T25lID0gYXN5bmMgKGNvbCwgZmluZENvbmRpdGlvbiwgdXBkYXRlQ29uZGl0aW9uKSA9PiB7XG4gIGF3YWl0IGNvbC51cGRhdGVPbmUoZmluZENvbmRpdGlvbiwgdXBkYXRlQ29uZGl0aW9uLCB7IHVwc2VydDogdHJ1ZSB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb1VwZGF0ZU1hbnkgPSBhc3luYyAoY29sLCBmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24pID0+IHtcbiAgYXdhaXQgY29sLnVwZGF0ZU9uZShmaW5kQ29uZGl0aW9uLCB1cGRhdGVDb25kaXRpb24sIHsgbXVsdGk6IHRydWUgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29BZ2dyZWdhdGUgPSBhc3luYyAoY29sLCBhZ2dyZWdhdGVDb25kaXRpb24pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gY29sLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVDb25kaXRpb24pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRGVsZXRlT25lID0gYXN5bmMgKGNvbCwgZmluZENvbmRpdGlvbikgPT4ge1xuICBhd2FpdCBjb2wuZGVsZXRlT25lKGZpbmRDb25kaXRpb24pO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRGVsZXRlTWFueSA9IGFzeW5jIChjb2wsIGZpbmRDb25kaXRpb24pID0+IHtcbiAgYXdhaXQgY29sLmRlbGV0ZU1hbnkoZmluZENvbmRpdGlvbik7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29JbnNlcnRPbmUgPSBhc3luYyAoY29sLCBkb2MpID0+IHtcbiAgY29uc3QgbW9vbmdvb3NlRG9jID0gY29sKGRvYyk7XG4gIGF3YWl0IG1vb25nb29zZURvYy5zYXZlKCk7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29JbnNlcnRNYW55ID0gYXN5bmMgKGNvbCwgZG9jcykgPT4ge1xuICBhd2FpdCBjb2wuaW5zZXJ0TWFueShkb2NzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb25nb0Rpc3RpbmN0ID0gYXN5bmMgKGNvbCwgc3RyaW5nLCBmaW5kQ29uZGl0aW9uKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbC5kaXN0aW5jdChzdHJpbmcsIGZpbmRDb25kaXRpb24pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vbmdvRmluZE9uZUFuZFVwZGF0ZSA9IGFzeW5jIChcbiAgY29sLFxuICBmaW5kQ29uZGl0aW9uLFxuICB1cGRhdGVDb25kaXRpb24sXG4gIHJldHVybkNvbmRpdGlvbixcbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2wuZmluZE9uZUFuZFVwZGF0ZShcbiAgICBmaW5kQ29uZGl0aW9uLFxuICAgIHVwZGF0ZUNvbmRpdGlvbixcbiAgICByZXR1cm5Db25kaXRpb24sXG4gICk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbW9uZ29GaW5kT25lQW5kUmVtb3ZlID0gYXN5bmMgKGNvbCwgZmluZENvbmRpdGlvbikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2wuZmluZE9uZUFuZFJlbW92ZShmaW5kQ29uZGl0aW9uKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxNQUFNQSxZQUFZLEdBQUcsT0FDMUJDLEdBRDBCLEVBRTFCQyxhQUYwQixFQUcxQkMsZUFBZSxHQUFHLEVBSFEsS0FJdkI7RUFDSCxNQUFNQyxNQUFNLEdBQUcsTUFBTUgsR0FBRyxDQUNyQkksT0FEa0IsQ0FDVkgsYUFEVSxFQUVsQkksTUFGa0IsQ0FFWEgsZUFGVyxFQUdsQkksSUFIa0IsR0FJbEJDLElBSmtCLEVBQXJCO0VBS0EsT0FBT0osTUFBUDtBQUNELENBWE07Ozs7QUFhQSxNQUFNSyx1QkFBdUIsR0FBRyxPQUNyQ1IsR0FEcUMsRUFFckNDLGFBRnFDLEVBR3JDQyxlQUFlLEdBQUcsRUFIbUIsS0FJbEM7RUFDSCxNQUFNQyxNQUFNLEdBQUcsTUFBTUgsR0FBRyxDQUNyQkksT0FEa0IsQ0FDVkgsYUFEVSxFQUVsQkksTUFGa0IsQ0FFWEgsZUFGVyxFQUdsQkssSUFIa0IsRUFBckI7RUFJQSxPQUFPSixNQUFQO0FBQ0QsQ0FWTTs7OztBQVlBLE1BQU1NLGlCQUFpQixHQUFHLE9BQy9CVCxHQUQrQixFQUUvQkMsYUFGK0IsRUFHL0JDLGVBQWUsR0FBRyxFQUhhLEVBSS9CUSxLQUFLLEdBQUcsQ0FKdUIsRUFLL0JDLGFBQWEsR0FBRztFQUFFQyxHQUFHLEVBQUUsQ0FBQztBQUFSLENBTGUsS0FNNUI7RUFDSCxNQUFNVCxNQUFNLEdB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","map":{"version":3,"names":["mongoFindOne","col","findCondition","selectCondition","result","findOne","select","lean","exec","mongoFindOneWithOutLean","mongoFindWithSort","limit","sortCondition","_id","find","sort","mongoFindMany","mongoFindCursor","cursor","mongoCount","count","mongoUpdateOne","updateCondition","updateOne","mongoUpsertOne","upsert","mongoUpdateMany","multi","mongoAggregate","aggregateCondition","aggregate","mongoDeleteOne","deleteOne","mongoDeleteMany","deleteMany","mongoInsertOne","doc","moongooseDoc","save","mongoInsertMany","docs","insertMany","mongoDistinct","string","distinct","mongoFindOneAndUpdate","returnCondition","findOneAndUpdate","mongoFindOneAndRemove","findOneAndRemove"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/","sources":["AbstractModels.js"],"sourcesContent":["export const mongoFindOne = async (\n  col,\n  findCondition,\n  selectCondition = {},\n) => {\n  const result = await col\n    .findOne(findCondition)\n    .select(selectCondition)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindOneWithOutLean = async (\n  col,\n  findCondition,\n  selectCondition = {},\n) => {\n  const result = await col\n    .findOne(findCondition)\n    .select(selectCondition)\n    .exec();\n  return result;\n};\n\nexport const mongoFindWithSort = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n  sortCondition = { _id: -1 },\n) => {\n  const result = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .sort(sortCondition)\n    .limit(limit)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindMany = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n) => {\n  const result = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .limit(limit)\n    .lean()\n    .exec();\n  return result;\n};\n\nexport const mongoFindCursor = async (\n  col,\n  findCondition,\n  selectCondition = {},\n  limit = 0,\n) => {\n  const cursor = await col\n    .find(findCondition)\n    .select(selectCondition)\n    .limit(limit)\n    .lean()\n    .cursor();\n  return cursor;\n};\n\nexport const mongoCount = async (col, findCondition) => {\n  const count = await col.count(findCondition);\n  return count;\n};\n\nexport const mongoUpdateOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition);\n};\n\nexport const mongoUpsertOne = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, { upsert: true });\n};\n\nexport const mongoUpdateMany = async (col, findCondition, updateCondition) => {\n  await col.updateOne(findCondition, updateCondition, { multi: true });\n};\n\nexport const mongoAggregate = async (col, aggregateCondition) => {\n  const result = col.aggregate(aggregateCondition);\n  return result;\n};\n\nexport const mongoDeleteOne = async (col, findCondition) => {\n  await col.deleteOne(findCondition);\n};\n\nexport const mongoDeleteMany = async (col, findCondition) => {\n  await col.deleteMany(findCondition);\n};\n\nexport const mongoInsertOne = async (col, doc) => {\n  const moongooseDoc = col(doc);\n  await moongooseDoc.save();\n};\n\nexport const mongoInsertMany = async (col, docs) => {\n  await col.insertMany(docs);\n};\n\nexport const mongoDistinct = async (col, string, findCondition) => {\n  const result = await col.distinct(string, findCondition);\n  return result;\n};\n\nexport const mongoFindOneAndUpdate = async (\n  col,\n  findCondition,\n  updateCondition,\n  returnCondition,\n) => {\n  const result = await col.findOneAndUpdate(\n    findCondition,\n    updateCondition,\n    returnCondition,\n  );\n  return result;\n};\n\nexport const mongoFindOneAndRemove = async (col, findCondition) => {\n  const result = await col.findOneAndRemove(findCondition);\n  return result;\n};\n"],"mappings":"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"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Users = exports.Organisations = exports.IVRVirtualProfile = exports.Clients = exports.BusinessVirtualNumbers = exports.BusinessDIDNumbers = exports.BusinessCalls = void 0;\n\nvar mainDbConnection = _interopRequireWildcard(require(\"../../connections/MainDb\"));\n\nvar _ClientsSchema = _interopRequireDefault(require(\"./ClientsSchema\"));\n\nvar _UsersSchema = _interopRequireDefault(require(\"./UsersSchema\"));\n\nvar _OrganisationSchema = _interopRequireDefault(require(\"./OrganisationSchema\"));\n\nvar _IVRVirtualprofileSchema = _interopRequireDefault(require(\"./IVRVirtualprofileSchema\"));\n\nvar _BussinesscallSchema = _interopRequireDefault(require(\"./BussinesscallSchema\"));\n\nvar _BussinessDIDNumbersSchema = _interopRequireDefault(require(\"./BussinessDIDNumbersSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst conn = mainDbConnection.getDbInstance();\nconst Users = conn.model(\"Users\", _UsersSchema.default, \"Users\"); // @hotfix: Collection name is Client (singular)\n// We can use plural name through out the code (Collection name can be changed while migrating)\n\nexports.Users = Users;\nconst Clients = conn.model(\"Clients\", _ClientsSchema.default, \"Client\");\nexports.Clients = Clients;\nconst Organisations = conn.model(\"Organisations\", _OrganisationSchema.default, \"Organisations\");\nexports.Organisations = Organisations;\nconst IVRVirtualProfile = conn.model(\"IVRVirtualProfile\", _IVRVirtualprofileSchema.default, \"IVRVirtualProfile\");\nexports.IVRVirtualProfile = IVRVirtualProfile;\nconst BusinessCalls = conn.model(\"BusinessCalls\", _BussinesscallSchema.default, \"BusinessCalls\");\nexports.BusinessCalls = BusinessCalls;\nconst BusinessVirtualNumbers = conn.model(\"BusinessVirtualNumbers\", _BussinessDIDNumbersSchema.default, \"BusinessVirtualNumbers\");\nexports.BusinessVirtualNumbers = BusinessVirtualNumbers;\nconst BusinessDIDNumbers = conn.model('BusinessDIDNumbers', _BussinessDIDNumbersSchema.default, 'BusinessDIDNumbers');\nexports.BusinessDIDNumbers = BusinessDIDNumbers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwibWFpbkRiQ29ubmVjdGlvbiIsImdldERiSW5zdGFuY2UiLCJVc2VycyIsIm1vZGVsIiwiVXNlcnNTY2hlbWEiLCJDbGllbnRzIiwiQ2xpZW50c1NjaGVtYSIsIk9yZ2FuaXNhdGlvbnMiLCJPcmdhbmlzYXRpb25TY2hlbWEiLCJJVlJWaXJ0dWFsUHJvZmlsZSIsIklWUlZpcnR1YWxwcm9maWxlU2NoZW1hIiwiQnVzaW5lc3NDYWxscyIsIkJ1c3NpbmVzc2NhbGxTY2hlbWEiLCJCdXNpbmVzc1ZpcnR1YWxOdW1iZXJzIiwiQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hIiwiQnVzaW5lc3NESUROdW1iZXJzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYWluRGJDb25uZWN0aW9uIGZyb20gXCIuLi8uLi9jb25uZWN0aW9ucy9NYWluRGJcIjtcbmltcG9ydCBDbGllbnRzU2NoZW1hIGZyb20gXCIuL0NsaWVudHNTY2hlbWFcIjtcbmltcG9ydCBVc2Vyc1NjaGVtYSBmcm9tIFwiLi9Vc2Vyc1NjaGVtYVwiO1xuaW1wb3J0IE9yZ2FuaXNhdGlvblNjaGVtYSBmcm9tIFwiLi9PcmdhbmlzYXRpb25TY2hlbWFcIjtcbmltcG9ydCBJVlJWaXJ0dWFscHJvZmlsZVNjaGVtYSBmcm9tIFwiLi9JVlJWaXJ0dWFscHJvZmlsZVNjaGVtYVwiO1xuaW1wb3J0IEJ1c3NpbmVzc2NhbGxTY2hlbWEgZnJvbSBcIi4vQnVzc2luZXNzY2FsbFNjaGVtYVwiO1xuaW1wb3J0IEJ1c2luZXNzRElETnVtYmVyc1NjaGVtYSBmcm9tIFwiLi9CdXNzaW5lc3NESUROdW1iZXJzU2NoZW1hXCI7XG5cbmNvbnN0IGNvbm4gPSBtYWluRGJDb25uZWN0aW9uLmdldERiSW5zdGFuY2UoKTtcbmV4cG9ydCBjb25zdCBVc2VycyA9IGNvbm4ubW9kZWwoXCJVc2Vyc1wiLCBVc2Vyc1NjaGVtYSwgXCJVc2Vyc1wiKTtcbi8vIEBob3RmaXg6IENvbGxlY3Rpb24gbmFtZSBpcyBDbGllbnQgKHNpbmd1bGFyKVxuLy8gV2UgY2FuIHVzZSBwbHVyYWwgbmFtZSB0aHJvdWdoIG91dCB0aGUgY29kZSAoQ29sbGVjdGlvbiBuYW1lIGNhbiBiZSBjaGFuZ2VkIHdoaWxlIG1pZ3JhdGluZylcbmV4cG9ydCBjb25zdCBDbGllbnRzID0gY29ubi5tb2RlbChcIkNsaWVudHNcIiwgQ2xpZW50c1NjaGVtYSwgXCJDbGllbnRcIik7XG5cbmV4cG9ydCBjb25zdCBPcmdhbmlzYXRpb25zID0gY29ubi5tb2RlbChcIk9yZ2FuaXNhdGlvbnNcIiwgT3JnYW5pc2F0aW9uU2NoZW1hLCBcIk9yZ2FuaXNhdGlvbnNcIik7XG5leHBvcnQgY29uc3QgSVZSVmlydHVhbFByb2ZpbGUgPSBjb25uLm1vZGVsKFwiSVZSVmlydHVhbFByb2ZpbGVcIiwgSVZSVmlydHVhbHByb2ZpbGVTY2hlbWEsIFwiSVZSVmlydHVhbFByb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgQnVzaW5lc3NDYWxscyA9IGNvbm4ubW9kZWwoXCJCdXNpbmVzc0NhbGxzXCIsIEJ1c3NpbmVzc2NhbGxTY2hlbWEsIFwiQnVzaW5lc3NDYWxsc1wiKTtcbmV4cG9ydCBjb25zdCBCdXNpbmVzc1ZpcnR1YWxOdW1iZXJzID0gY29ubi5tb2RlbChcIkJ1c2luZXNzVmlydHVhbE51bWJlcnNcIiwgQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hLCBcIkJ1c2luZXNzVmlydHVhbE51bWJlcnNcIik7XG5leHBvcnQgY29uc3QgQnVzaW5lc3NESUROdW1iZXJzID0gY29ubi5tb2RlbChcbiAgICAnQnVzaW5lc3NESUROdW1iZXJzJywgQnVzaW5lc3NESUROdW1iZXJzU2NoZW1hLCAnQnVzaW5lc3NESUROdW1iZXJzJ1xuICApOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLElBQUksR0FBR0MsZ0JBQWdCLENBQUNDLGFBQWpCLEVBQWI7QUFDTyxNQUFNQyxLQUFLLEdBQUdILElBQUksQ0FBQ0ksS0FBTCxDQUFXLE9BQVgsRUFBb0JDLG9CQUFwQixFQUFpQyxPQUFqQyxDQUFkLEMsQ0FDUDtBQUNBOzs7QUFDTyxNQUFNQyxPQUFPLEdBQUdOLElBQUksQ0FBQ0ksS0FBTCxDQUFXLFNBQVgsRUFBc0JHLHNCQUF0QixFQUFxQyxRQUFyQyxDQUFoQjs7QUFFQSxNQUFNQyxhQUFhLEdBQUdSLElBQUksQ0FBQ0ksS0FBTCxDQUFXLGVBQVgsRUFBNEJLLDJCQUE1QixFQUFnRCxlQUFoRCxDQUF0Qjs7QUFDQSxNQUFNQyxpQkFBaUIsR0FBR1YsSUFBSSxDQUFDSSxLQUFMLENBQVcsbUJBQVgsRUFBZ0NPLGdDQUFoQyxFQUF5RCxtQkFBekQsQ0FBMUI7O0FBQ0EsTUFBTUMsYUFBYSxHQUFHWixJQUFJLENBQUNJLEtBQUwsQ0FBVyxlQUFYLEVBQTRCUyw0QkFBNUIsRUFBaUQsZUFBakQsQ0FBdEI7O0FBQ0EsTUFBTUMsc0JBQXNCLEdBQUdkLElBQUksQ0FBQ0ksS0FBTCxDQUFXLHdCQUFYLEVBQXFDVyxrQ0FBckMsRUFBK0Qsd0JBQS9ELENBQS9COztBQUNBLE1BQU1DLGtCQUFrQixHQUFHaEIsSUFBSSxDQUFDSSxLQUFMLENBQzlCLG9CQUQ4QixFQUNSVyxrQ0FEUSxFQUNrQixvQkFEbEIsQ0FBM0IifQ==","map":{"version":3,"names":["conn","mainDbConnection","getDbInstance","Users","model","UsersSchema","Clients","ClientsSchema","Organisations","OrganisationSchema","IVRVirtualProfile","IVRVirtualprofileSchema","BusinessCalls","BussinesscallSchema","BusinessVirtualNumbers","BusinessDIDNumbersSchema","BusinessDIDNumbers"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["index.js"],"sourcesContent":["import * as mainDbConnection from \"../../connections/MainDb\";\nimport ClientsSchema from \"./ClientsSchema\";\nimport UsersSchema from \"./UsersSchema\";\nimport OrganisationSchema from \"./OrganisationSchema\";\nimport IVRVirtualprofileSchema from \"./IVRVirtualprofileSchema\";\nimport BussinesscallSchema from \"./BussinesscallSchema\";\nimport BusinessDIDNumbersSchema from \"./BussinessDIDNumbersSchema\";\n\nconst conn = mainDbConnection.getDbInstance();\nexport const Users = conn.model(\"Users\", UsersSchema, \"Users\");\n// @hotfix: Collection name is Client (singular)\n// We can use plural name through out the code (Collection name can be changed while migrating)\nexport const Clients = conn.model(\"Clients\", ClientsSchema, \"Client\");\n\nexport const Organisations = conn.model(\"Organisations\", OrganisationSchema, \"Organisations\");\nexport const IVRVirtualProfile = conn.model(\"IVRVirtualProfile\", IVRVirtualprofileSchema, \"IVRVirtualProfile\");\nexport const BusinessCalls = conn.model(\"BusinessCalls\", BussinesscallSchema, \"BusinessCalls\");\nexport const BusinessVirtualNumbers = conn.model(\"BusinessVirtualNumbers\", BusinessDIDNumbersSchema, \"BusinessVirtualNumbers\");\nexport const BusinessDIDNumbers = conn.model(\n    'BusinessDIDNumbers', BusinessDIDNumbersSchema, 'BusinessDIDNumbers'\n  );"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,IAAI,GAAGC,gBAAgB,CAACC,aAAjB,EAAb;AACO,MAAMC,KAAK,GAAGH,IAAI,CAACI,KAAL,CAAW,OAAX,EAAoBC,oBAApB,EAAiC,OAAjC,CAAd,C,CACP;AACA;;;AACO,MAAMC,OAAO,GAAGN,IAAI,CAACI,KAAL,CAAW,SAAX,EAAsBG,sBAAtB,EAAqC,QAArC,CAAhB;;AAEA,MAAMC,aAAa,GAAGR,IAAI,CAACI,KAAL,CAAW,eAAX,EAA4BK,2BAA5B,EAAgD,eAAhD,CAAtB;;AACA,MAAMC,iBAAiB,GAAGV,IAAI,CAACI,KAAL,CAAW,mBAAX,EAAgCO,gCAAhC,EAAyD,mBAAzD,CAA1B;;AACA,MAAMC,aAAa,GAAGZ,IAAI,CAACI,KAAL,CAAW,eAAX,EAA4BS,4BAA5B,EAAiD,eAAjD,CAAtB;;AACA,MAAMC,sBAAsB,GAAGd,IAAI,CAACI,KAAL,CAAW,wBAAX,EAAqCW,kCAArC,EAA+D,wBAA/D,CAA/B;;AACA,MAAMC,kBAAkB,GAAGhB,IAAI,CAACI,KAAL,CAC9B,oBAD8B,EACRW,kCADQ,EACkB,oBADlB,CAA3B"}},"mtime":1653907779801},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/ClientsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst ClientsSchema = new _mongoose.Schema({\n  metro_auth_key: {\n    type: String\n  }\n});\nvar _default = ClientsSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnRzU2NoZW1hIiwiU2NoZW1hIiwibWV0cm9fYXV0aF9rZXkiLCJ0eXBlIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJDbGllbnRzU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDbGllbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG1ldHJvX2F1dGhfa2V5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENsaWVudHNTY2hlbWE7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMvQkMsY0FBYyxFQUFFO0lBQ2RDLElBQUksRUFBRUM7RUFEUTtBQURlLENBQVgsQ0FBdEI7ZUFNZUosYSJ9","map":{"version":3,"names":["ClientsSchema","Schema","metro_auth_key","type","String"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["ClientsSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst ClientsSchema = new Schema({\n  metro_auth_key: {\n    type: String,\n  },\n});\n\nexport default ClientsSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;EAC/BC,cAAc,EAAE;IACdC,IAAI,EAAEC;EADQ;AADe,CAAX,CAAtB;eAMeJ,a"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/UsersSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst UsersSchema = new _mongoose.Schema({\n  password: {\n    type: String\n  },\n  firstName: {\n    type: String\n  },\n  lastName: {\n    required: false,\n    type: String\n  },\n  mobileNo: {\n    type: String\n  },\n  alternateMobileNo: {\n    type: String\n  },\n  email: {\n    type: String\n  },\n  clientId: {\n    required: true,\n    type: String\n  },\n  userType: {\n    type: Array,\n    required: true\n  },\n  sessionToken: {\n    type: String\n  },\n  isBlockedUser: {\n    type: Boolean\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nvar _default = UsersSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2Vyc1NjaGVtYSIsIlNjaGVtYSIsInBhc3N3b3JkIiwidHlwZSIsIlN0cmluZyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicmVxdWlyZWQiLCJtb2JpbGVObyIsImFsdGVybmF0ZU1vYmlsZU5vIiwiZW1haWwiLCJjbGllbnRJZCIsInVzZXJUeXBlIiwiQXJyYXkiLCJzZXNzaW9uVG9rZW4iLCJpc0Jsb2NrZWRVc2VyIiwiQm9vbGVhbiIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJVc2Vyc1NjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlcnNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGZpcnN0TmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgbGFzdE5hbWU6IHtcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBtb2JpbGVObzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgYWx0ZXJuYXRlTW9iaWxlTm86IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBjbGllbnRJZDoge1xuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgdXNlclR5cGU6IHtcbiAgICB0eXBlOiBBcnJheSxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgc2Vzc2lvblRva2VuOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBpc0Jsb2NrZWRVc2VyOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgfSxcbiAgY3JlYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vdyxcbiAgfSxcbiAgdXBkYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vdyxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBVc2Vyc1NjaGVtYTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzdCQyxRQUFRLEVBQUU7SUFDUkMsSUFBSSxFQUFFQztFQURFLENBRG1CO0VBSTdCQyxTQUFTLEVBQUU7SUFDVEYsSUFBSSxFQUFFQztFQURHLENBSmtCO0VBTzdCRSxRQUFRLEVBQUU7SUFDUkMsUUFBUSxFQUFFLEtBREY7SUFFUkosSUFBSSxFQUFFQztFQUZFLENBUG1CO0VBVzdCSSxRQUFRLEVBQUU7SUFDUkwsSUFBSSxFQUFFQztFQURFLENBWG1CO0VBYzdCSyxpQkFBaUIsRUFBRTtJQUNqQk4sSUFBSSxFQUFFQztFQURXLENBZFU7RUFpQjdCTSxLQUFLLEVBQUU7SUFDTFAsSUFBSSxFQUFFQztFQURELENBakJzQjtFQW9CN0JPLFFBQVEsRUFBRTtJQUNSSixRQUFRLEVBQUUsSUFERjtJQUVSSixJQUFJLEVBQUVDO0VBRkUsQ0FwQm1CO0VBd0I3QlEsUUFBUSxFQUFFO0lBQ1JULElBQUksRUFBRVUsS0FERTtJQUVSTixRQUFRLEVBQUU7RUFGRixDQXhCbUI7RUE0QjdCTyxZQUFZLEVBQUU7SUFDWlgsSUFBSSxFQUFFQztFQURNLENBNUJlO0VBK0I3QlcsYUFBYSxFQUFFO0lBQ2JaLElBQUksRUFBRWE7RUFETyxDQS9CYztFQWtDN0JDLFNBQVMsRUFBRTtJQUNUZCxJQUFJLEVBQUVlLElBREc7SUFFVEMsT0FBTyxFQUFFRCxJQUFJLENBQUNFO0VBRkwsQ0FsQ2tCO0VBc0M3QkMsU0FBUyxFQUFFO0lBQ1RsQixJQUFJLEVBQUVlLElBREc7SUFFVEMsT0FBTyxFQUFFRCxJQUFJLENBQUNFO0VBRkw7QUF0Q2tCLENBQVgsQ0FBcEI7ZUE0Q2VwQixXIn0=","map":{"version":3,"names":["UsersSchema","Schema","password","type","String","firstName","lastName","required","mobileNo","alternateMobileNo","email","clientId","userType","Array","sessionToken","isBlockedUser","Boolean","createdAt","Date","default","now","updatedAt"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["UsersSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst UsersSchema = new Schema({\n  password: {\n    type: String,\n  },\n  firstName: {\n    type: String,\n  },\n  lastName: {\n    required: false,\n    type: String,\n  },\n  mobileNo: {\n    type: String,\n  },\n  alternateMobileNo: {\n    type: String,\n  },\n  email: {\n    type: String,\n  },\n  clientId: {\n    required: true,\n    type: String,\n  },\n  userType: {\n    type: Array,\n    required: true,\n  },\n  sessionToken: {\n    type: String,\n  },\n  isBlockedUser: {\n    type: Boolean,\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now,\n  },\n});\n\nexport default UsersSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC7BC,QAAQ,EAAE;IACRC,IAAI,EAAEC;EADE,CADmB;EAI7BC,SAAS,EAAE;IACTF,IAAI,EAAEC;EADG,CAJkB;EAO7BE,QAAQ,EAAE;IACRC,QAAQ,EAAE,KADF;IAERJ,IAAI,EAAEC;EAFE,CAPmB;EAW7BI,QAAQ,EAAE;IACRL,IAAI,EAAEC;EADE,CAXmB;EAc7BK,iBAAiB,EAAE;IACjBN,IAAI,EAAEC;EADW,CAdU;EAiB7BM,KAAK,EAAE;IACLP,IAAI,EAAEC;EADD,CAjBsB;EAoB7BO,QAAQ,EAAE;IACRJ,QAAQ,EAAE,IADF;IAERJ,IAAI,EAAEC;EAFE,CApBmB;EAwB7BQ,QAAQ,EAAE;IACRT,IAAI,EAAEU,KADE;IAERN,QAAQ,EAAE;EAFF,CAxBmB;EA4B7BO,YAAY,EAAE;IACZX,IAAI,EAAEC;EADM,CA5Be;EA+B7BW,aAAa,EAAE;IACbZ,IAAI,EAAEa;EADO,CA/Bc;EAkC7BC,SAAS,EAAE;IACTd,IAAI,EAAEe,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL,CAlCkB;EAsC7BC,SAAS,EAAE;IACTlB,IAAI,EAAEe,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL;AAtCkB,CAAX,CAApB;eA4CepB,W"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/Constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGGER_USER_IP_ADDRESS = exports.LOGGER_USER_DETAILS = exports.LOGGER_URL_REDIRECTION_OBJ = exports.LOGGER_RESPONSE_TIME = exports.LOGGER_RESPONSE_PAYLOAD = exports.LOGGER_REQUEST_START_TIME = exports.LOGGER_REQUEST_PAYLOAD = exports.LOGGER_CORRELATIONID = exports.LOGGER_API_ROUTE = void 0;\nconst LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexports.LOGGER_USER_DETAILS = LOGGER_USER_DETAILS;\nconst LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexports.LOGGER_REQUEST_PAYLOAD = LOGGER_REQUEST_PAYLOAD;\nconst LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexports.LOGGER_RESPONSE_PAYLOAD = LOGGER_RESPONSE_PAYLOAD;\nconst LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexports.LOGGER_REQUEST_START_TIME = LOGGER_REQUEST_START_TIME;\nconst LOGGER_API_ROUTE = \"loggerRoute\";\nexports.LOGGER_API_ROUTE = LOGGER_API_ROUTE;\nconst LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexports.LOGGER_USER_IP_ADDRESS = LOGGER_USER_IP_ADDRESS;\nconst LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexports.LOGGER_CORRELATIONID = LOGGER_CORRELATIONID;\nconst LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexports.LOGGER_RESPONSE_TIME = LOGGER_RESPONSE_TIME;\nconst LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\nexports.LOGGER_URL_REDIRECTION_OBJ = LOGGER_URL_REDIRECTION_OBJ;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMT0dHRVJfVVNFUl9ERVRBSUxTIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFUVVFU1RfU1RBUlRfVElNRSIsIkxPR0dFUl9BUElfUk9VVEUiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiTE9HR0VSX0NPUlJFTEFUSU9OSUQiLCJMT0dHRVJfUkVTUE9OU0VfVElNRSIsIkxPR0dFUl9VUkxfUkVESVJFQ1RJT05fT0JKIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2NvbnN0YW50cy8iLCJzb3VyY2VzIjpbIkNvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTE9HR0VSX1VTRVJfREVUQUlMUyA9IFwibG9nZ2VyVXNlckRldGFpbHNcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVRVUVTVF9QQVlMT0FEID0gXCJsb2dnZXJSZXF1ZXN0UGF5bG9hZFwiO1xuZXhwb3J0IGNvbnN0IExPR0dFUl9SRVNQT05TRV9QQVlMT0FEID0gXCJsb2dnZXJSZXNwb25zZVBheWxvYWRcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVRVUVTVF9TVEFSVF9USU1FID0gXCJsb2dnZXJSZXF1ZXN0U3RhcnRUaW1lXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX0FQSV9ST1VURSA9IFwibG9nZ2VyUm91dGVcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfVVNFUl9JUF9BRERSRVNTID0gXCJsb2dnZXJVc2VySXBBZGRyZXNzXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX0NPUlJFTEFUSU9OSUQgPSBcImxvZ2dlckNvcnJlbGF0aW9uSWRcIjtcbmV4cG9ydCBjb25zdCBMT0dHRVJfUkVTUE9OU0VfVElNRSA9IFwibG9nZ2VyUmVzcG9uc2VUaW1lXCI7XG5leHBvcnQgY29uc3QgTE9HR0VSX1VSTF9SRURJUkVDVElPTl9PQkogPSBcImxvZ2dlclVybFJlZGlyZWN0aW9uT2JqXCI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLG1CQUFtQixHQUFHLG1CQUE1Qjs7QUFDQSxNQUFNQyxzQkFBc0IsR0FBRyxzQkFBL0I7O0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsdUJBQWhDOztBQUNBLE1BQU1DLHlCQUF5QixHQUFHLHdCQUFsQzs7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxhQUF6Qjs7QUFDQSxNQUFNQyxzQkFBc0IsR0FBRyxxQkFBL0I7O0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcscUJBQTdCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLG9CQUE3Qjs7QUFDQSxNQUFNQywwQkFBMEIsR0FBRyx5QkFBbkMifQ==","map":{"version":3,"names":["LOGGER_USER_DETAILS","LOGGER_REQUEST_PAYLOAD","LOGGER_RESPONSE_PAYLOAD","LOGGER_REQUEST_START_TIME","LOGGER_API_ROUTE","LOGGER_USER_IP_ADDRESS","LOGGER_CORRELATIONID","LOGGER_RESPONSE_TIME","LOGGER_URL_REDIRECTION_OBJ"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/constants/","sources":["Constants.js"],"sourcesContent":["export const LOGGER_USER_DETAILS = \"loggerUserDetails\";\nexport const LOGGER_REQUEST_PAYLOAD = \"loggerRequestPayload\";\nexport const LOGGER_RESPONSE_PAYLOAD = \"loggerResponsePayload\";\nexport const LOGGER_REQUEST_START_TIME = \"loggerRequestStartTime\";\nexport const LOGGER_API_ROUTE = \"loggerRoute\";\nexport const LOGGER_USER_IP_ADDRESS = \"loggerUserIpAddress\";\nexport const LOGGER_CORRELATIONID = \"loggerCorrelationId\";\nexport const LOGGER_RESPONSE_TIME = \"loggerResponseTime\";\nexport const LOGGER_URL_REDIRECTION_OBJ = \"loggerUrlRedirectionObj\";\n"],"mappings":";;;;;;AAAO,MAAMA,mBAAmB,GAAG,mBAA5B;;AACA,MAAMC,sBAAsB,GAAG,sBAA/B;;AACA,MAAMC,uBAAuB,GAAG,uBAAhC;;AACA,MAAMC,yBAAyB,GAAG,wBAAlC;;AACA,MAAMC,gBAAgB,GAAG,aAAzB;;AACA,MAAMC,sBAAsB,GAAG,qBAA/B;;AACA,MAAMC,oBAAoB,GAAG,qBAA7B;;AACA,MAAMC,oBAAoB,GAAG,oBAA7B;;AACA,MAAMC,0BAA0B,GAAG,yBAAnC"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/OrganisationSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _MainDb = _interopRequireDefault(require(\"../../connections/MainDb\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Organisations = new _mongoose.Schema({\n  organisation_id: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  logo: {\n    type: String\n  },\n  client_id: {\n    type: String\n  },\n  contact_name: {\n    type: String\n  },\n  phone_number: {\n    type: String\n  },\n  address: {\n    type: Object\n  },\n  plan: {\n    type: String\n  },\n  status: {\n    type: String,\n    // [\"CREATED\", \"ACTIVE\", \"INACTIVE\"]\n    default: 'CREATED'\n  },\n  created_at: {\n    type: Date,\n    default: Date.now\n  },\n  updated_at: {\n    type: Date,\n    getDbInstance: _MainDb.default\n  },\n  deleted_at: {\n    type: Date\n  },\n  call_priority_routing: {\n    type: Boolean,\n    default: false\n  },\n  isOrgOutboundCallEnabled: {\n    type: Boolean,\n    default: false\n  },\n  call_minutes_available: {\n    type: Number,\n    default: 0\n  },\n  callerTuneUrl: {\n    type: String\n  },\n  is_caller_tune_enable: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: {\n    createdAt: 'created_at',\n    updatedAt: 'updated_at'\n  }\n}); // const Organisations = mongo_db.model(\n//   'Organisations',\n//   OrganisationsSchema,\n//   'Organisations'\n// );\n\nvar _default = Organisations; // export default Organisations = getDbInstance();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPcmdhbmlzYXRpb25zIiwiU2NoZW1hIiwib3JnYW5pc2F0aW9uX2lkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsImVtYWlsIiwibG9nbyIsImNsaWVudF9pZCIsImNvbnRhY3RfbmFtZSIsInBob25lX251bWJlciIsImFkZHJlc3MiLCJPYmplY3QiLCJwbGFuIiwic3RhdHVzIiwiZGVmYXVsdCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwibm93IiwidXBkYXRlZF9hdCIsImdldERiSW5zdGFuY2UiLCJkZWxldGVkX2F0IiwiY2FsbF9wcmlvcml0eV9yb3V0aW5nIiwiQm9vbGVhbiIsImlzT3JnT3V0Ym91bmRDYWxsRW5hYmxlZCIsImNhbGxfbWludXRlc19hdmFpbGFibGUiLCJOdW1iZXIiLCJjYWxsZXJUdW5lVXJsIiwiaXNfY2FsbGVyX3R1bmVfZW5hYmxlIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9tb2RlbHMvbWFpbkRiU2NoZW1hLyIsInNvdXJjZXMiOlsiT3JnYW5pc2F0aW9uU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXREYkluc3RhbmNlIGZyb20gXCIuLi8uLi9jb25uZWN0aW9ucy9NYWluRGJcIjtcbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgT3JnYW5pc2F0aW9ucyA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBvcmdhbmlzYXRpb25faWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgbG9nbzoge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjbGllbnRfaWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY29udGFjdF9uYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHBob25lX251bWJlcjoge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBhZGRyZXNzOiB7XG4gICAgICB0eXBlOiBPYmplY3RcbiAgICB9LFxuICAgIHBsYW46IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsIC8vIFtcIkNSRUFURURcIiwgXCJBQ1RJVkVcIiwgXCJJTkFDVElWRVwiXVxuICAgICAgZGVmYXVsdDogJ0NSRUFURUQnXG4gICAgfSxcbiAgICBjcmVhdGVkX2F0OiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9LFxuICAgIHVwZGF0ZWRfYXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsZ2V0RGJJbnN0YW5jZVxuICAgIH0sXG4gICAgZGVsZXRlZF9hdDoge1xuICAgICAgdHlwZTogRGF0ZVxuICAgIH0sXG4gICAgY2FsbF9wcmlvcml0eV9yb3V0aW5nOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGlzT3JnT3V0Ym91bmRDYWxsRW5hYmxlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBjYWxsX21pbnV0ZXNfYXZhaWxhYmxlOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcbiAgICBjYWxsZXJUdW5lVXJsOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGlzX2NhbGxlcl90dW5lX2VuYWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7IHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH0gfVxuKTtcblxuLy8gY29uc3QgT3JnYW5pc2F0aW9ucyA9IG1vbmdvX2RiLm1vZGVsKFxuLy8gICAnT3JnYW5pc2F0aW9ucycsXG4vLyAgIE9yZ2FuaXNhdGlvbnNTY2hlbWEsXG4vLyAgICdPcmdhbmlzYXRpb25zJ1xuLy8gKTtcbmV4cG9ydCBkZWZhdWx0IE9yZ2FuaXNhdGlvbnM7XG4vLyBleHBvcnQgZGVmYXVsdCBPcmdhbmlzYXRpb25zID0gZ2V0RGJJbnN0YW5jZSgpOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGdCQUFKLENBQ3BCO0VBQ0VDLGVBQWUsRUFBRTtJQUNmQyxJQUFJLEVBQUVDLE1BRFM7SUFFZkMsUUFBUSxFQUFFLElBRks7SUFHZkMsTUFBTSxFQUFFO0VBSE8sQ0FEbkI7RUFNRUMsSUFBSSxFQUFFO0lBQ0pKLElBQUksRUFBRUMsTUFERjtJQUVKQyxRQUFRLEVBQUU7RUFGTixDQU5SO0VBVUVHLEtBQUssRUFBRTtJQUNMTCxJQUFJLEVBQUVDO0VBREQsQ0FWVDtFQWFFSyxJQUFJLEVBQUU7SUFDSk4sSUFBSSxFQUFFQztFQURGLENBYlI7RUFnQkVNLFNBQVMsRUFBRTtJQUNUUCxJQUFJLEVBQUVDO0VBREcsQ0FoQmI7RUFtQkVPLFlBQVksRUFBRTtJQUNaUixJQUFJLEVBQUVDO0VBRE0sQ0FuQmhCO0VBc0JFUSxZQUFZLEVBQUU7SUFDWlQsSUFBSSxFQUFFQztFQURNLENBdEJoQjtFQXlCRVMsT0FBTyxFQUFFO0lBQ1BWLElBQUksRUFBRVc7RUFEQyxDQXpCWDtFQTRCRUMsSUFBSSxFQUFFO0lBQ0paLElBQUksRUFBRUM7RUFERixDQTVCUjtFQStCRVksTUFBTSxFQUFFO0lBQ05iLElBQUksRUFBRUMsTUFEQTtJQUNRO0lBQ2RhLE9BQU8sRUFBRTtFQUZILENBL0JWO0VBbUNFQyxVQUFVLEVBQUU7SUFDVmYsSUFBSSxFQUFFZ0IsSUFESTtJQUVWRixPQUFPLEVBQUVFLElBQUksQ0FBQ0M7RUFGSixDQW5DZDtFQXVDRUMsVUFBVSxFQUFFO0lBQ1ZsQixJQUFJLEVBQUVnQixJQURJO0lBQ0NHLGFBQWEsRUFBYkE7RUFERCxDQXZDZDtFQTBDRUMsVUFBVSxFQUFFO0lBQ1ZwQixJQUFJLEVBQUVnQjtFQURJLENBMUNkO0VBNkNFSyxxQkFBcUIsRUFBRTtJQUNyQnJCLElBQUksRUFBRXNCLE9BRGU7SUFFckJSLE9BQU8sRUFBRTtFQUZZLENBN0N6QjtFQWlERVMsd0JBQXdCLEVBQUU7SUFDeEJ2QixJQUFJLEVBQUVzQixPQURrQjtJQUV4QlIsT0FBTyxFQUFFO0VBRmUsQ0FqRDVCO0VBcURFVSxzQkFBc0IsRUFBRTtJQUN0QnhCLElBQUksRUFBRXlCLE1BRGdCO0lBRXRCWCxPQUFPLEVBQUU7RUFGYSxDQXJEMUI7RUF5REVZLGFBQWEsRUFBRTtJQUNiMUIsSUFBSSxFQUFFQztFQURPLENBekRqQjtFQTRERTBCLHFCQUFxQixFQUFFO0lBQ3JCM0IsSUFBSSxFQUFFc0IsT0FEZTtJQUVyQlIsT0FBTyxFQUFFO0VBRlk7QUE1RHpCLENBRG9CLEVBa0VwQjtFQUFFYyxVQUFVLEVBQUU7SUFBRUMsU0FBUyxFQUFFLFlBQWI7SUFBMkJDLFNBQVMsRUFBRTtFQUF0QztBQUFkLENBbEVvQixDQUF0QixDLENBcUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBQ2VqQyxhLEVBQ2YifQ==","map":{"version":3,"names":["Organisations","Schema","organisation_id","type","String","required","unique","name","email","logo","client_id","contact_name","phone_number","address","Object","plan","status","default","created_at","Date","now","updated_at","getDbInstance","deleted_at","call_priority_routing","Boolean","isOrgOutboundCallEnabled","call_minutes_available","Number","callerTuneUrl","is_caller_tune_enable","timestamps","createdAt","updatedAt"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["OrganisationSchema.js"],"sourcesContent":["import getDbInstance from \"../../connections/MainDb\";\nimport { Schema } from 'mongoose';\n\nconst Organisations = new Schema(\n  {\n    organisation_id: {\n      type: String,\n      required: true,\n      unique: true\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    email: {\n      type: String\n    },\n    logo: {\n      type: String\n    },\n    client_id: {\n      type: String\n    },\n    contact_name: {\n      type: String\n    },\n    phone_number: {\n      type: String\n    },\n    address: {\n      type: Object\n    },\n    plan: {\n      type: String\n    },\n    status: {\n      type: String, // [\"CREATED\", \"ACTIVE\", \"INACTIVE\"]\n      default: 'CREATED'\n    },\n    created_at: {\n      type: Date,\n      default: Date.now\n    },\n    updated_at: {\n      type: Date,getDbInstance\n    },\n    deleted_at: {\n      type: Date\n    },\n    call_priority_routing: {\n      type: Boolean,\n      default: false\n    },\n    isOrgOutboundCallEnabled: {\n      type: Boolean,\n      default: false\n    },\n    call_minutes_available: {\n      type: Number,\n      default: 0\n    },\n    callerTuneUrl: {\n      type: String\n    },\n    is_caller_tune_enable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  { timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' } }\n);\n\n// const Organisations = mongo_db.model(\n//   'Organisations',\n//   OrganisationsSchema,\n//   'Organisations'\n// );\nexport default Organisations;\n// export default Organisations = getDbInstance();"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CACpB;EACEC,eAAe,EAAE;IACfC,IAAI,EAAEC,MADS;IAEfC,QAAQ,EAAE,IAFK;IAGfC,MAAM,EAAE;EAHO,CADnB;EAMEC,IAAI,EAAE;IACJJ,IAAI,EAAEC,MADF;IAEJC,QAAQ,EAAE;EAFN,CANR;EAUEG,KAAK,EAAE;IACLL,IAAI,EAAEC;EADD,CAVT;EAaEK,IAAI,EAAE;IACJN,IAAI,EAAEC;EADF,CAbR;EAgBEM,SAAS,EAAE;IACTP,IAAI,EAAEC;EADG,CAhBb;EAmBEO,YAAY,EAAE;IACZR,IAAI,EAAEC;EADM,CAnBhB;EAsBEQ,YAAY,EAAE;IACZT,IAAI,EAAEC;EADM,CAtBhB;EAyBES,OAAO,EAAE;IACPV,IAAI,EAAEW;EADC,CAzBX;EA4BEC,IAAI,EAAE;IACJZ,IAAI,EAAEC;EADF,CA5BR;EA+BEY,MAAM,EAAE;IACNb,IAAI,EAAEC,MADA;IACQ;IACda,OAAO,EAAE;EAFH,CA/BV;EAmCEC,UAAU,EAAE;IACVf,IAAI,EAAEgB,IADI;IAEVF,OAAO,EAAEE,IAAI,CAACC;EAFJ,CAnCd;EAuCEC,UAAU,EAAE;IACVlB,IAAI,EAAEgB,IADI;IACCG,aAAa,EAAbA;EADD,CAvCd;EA0CEC,UAAU,EAAE;IACVpB,IAAI,EAAEgB;EADI,CA1Cd;EA6CEK,qBAAqB,EAAE;IACrBrB,IAAI,EAAEsB,OADe;IAErBR,OAAO,EAAE;EAFY,CA7CzB;EAiDES,wBAAwB,EAAE;IACxBvB,IAAI,EAAEsB,OADkB;IAExBR,OAAO,EAAE;EAFe,CAjD5B;EAqDEU,sBAAsB,EAAE;IACtBxB,IAAI,EAAEyB,MADgB;IAEtBX,OAAO,EAAE;EAFa,CArD1B;EAyDEY,aAAa,EAAE;IACb1B,IAAI,EAAEC;EADO,CAzDjB;EA4DE0B,qBAAqB,EAAE;IACrB3B,IAAI,EAAEsB,OADe;IAErBR,OAAO,EAAE;EAFY;AA5DzB,CADoB,EAkEpB;EAAEc,UAAU,EAAE;IAAEC,SAAS,EAAE,YAAb;IAA2BC,SAAS,EAAE;EAAtC;AAAd,CAlEoB,CAAtB,C,CAqEA;AACA;AACA;AACA;AACA;;eACejC,a,EACf"}},"mtime":1653909015270},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/IVRVirtualprofileSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJJVlJWaXJ0dWFscHJvZmlsZVNjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIiXSwibWFwcGluZ3MiOiIifQ==","map":{"version":3,"names":[],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["IVRVirtualprofileSchema.js"],"sourcesContent":[""],"mappings":""}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/BussinesscallSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJCdXNzaW5lc3NjYWxsU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiJdLCJtYXBwaW5ncyI6IiJ9","map":{"version":3,"names":[],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["BussinesscallSchema.js"],"sourcesContent":[""],"mappings":""}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/BussinessDIDNumbersSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst BusinessDIDNumbersSchema = new _mongoose.Schema({\n  associatedOrganisation: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'Organisations'\n  },\n  virtualNumber: {\n    type: String,\n    required: true\n  },\n  type: {\n    type: String,\n    enum: ['DID', 'VMN'],\n    required: true\n  },\n  active: {\n    type: Boolean,\n    default: true\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nvar _default = BusinessDIDNumbersSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCdXNpbmVzc0RJRE51bWJlcnNTY2hlbWEiLCJTY2hlbWEiLCJhc3NvY2lhdGVkT3JnYW5pc2F0aW9uIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ2aXJ0dWFsTnVtYmVyIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbnVtIiwiYWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9tYWluRGJTY2hlbWEvIiwic291cmNlcyI6WyJCdXNzaW5lc3NESUROdW1iZXJzU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IEJ1c2luZXNzRElETnVtYmVyc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBhc3NvY2lhdGVkT3JnYW5pc2F0aW9uOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnT3JnYW5pc2F0aW9ucycgfSxcbiAgdmlydHVhbE51bWJlcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHR5cGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ0RJRCcsICdWTU4nXSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgYWN0aXZlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXG4gIHVwZGF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9XG59KTtcblxuXG5leHBvcnQgZGVmYXVsdCBCdXNpbmVzc0RJRE51bWJlcnNTY2hlbWE7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUVBLE1BQU1BLHdCQUF3QixHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDMUNDLHNCQUFzQixFQUFFO0lBQUVDLElBQUksRUFBRUYsaUJBQU9HLEtBQVAsQ0FBYUMsUUFBckI7SUFBK0JDLEdBQUcsRUFBRTtFQUFwQyxDQURrQjtFQUUxQ0MsYUFBYSxFQUFFO0lBQUVKLElBQUksRUFBRUssTUFBUjtJQUFnQkMsUUFBUSxFQUFFO0VBQTFCLENBRjJCO0VBRzFDTixJQUFJLEVBQUU7SUFBRUEsSUFBSSxFQUFFSyxNQUFSO0lBQWdCRSxJQUFJLEVBQUUsQ0FBQyxLQUFELEVBQVEsS0FBUixDQUF0QjtJQUFzQ0QsUUFBUSxFQUFFO0VBQWhELENBSG9DO0VBSTFDRSxNQUFNLEVBQUU7SUFBRVIsSUFBSSxFQUFFUyxPQUFSO0lBQWlCQyxPQUFPLEVBQUU7RUFBMUIsQ0FKa0M7RUFLMUNDLFNBQVMsRUFBRTtJQUFFWCxJQUFJLEVBQUVZLElBQVI7SUFBY0YsT0FBTyxFQUFFRSxJQUFJLENBQUNDO0VBQTVCLENBTCtCO0VBTTFDQyxTQUFTLEVBQUU7SUFBRWQsSUFBSSxFQUFFWSxJQUFSO0lBQWNGLE9BQU8sRUFBRUUsSUFBSSxDQUFDQztFQUE1QjtBQU4rQixDQUFYLENBQWpDO2VBVWVoQix3QiJ9","map":{"version":3,"names":["BusinessDIDNumbersSchema","Schema","associatedOrganisation","type","Types","ObjectId","ref","virtualNumber","String","required","enum","active","Boolean","default","createdAt","Date","now","updatedAt"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/mainDbSchema/","sources":["BussinessDIDNumbersSchema.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst BusinessDIDNumbersSchema = new Schema({\n  associatedOrganisation: { type: Schema.Types.ObjectId, ref: 'Organisations' },\n  virtualNumber: { type: String, required: true },\n  type: { type: String, enum: ['DID', 'VMN'], required: true },\n  active: { type: Boolean, default: true },\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now }\n});\n\n\nexport default BusinessDIDNumbersSchema;"],"mappings":";;;;;;;AAAA;;;;;;AAEA,MAAMA,wBAAwB,GAAG,IAAIC,gBAAJ,CAAW;EAC1CC,sBAAsB,EAAE;IAAEC,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QAArB;IAA+BC,GAAG,EAAE;EAApC,CADkB;EAE1CC,aAAa,EAAE;IAAEJ,IAAI,EAAEK,MAAR;IAAgBC,QAAQ,EAAE;EAA1B,CAF2B;EAG1CN,IAAI,EAAE;IAAEA,IAAI,EAAEK,MAAR;IAAgBE,IAAI,EAAE,CAAC,KAAD,EAAQ,KAAR,CAAtB;IAAsCD,QAAQ,EAAE;EAAhD,CAHoC;EAI1CE,MAAM,EAAE;IAAER,IAAI,EAAES,OAAR;IAAiBC,OAAO,EAAE;EAA1B,CAJkC;EAK1CC,SAAS,EAAE;IAAEX,IAAI,EAAEY,IAAR;IAAcF,OAAO,EAAEE,IAAI,CAACC;EAA5B,CAL+B;EAM1CC,SAAS,EAAE;IAAEd,IAAI,EAAEY,IAAR;IAAcF,OAAO,EAAEE,IAAI,CAACC;EAA5B;AAN+B,CAAX,CAAjC;eAUehB,wB"}},"mtime":1653907746041},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/Credentials.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SECREAT = exports.PASSWORD = exports.ALGORITHM = void 0;\nconst SECREAT = \"UxZAXfGONYXkvATj552wBQ\";\nexports.SECREAT = SECREAT;\nconst ALGORITHM = \"aes-256-ctr\";\nexports.ALGORITHM = ALGORITHM;\nconst PASSWORD = \"meTro729@wes0K5\";\nexports.PASSWORD = PASSWORD;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTRUNSRUFUIiwiQUxHT1JJVEhNIiwiUEFTU1dPUkQiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29uc3RhbnRzLyIsInNvdXJjZXMiOlsiQ3JlZGVudGlhbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNFQ1JFQVQgPSBcIlV4WkFYZkdPTllYa3ZBVGo1NTJ3QlFcIjtcbmV4cG9ydCBjb25zdCBBTEdPUklUSE0gPSBcImFlcy0yNTYtY3RyXCI7XG5leHBvcnQgY29uc3QgUEFTU1dPUkQgPSBcIm1lVHJvNzI5QHdlczBLNVwiO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxPQUFPLEdBQUcsd0JBQWhCOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxhQUFsQjs7QUFDQSxNQUFNQyxRQUFRLEdBQUcsaUJBQWpCIn0=","map":{"version":3,"names":["SECREAT","ALGORITHM","PASSWORD"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/constants/","sources":["Credentials.js"],"sourcesContent":["export const SECREAT = \"UxZAXfGONYXkvATj552wBQ\";\nexport const ALGORITHM = \"aes-256-ctr\";\nexport const PASSWORD = \"meTro729@wes0K5\";\n"],"mappings":";;;;;;AAAO,MAAMA,OAAO,GAAG,wBAAhB;;AACA,MAAMC,SAAS,GAAG,aAAlB;;AACA,MAAMC,QAAQ,GAAG,iBAAjB"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/constants/Keys.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HEADER_SESSION_TOKEN = exports.HEADER_API_KEY = void 0;\nconst HEADER_API_KEY = \"x-metro-api-key\";\nexports.HEADER_API_KEY = HEADER_API_KEY;\nconst HEADER_SESSION_TOKEN = \"x-metro-sessiontoken\";\nexports.HEADER_SESSION_TOKEN = HEADER_SESSION_TOKEN;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIRUFERVJfQVBJX0tFWSIsIkhFQURFUl9TRVNTSU9OX1RPS0VOIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2NvbnN0YW50cy8iLCJzb3VyY2VzIjpbIktleXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEhFQURFUl9BUElfS0VZID0gXCJ4LW1ldHJvLWFwaS1rZXlcIjtcbmV4cG9ydCBjb25zdCBIRUFERVJfU0VTU0lPTl9UT0tFTiA9IFwieC1tZXRyby1zZXNzaW9udG9rZW5cIjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsY0FBYyxHQUFHLGlCQUF2Qjs7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxzQkFBN0IifQ==","map":{"version":3,"names":["HEADER_API_KEY","HEADER_SESSION_TOKEN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/constants/","sources":["Keys.js"],"sourcesContent":["export const HEADER_API_KEY = \"x-metro-api-key\";\nexport const HEADER_SESSION_TOKEN = \"x-metro-sessiontoken\";\n"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAG,iBAAvB;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/UserService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserDetails = exports.registerUser = exports.getUserDetails = void 0;\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar EncryptionService = _interopRequireWildcard(require(\"./EncryptionService\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nasync function getClientIdFromApiKey(apiKey) {\n  const findCondition = {\n    metro_auth_key: apiKey\n  };\n  const clientObj = await AbstractModels.mongoFindOne(_index.Clients, findCondition);\n  const clientId = clientObj._id;\n  return clientId;\n}\n\nconst registerUser = async (userDetails, clientDetails) => {\n  const {\n    mobileNo,\n    password,\n    firstName,\n    lastName\n  } = userDetails;\n  const findCondition = {\n    mobileNo\n  };\n  let userObj = await AbstractModels.mongoFindOne(_index.Users, findCondition);\n\n  if (userObj) {\n    throw ErrorUtils.DataAlreadyExists();\n  } else {\n    const bcryptedPassword = EncryptionService.generateBcryptPassword(password);\n    const clientId = await getClientIdFromApiKey(clientDetails.apiKey);\n    userObj = {\n      mobileNo,\n      firstName,\n      lastName,\n      password: bcryptedPassword,\n      clientId,\n      userType: \"user\"\n    };\n    await AbstractModels.mongoInsertOne(_index.Users, userObj);\n    delete userObj.password;\n    return userObj;\n  }\n};\n\nexports.registerUser = registerUser;\n\nconst getUserDetails = async mobileNo => {\n  const selectCondition = {\n    mobileNo\n  };\n  const projectCondition = {\n    _id: 0,\n    mobileNo: 1,\n    firstName: 1,\n    lastName: 1,\n    alternateMobileNo: 1,\n    email: 1\n  };\n  const userObj = await AbstractModels.mongoFindOne(_index.Users, selectCondition, projectCondition);\n  return userObj;\n};\n\nexports.getUserDetails = getUserDetails;\n\nconst updateUserDetails = async userDetails => {\n  const {\n    firstName,\n    lastName,\n    alternateMobileNo,\n    email,\n    mobileNo\n  } = userDetails;\n  const selectCondition = {\n    mobileNo\n  };\n  const updateCondition = {\n    $set: {\n      firstName,\n      lastName,\n      alternateMobileNo,\n      email\n    }\n  };\n  await AbstractModels.mongoUpdateOne(_index.Users, selectCondition, updateCondition);\n};\n\nexports.updateUserDetails = updateUserDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRDbGllbnRJZEZyb21BcGlLZXkiLCJhcGlLZXkiLCJmaW5kQ29uZGl0aW9uIiwibWV0cm9fYXV0aF9rZXkiLCJjbGllbnRPYmoiLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvRmluZE9uZSIsIkNsaWVudHMiLCJjbGllbnRJZCIsIl9pZCIsInJlZ2lzdGVyVXNlciIsInVzZXJEZXRhaWxzIiwiY2xpZW50RGV0YWlscyIsIm1vYmlsZU5vIiwicGFzc3dvcmQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJPYmoiLCJVc2VycyIsIkVycm9yVXRpbHMiLCJEYXRhQWxyZWFkeUV4aXN0cyIsImJjcnlwdGVkUGFzc3dvcmQiLCJFbmNyeXB0aW9uU2VydmljZSIsImdlbmVyYXRlQmNyeXB0UGFzc3dvcmQiLCJ1c2VyVHlwZSIsIm1vbmdvSW5zZXJ0T25lIiwiZ2V0VXNlckRldGFpbHMiLCJzZWxlY3RDb25kaXRpb24iLCJwcm9qZWN0Q29uZGl0aW9uIiwiYWx0ZXJuYXRlTW9iaWxlTm8iLCJlbWFpbCIsInVwZGF0ZVVzZXJEZXRhaWxzIiwidXBkYXRlQ29uZGl0aW9uIiwiJHNldCIsIm1vbmdvVXBkYXRlT25lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsiVXNlclNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRXJyb3JVdGlscyBmcm9tIFwiLi4vZXJyb3JzL0Vycm9yVXRpbHNcIjtcbmltcG9ydCAqIGFzIEFic3RyYWN0TW9kZWxzIGZyb20gXCIuLi9tb2RlbHMvQWJzdHJhY3RNb2RlbHNcIjtcbmltcG9ydCAqIGFzIEVuY3J5cHRpb25TZXJ2aWNlIGZyb20gXCIuL0VuY3J5cHRpb25TZXJ2aWNlXCI7XG5cbmltcG9ydCB7IFVzZXJzLCBDbGllbnRzIH0gZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvaW5kZXhcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q2xpZW50SWRGcm9tQXBpS2V5KGFwaUtleSkge1xuICBjb25zdCBmaW5kQ29uZGl0aW9uID0ge1xuICAgIG1ldHJvX2F1dGhfa2V5OiBhcGlLZXksXG4gIH07XG4gIGNvbnN0IGNsaWVudE9iaiA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShDbGllbnRzLCBmaW5kQ29uZGl0aW9uKTtcbiAgY29uc3QgY2xpZW50SWQgPSBjbGllbnRPYmouX2lkO1xuICByZXR1cm4gY2xpZW50SWQ7XG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclVzZXIgPSBhc3luYyAodXNlckRldGFpbHMsIGNsaWVudERldGFpbHMpID0+IHtcbiAgY29uc3Qge1xuICAgIG1vYmlsZU5vLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSxcbiAgfSA9IHVzZXJEZXRhaWxzO1xuICBjb25zdCBmaW5kQ29uZGl0aW9uID0ge1xuICAgIG1vYmlsZU5vLFxuICB9O1xuICBsZXQgdXNlck9iaiA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShVc2VycywgZmluZENvbmRpdGlvbik7XG4gIGlmICh1c2VyT2JqKSB7XG4gICAgdGhyb3cgRXJyb3JVdGlscy5EYXRhQWxyZWFkeUV4aXN0cygpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJjcnlwdGVkUGFzc3dvcmQgPSBFbmNyeXB0aW9uU2VydmljZS5nZW5lcmF0ZUJjcnlwdFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBjb25zdCBjbGllbnRJZCA9IGF3YWl0IGdldENsaWVudElkRnJvbUFwaUtleShjbGllbnREZXRhaWxzLmFwaUtleSk7XG4gICAgdXNlck9iaiA9IHtcbiAgICAgIG1vYmlsZU5vLFxuICAgICAgZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWUsXG4gICAgICBwYXNzd29yZDogYmNyeXB0ZWRQYXNzd29yZCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgdXNlclR5cGU6IFwidXNlclwiLFxuICAgIH07XG4gICAgYXdhaXQgQWJzdHJhY3RNb2RlbHMubW9uZ29JbnNlcnRPbmUoVXNlcnMsIHVzZXJPYmopO1xuICAgIGRlbGV0ZSB1c2VyT2JqLnBhc3N3b3JkO1xuICAgIHJldHVybiB1c2VyT2JqO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckRldGFpbHMgPSBhc3luYyAobW9iaWxlTm8pID0+IHtcbiAgY29uc3Qgc2VsZWN0Q29uZGl0aW9uID0ge1xuICAgIG1vYmlsZU5vLFxuICB9O1xuICBjb25zdCBwcm9qZWN0Q29uZGl0aW9uID0ge1xuICAgIF9pZDogMCxcbiAgICBtb2JpbGVObzogMSxcbiAgICBmaXJzdE5hbWU6IDEsXG4gICAgbGFzdE5hbWU6IDEsXG4gICAgYWx0ZXJuYXRlTW9iaWxlTm86IDEsXG4gICAgZW1haWw6IDEsXG4gIH07XG4gIGNvbnN0IHVzZXJPYmogPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoXG4gICAgVXNlcnMsXG4gICAgc2VsZWN0Q29uZGl0aW9uLFxuICAgIHByb2plY3RDb25kaXRpb24sXG4gICk7XG4gIHJldHVybiB1c2VyT2JqO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJEZXRhaWxzID0gYXN5bmMgKHVzZXJEZXRhaWxzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBmaXJzdE5hbWUsIGxhc3ROYW1lLCBhbHRlcm5hdGVNb2JpbGVObywgZW1haWwsIG1vYmlsZU5vLFxuICB9ID0gdXNlckRldGFpbHM7XG4gIGNvbnN0IHNlbGVjdENvbmRpdGlvbiA9IHtcbiAgICBtb2JpbGVObyxcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29uZGl0aW9uID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGZpcnN0TmFtZSxcbiAgICAgIGxhc3ROYW1lLFxuICAgICAgYWx0ZXJuYXRlTW9iaWxlTm8sXG4gICAgICBlbWFpbCxcbiAgICB9LFxuICB9O1xuICBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb1VwZGF0ZU9uZShVc2Vycywgc2VsZWN0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","map":{"version":3,"names":["getClientIdFromApiKey","apiKey","findCondition","metro_auth_key","clientObj","AbstractModels","mongoFindOne","Clients","clientId","_id","registerUser","userDetails","clientDetails","mobileNo","password","firstName","lastName","userObj","Users","ErrorUtils","DataAlreadyExists","bcryptedPassword","EncryptionService","generateBcryptPassword","userType","mongoInsertOne","getUserDetails","selectCondition","projectCondition","alternateMobileNo","email","updateUserDetails","updateCondition","$set","mongoUpdateOne"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/services/","sources":["UserService.js"],"sourcesContent":["import * as ErrorUtils from \"../errors/ErrorUtils\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport * as EncryptionService from \"./EncryptionService\";\n\nimport { Users, Clients } from \"../models/mainDbSchema/index\";\n\nasync function getClientIdFromApiKey(apiKey) {\n  const findCondition = {\n    metro_auth_key: apiKey,\n  };\n  const clientObj = await AbstractModels.mongoFindOne(Clients, findCondition);\n  const clientId = clientObj._id;\n  return clientId;\n}\n\nexport const registerUser = async (userDetails, clientDetails) => {\n  const {\n    mobileNo, password, firstName, lastName,\n  } = userDetails;\n  const findCondition = {\n    mobileNo,\n  };\n  let userObj = await AbstractModels.mongoFindOne(Users, findCondition);\n  if (userObj) {\n    throw ErrorUtils.DataAlreadyExists();\n  } else {\n    const bcryptedPassword = EncryptionService.generateBcryptPassword(password);\n    const clientId = await getClientIdFromApiKey(clientDetails.apiKey);\n    userObj = {\n      mobileNo,\n      firstName,\n      lastName,\n      password: bcryptedPassword,\n      clientId,\n      userType: \"user\",\n    };\n    await AbstractModels.mongoInsertOne(Users, userObj);\n    delete userObj.password;\n    return userObj;\n  }\n};\n\nexport const getUserDetails = async (mobileNo) => {\n  const selectCondition = {\n    mobileNo,\n  };\n  const projectCondition = {\n    _id: 0,\n    mobileNo: 1,\n    firstName: 1,\n    lastName: 1,\n    alternateMobileNo: 1,\n    email: 1,\n  };\n  const userObj = await AbstractModels.mongoFindOne(\n    Users,\n    selectCondition,\n    projectCondition,\n  );\n  return userObj;\n};\n\nexport const updateUserDetails = async (userDetails) => {\n  const {\n    firstName, lastName, alternateMobileNo, email, mobileNo,\n  } = userDetails;\n  const selectCondition = {\n    mobileNo,\n  };\n  const updateCondition = {\n    $set: {\n      firstName,\n      lastName,\n      alternateMobileNo,\n      email,\n    },\n  };\n  await AbstractModels.mongoUpdateOne(Users, selectCondition, updateCondition);\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;;;AAEA,eAAeA,qBAAf,CAAqCC,MAArC,EAA6C;EAC3C,MAAMC,aAAa,GAAG;IACpBC,cAAc,EAAEF;EADI,CAAtB;EAGA,MAAMG,SAAS,GAAG,MAAMC,cAAc,CAACC,YAAf,CAA4BC,cAA5B,EAAqCL,aAArC,CAAxB;EACA,MAAMM,QAAQ,GAAGJ,SAAS,CAACK,GAA3B;EACA,OAAOD,QAAP;AACD;;AAEM,MAAME,YAAY,GAAG,OAAOC,WAAP,EAAoBC,aAApB,KAAsC;EAChE,MAAM;IACJC,QADI;IACMC,QADN;IACgBC,SADhB;IAC2BC;EAD3B,IAEFL,WAFJ;EAGA,MAAMT,aAAa,GAAG;IACpBW;EADoB,CAAtB;EAGA,IAAII,OAAO,GAAG,MAAMZ,cAAc,CAACC,YAAf,CAA4BY,YAA5B,EAAmChB,aAAnC,CAApB;;EACA,IAAIe,OAAJ,EAAa;IACX,MAAME,UAAU,CAACC,iBAAX,EAAN;EACD,CAFD,MAEO;IACL,MAAMC,gBAAgB,GAAGC,iBAAiB,CAACC,sBAAlB,CAAyCT,QAAzC,CAAzB;IACA,MAAMN,QAAQ,GAAG,MAAMR,qBAAqB,CAACY,aAAa,CAACX,MAAf,CAA5C;IACAgB,OAAO,GAAG;MACRJ,QADQ;MAERE,SAFQ;MAGRC,QAHQ;MAIRF,QAAQ,EAAEO,gBAJF;MAKRb,QALQ;MAMRgB,QAAQ,EAAE;IANF,CAAV;IAQA,MAAMnB,cAAc,CAACoB,cAAf,CAA8BP,YAA9B,EAAqCD,OAArC,CAAN;IACA,OAAOA,OAAO,CAACH,QAAf;IACA,OAAOG,OAAP;EACD;AACF,CAzBM;;;;AA2BA,MAAMS,cAAc,GAAG,MAAOb,QAAP,IAAoB;EAChD,MAAMc,eAAe,GAAG;IACtBd;EADsB,CAAxB;EAGA,MAAMe,gBAAgB,GAAG;IACvBnB,GAAG,EAAE,CADkB;IAEvBI,QAAQ,EAAE,CAFa;IAGvBE,SAAS,EAAE,CAHY;IAIvBC,QAAQ,EAAE,CAJa;IAKvBa,iBAAiB,EAAE,CALI;IAMvBC,KAAK,EAAE;EANgB,CAAzB;EAQA,MAAMb,OAAO,GAAG,MAAMZ,cAAc,CAACC,YAAf,CACpBY,YADoB,EAEpBS,eAFoB,EAGpBC,gBAHoB,CAAtB;EAKA,OAAOX,OAAP;AACD,CAlBM;;;;AAoBA,MAAMc,iBAAiB,GAAG,MAAOpB,WAAP,IAAuB;EACtD,MAAM;IACJI,SADI;IACOC,QADP;IACiBa,iBADjB;IACoCC,KADpC;IAC2CjB;EAD3C,IAEFF,WAFJ;EAGA,MAAMgB,eAAe,GAAG;IACtBd;EADsB,CAAxB;EAGA,MAAMmB,eAAe,GAAG;IACtBC,IAAI,EAAE;MACJlB,SADI;MAEJC,QAFI;MAGJa,iBAHI;MAIJC;IAJI;EADgB,CAAxB;EAQA,MAAMzB,cAAc,CAAC6B,cAAf,CAA8BhB,YAA9B,EAAqCS,eAArC,EAAsDK,eAAtD,CAAN;AACD,CAhBM"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/EncryptionService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateBcryptPassword = exports.compareBcryptPassword = void 0;\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateBcryptPassword = password => {\n  const salt = _bcryptjs.default.genSaltSync(10);\n\n  const hash = _bcryptjs.default.hashSync(password, salt);\n\n  return hash;\n};\n\nexports.generateBcryptPassword = generateBcryptPassword;\n\nconst compareBcryptPassword = (password, bcryptedPassword) => {\n  const isValid = _bcryptjs.default.compareSync(password, bcryptedPassword);\n\n  return isValid;\n};\n\nexports.compareBcryptPassword = compareBcryptPassword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZUJjcnlwdFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdFN5bmMiLCJoYXNoIiwiaGFzaFN5bmMiLCJjb21wYXJlQmNyeXB0UGFzc3dvcmQiLCJiY3J5cHRlZFBhc3N3b3JkIiwiaXNWYWxpZCIsImNvbXBhcmVTeW5jIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsiRW5jcnlwdGlvblNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQmNyeXB0UGFzc3dvcmQgPSAocGFzc3dvcmQpID0+IHtcbiAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMCk7XG4gIGNvbnN0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpO1xuICByZXR1cm4gaGFzaDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wYXJlQmNyeXB0UGFzc3dvcmQgPSAocGFzc3dvcmQsIGJjcnlwdGVkUGFzc3dvcmQpID0+IHtcbiAgY29uc3QgaXNWYWxpZCA9IGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgYmNyeXB0ZWRQYXNzd29yZCk7XG4gIHJldHVybiBpc1ZhbGlkO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRU8sTUFBTUEsc0JBQXNCLEdBQUlDLFFBQUQsSUFBYztFQUNsRCxNQUFNQyxJQUFJLEdBQUdDLGtCQUFPQyxXQUFQLENBQW1CLEVBQW5CLENBQWI7O0VBQ0EsTUFBTUMsSUFBSSxHQUFHRixrQkFBT0csUUFBUCxDQUFnQkwsUUFBaEIsRUFBMEJDLElBQTFCLENBQWI7O0VBQ0EsT0FBT0csSUFBUDtBQUNELENBSk07Ozs7QUFNQSxNQUFNRSxxQkFBcUIsR0FBRyxDQUFDTixRQUFELEVBQVdPLGdCQUFYLEtBQWdDO0VBQ25FLE1BQU1DLE9BQU8sR0FBR04sa0JBQU9PLFdBQVAsQ0FBbUJULFFBQW5CLEVBQTZCTyxnQkFBN0IsQ0FBaEI7O0VBQ0EsT0FBT0MsT0FBUDtBQUNELENBSE0ifQ==","map":{"version":3,"names":["generateBcryptPassword","password","salt","bcrypt","genSaltSync","hash","hashSync","compareBcryptPassword","bcryptedPassword","isValid","compareSync"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/services/","sources":["EncryptionService.js"],"sourcesContent":["import bcrypt from \"bcryptjs\";\n\nexport const generateBcryptPassword = (password) => {\n  const salt = bcrypt.genSaltSync(10);\n  const hash = bcrypt.hashSync(password, salt);\n  return hash;\n};\n\nexport const compareBcryptPassword = (password, bcryptedPassword) => {\n  const isValid = bcrypt.compareSync(password, bcryptedPassword);\n  return isValid;\n};\n"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,sBAAsB,GAAIC,QAAD,IAAc;EAClD,MAAMC,IAAI,GAAGC,kBAAOC,WAAP,CAAmB,EAAnB,CAAb;;EACA,MAAMC,IAAI,GAAGF,kBAAOG,QAAP,CAAgBL,QAAhB,EAA0BC,IAA1B,CAAb;;EACA,OAAOG,IAAP;AACD,CAJM;;;;AAMA,MAAME,qBAAqB,GAAG,CAACN,QAAD,EAAWO,gBAAX,KAAgC;EACnE,MAAMC,OAAO,GAAGN,kBAAOO,WAAP,CAAmBT,QAAnB,EAA6BO,gBAA7B,CAAhB;;EACA,OAAOC,OAAP;AACD,CAHM"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/Outboundcall.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _common = _interopRequireDefault(require(\"../commons/util/common\"));\n\nvar outboundcallController = _interopRequireWildcard(require(\"../controllers/OutboundcallController\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.post(\"/init/:param\", (0, _common.default)(outboundcallController.callInit));\nrouter.get(\"/external/call/handle/:param\", (0, _common.default)(outboundcallController.handleCall));\nrouter.get(\"/numbers/list/:param\", (0, _common.default)(outboundcallController.didNumberList));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0Iiwib3V0Ym91bmRjYWxsQ29udHJvbGxlciIsImNhbGxJbml0IiwiZ2V0IiwiaGFuZGxlQ2FsbCIsImRpZE51bWJlckxpc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL3JvdXRlcy8iLCJzb3VyY2VzIjpbIk91dGJvdW5kY2FsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0ICB3aXRoQXN5bmNDb250cm9sbGVyICBmcm9tIFwiLi4vY29tbW9ucy91dGlsL2NvbW1vblwiO1xuaW1wb3J0ICogYXMgb3V0Ym91bmRjYWxsQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvT3V0Ym91bmRjYWxsQ29udHJvbGxlclwiO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcbnJvdXRlci5wb3N0KFwiL2luaXQvOnBhcmFtXCIsIHdpdGhBc3luY0NvbnRyb2xsZXIob3V0Ym91bmRjYWxsQ29udHJvbGxlci5jYWxsSW5pdCkpO1xucm91dGVyLmdldChcIi9leHRlcm5hbC9jYWxsL2hhbmRsZS86cGFyYW1cIiwgd2l0aEFzeW5jQ29udHJvbGxlcihvdXRib3VuZGNhbGxDb250cm9sbGVyLmhhbmRsZUNhbGwpKTtcbnJvdXRlci5nZXQoXCIvbnVtYmVycy9saXN0LzpwYXJhbVwiLCB3aXRoQXN5bmNDb250cm9sbGVyKG91dGJvdW5kY2FsbENvbnRyb2xsZXIuZGlkTnVtYmVyTGlzdCkpO1xuXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUNBQSxNQUFNLENBQUNDLElBQVAsQ0FBWSxjQUFaLEVBQTRCLHFCQUFvQkMsc0JBQXNCLENBQUNDLFFBQTNDLENBQTVCO0FBQ0FILE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLDhCQUFYLEVBQTJDLHFCQUFvQkYsc0JBQXNCLENBQUNHLFVBQTNDLENBQTNDO0FBQ0FMLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLHFCQUFvQkYsc0JBQXNCLENBQUNJLGFBQTNDLENBQW5DO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFlUixNQUFmIn0=","map":{"version":3,"names":["router","post","outboundcallController","callInit","get","handleCall","didNumberList","module","exports"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/routes/","sources":["Outboundcall.js"],"sourcesContent":["import { Router } from \"express\";\nimport  withAsyncController  from \"../commons/util/common\";\nimport * as outboundcallController from \"../controllers/OutboundcallController\";\n\nconst router = Router();\nrouter.post(\"/init/:param\", withAsyncController(outboundcallController.callInit));\nrouter.get(\"/external/call/handle/:param\", withAsyncController(outboundcallController.handleCall));\nrouter.get(\"/numbers/list/:param\", withAsyncController(outboundcallController.didNumberList));\n\nmodule.exports=router;"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AACAA,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA4B,qBAAoBC,sBAAsB,CAACC,QAA3C,CAA5B;AACAH,MAAM,CAACI,GAAP,CAAW,8BAAX,EAA2C,qBAAoBF,sBAAsB,CAACG,UAA3C,CAA3C;AACAL,MAAM,CAACI,GAAP,CAAW,sBAAX,EAAmC,qBAAoBF,sBAAsB,CAACI,aAA3C,CAAnC;AAEAC,MAAM,CAACC,OAAP,GAAeR,MAAf"}},"mtime":1653908429443},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/commons/util/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/commons/util/common.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst withAsyncController = handler => (req, res, next) => handler(req, res, next).catch(next);\n\nvar _default = withAsyncController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3aXRoQXN5bmNDb250cm9sbGVyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb21tb25zL3V0aWwvIiwic291cmNlcyI6WyJjb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgd2l0aEFzeW5jQ29udHJvbGxlciA9IChoYW5kbGVyKSA9PiAocmVxLCByZXMsIG5leHQpID0+IGhhbmRsZXIocmVxLCByZXMsIG5leHQpLmNhdGNoKG5leHQpO1xuXG5leHBvcnQgZGVmYXVsdCAgd2l0aEFzeW5jQ29udHJvbGxlciA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxtQkFBbUIsR0FBSUMsT0FBRCxJQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CSCxPQUFPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLENBQVAsQ0FBd0JDLEtBQXhCLENBQThCRCxJQUE5QixDQUE3RDs7ZUFFZ0JKLG1CIn0=","map":{"version":3,"names":["withAsyncController","handler","req","res","next","catch"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/commons/util/","sources":["common.js"],"sourcesContent":["const withAsyncController = (handler) => (req, res, next) => handler(req, res, next).catch(next);\n\nexport default  withAsyncController ;\n"],"mappings":";;;;;;;AAAA,MAAMA,mBAAmB,GAAIC,OAAD,IAAa,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoBH,OAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,CAAP,CAAwBC,KAAxB,CAA8BD,IAA9B,CAA7D;;eAEgBJ,mB"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/OutboundcallController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.callInit = callInit;\nexports.didNumberList = didNumberList;\nexports.handleCall = handleCall;\n\nvar outboundCallService = _interopRequireWildcard(require(\"../services/OutboundcallService\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nasync function callInit(req, res, next) {\n  const {\n    organisationId\n  } = req.params; // fetch and store the didID and number from the request body\n\n  const {\n    didId,\n    number\n  } = req.body;\n  log(\"info\", {\n    organisationId,\n    didId,\n    number\n  }); // get the userID from the session object\n\n  const userId = req.session.user_id; // initiate the call from the outboundcallservice from the services\n\n  await outboundCallService.initCall(organisationId, {\n    didId,\n    userId,\n    number\n  });\n  res.data = {};\n  log(\"info\", res.data);\n  next();\n}\n\nasync function didNumberList(req, res, next) {\n  const {\n    param\n  } = req.params;\n  const organisationId = param;\n  console.log(\"the org id form teh req.params is ++++++++++++++++\" + organisationId);\n  const {\n    pageNo,\n    pageSize\n  } = req.query; // log(\"info\", { organisationId, page, pageSize });\n\n  console.log(\"/*/*/*/*/*//*/*/* the page number and size is\" + pageNo, pageSize);\n  const list = await outboundCallService.didNumberList(organisationId, {\n    pageNo,\n    pageSize\n  });\n  res.data = list;\n  log(\"info\", res.data);\n  next();\n}\n\nasync function handleCall(req, res) {\n  const {\n    callId\n  } = req.params;\n  const data = req.query;\n  log(\"info\", {\n    callId,\n    data\n  });\n  const response = await outboundCallService.handleCall({\n    callId\n  }, data);\n  log(\"info\", {\n    response\n  });\n  res.send(response);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWxsSW5pdCIsInJlcSIsInJlcyIsIm5leHQiLCJvcmdhbmlzYXRpb25JZCIsInBhcmFtcyIsImRpZElkIiwibnVtYmVyIiwiYm9keSIsImxvZyIsInVzZXJJZCIsInNlc3Npb24iLCJ1c2VyX2lkIiwib3V0Ym91bmRDYWxsU2VydmljZSIsImluaXRDYWxsIiwiZGF0YSIsImRpZE51bWJlckxpc3QiLCJwYXJhbSIsImNvbnNvbGUiLCJwYWdlTm8iLCJwYWdlU2l6ZSIsInF1ZXJ5IiwibGlzdCIsImhhbmRsZUNhbGwiLCJjYWxsSWQiLCJyZXNwb25zZSIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJPdXRib3VuZGNhbGxDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG91dGJvdW5kQ2FsbFNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL091dGJvdW5kY2FsbFNlcnZpY2VcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxJbml0KHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IHsgb3JnYW5pc2F0aW9uSWQgfSA9IHJlcS5wYXJhbXM7XG4gIC8vIGZldGNoIGFuZCBzdG9yZSB0aGUgZGlkSUQgYW5kIG51bWJlciBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgY29uc3QgeyBkaWRJZCwgbnVtYmVyIH0gPSByZXEuYm9keTtcbiAgbG9nKFwiaW5mb1wiLCB7IG9yZ2FuaXNhdGlvbklkLCBkaWRJZCwgbnVtYmVyIH0pO1xuICAvLyBnZXQgdGhlIHVzZXJJRCBmcm9tIHRoZSBzZXNzaW9uIG9iamVjdFxuICBjb25zdCB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VyX2lkO1xuICAvLyBpbml0aWF0ZSB0aGUgY2FsbCBmcm9tIHRoZSBvdXRib3VuZGNhbGxzZXJ2aWNlIGZyb20gdGhlIHNlcnZpY2VzXG4gIGF3YWl0IG91dGJvdW5kQ2FsbFNlcnZpY2UuaW5pdENhbGwob3JnYW5pc2F0aW9uSWQsIHtcbiAgICBkaWRJZCxcbiAgICB1c2VySWQsXG4gICAgbnVtYmVyLFxuICB9KTtcbiAgcmVzLmRhdGEgPSB7fTtcbiAgbG9nKFwiaW5mb1wiLCByZXMuZGF0YSk7XG4gIG5leHQoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpZE51bWJlckxpc3QocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3QgeyBwYXJhbSB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3Qgb3JnYW5pc2F0aW9uSWQ9cGFyYW1cbiAgY29uc29sZS5sb2coXCJ0aGUgb3JnIGlkIGZvcm0gdGVoIHJlcS5wYXJhbXMgaXMgKysrKysrKysrKysrKysrK1wiK29yZ2FuaXNhdGlvbklkKVxuICBjb25zdCB7IHBhZ2VObywgcGFnZVNpemUgfSA9IHJlcS5xdWVyeTtcbiAgLy8gbG9nKFwiaW5mb1wiLCB7IG9yZ2FuaXNhdGlvbklkLCBwYWdlLCBwYWdlU2l6ZSB9KTtcbiAgY29uc29sZS5sb2coXCIvKi8qLyovKi8qLy8qLyovKiB0aGUgcGFnZSBudW1iZXIgYW5kIHNpemUgaXNcIitwYWdlTm8scGFnZVNpemUpO1xuICBjb25zdCBsaXN0ID0gYXdhaXQgb3V0Ym91bmRDYWxsU2VydmljZS5kaWROdW1iZXJMaXN0KG9yZ2FuaXNhdGlvbklkLCB7XG4gICAgcGFnZU5vLCBwYWdlU2l6ZSxcbiAgfSk7XG4gIHJlcy5kYXRhID0gbGlzdDtcbiAgbG9nKFwiaW5mb1wiLCByZXMuZGF0YSk7XG4gIG5leHQoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNhbGwgKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgY2FsbElkIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCBkYXRhID0gcmVxLnF1ZXJ5O1xuICBsb2coXCJpbmZvXCIsIHsgY2FsbElkLCBkYXRhIH0pO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG91dGJvdW5kQ2FsbFNlcnZpY2UuaGFuZGxlQ2FsbCh7IGNhbGxJZCB9LCBkYXRhKTtcbiAgbG9nKFwiaW5mb1wiLCB7IHJlc3BvbnNlIH0pO1xuICByZXMuc2VuZChyZXNwb25zZSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFTyxlQUFlQSxRQUFmLENBQXdCQyxHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0NDLElBQWxDLEVBQXdDO0VBQzdDLE1BQU07SUFBRUM7RUFBRixJQUFxQkgsR0FBRyxDQUFDSSxNQUEvQixDQUQ2QyxDQUU3Qzs7RUFDQSxNQUFNO0lBQUVDLEtBQUY7SUFBU0M7RUFBVCxJQUFvQk4sR0FBRyxDQUFDTyxJQUE5QjtFQUNBQyxHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVMLGNBQUY7SUFBa0JFLEtBQWxCO0lBQXlCQztFQUF6QixDQUFULENBQUgsQ0FKNkMsQ0FLN0M7O0VBQ0EsTUFBTUcsTUFBTSxHQUFHVCxHQUFHLENBQUNVLE9BQUosQ0FBWUMsT0FBM0IsQ0FONkMsQ0FPN0M7O0VBQ0EsTUFBTUMsbUJBQW1CLENBQUNDLFFBQXBCLENBQTZCVixjQUE3QixFQUE2QztJQUNqREUsS0FEaUQ7SUFFakRJLE1BRmlEO0lBR2pESDtFQUhpRCxDQUE3QyxDQUFOO0VBS0FMLEdBQUcsQ0FBQ2EsSUFBSixHQUFXLEVBQVg7RUFDQU4sR0FBRyxDQUFDLE1BQUQsRUFBU1AsR0FBRyxDQUFDYSxJQUFiLENBQUg7RUFDQVosSUFBSTtBQUNMOztBQUVNLGVBQWVhLGFBQWYsQ0FBNkJmLEdBQTdCLEVBQWtDQyxHQUFsQyxFQUF1Q0MsSUFBdkMsRUFBNkM7RUFDbEQsTUFBTTtJQUFFYztFQUFGLElBQVloQixHQUFHLENBQUNJLE1BQXRCO0VBQ0EsTUFBTUQsY0FBYyxHQUFDYSxLQUFyQjtFQUNBQyxPQUFPLENBQUNULEdBQVIsQ0FBWSx1REFBcURMLGNBQWpFO0VBQ0EsTUFBTTtJQUFFZSxNQUFGO0lBQVVDO0VBQVYsSUFBdUJuQixHQUFHLENBQUNvQixLQUFqQyxDQUprRCxDQUtsRDs7RUFDQUgsT0FBTyxDQUFDVCxHQUFSLENBQVksa0RBQWdEVSxNQUE1RCxFQUFtRUMsUUFBbkU7RUFDQSxNQUFNRSxJQUFJLEdBQUcsTUFBTVQsbUJBQW1CLENBQUNHLGFBQXBCLENBQWtDWixjQUFsQyxFQUFrRDtJQUNuRWUsTUFEbUU7SUFDM0RDO0VBRDJELENBQWxELENBQW5CO0VBR0FsQixHQUFHLENBQUNhLElBQUosR0FBV08sSUFBWDtFQUNBYixHQUFHLENBQUMsTUFBRCxFQUFTUCxHQUFHLENBQUNhLElBQWIsQ0FBSDtFQUNBWixJQUFJO0FBQ0w7O0FBRU0sZUFBZW9CLFVBQWYsQ0FBMkJ0QixHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUM7RUFDMUMsTUFBTTtJQUFFc0I7RUFBRixJQUFhdkIsR0FBRyxDQUFDSSxNQUF2QjtFQUNBLE1BQU1VLElBQUksR0FBR2QsR0FBRyxDQUFDb0IsS0FBakI7RUFDQVosR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFZSxNQUFGO0lBQVVUO0VBQVYsQ0FBVCxDQUFIO0VBQ0EsTUFBTVUsUUFBUSxHQUFHLE1BQU1aLG1CQUFtQixDQUFDVSxVQUFwQixDQUErQjtJQUFFQztFQUFGLENBQS9CLEVBQTJDVCxJQUEzQyxDQUF2QjtFQUNBTixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVnQjtFQUFGLENBQVQsQ0FBSDtFQUNBdkIsR0FBRyxDQUFDd0IsSUFBSixDQUFTRCxRQUFUO0FBQ0QifQ==","map":{"version":3,"names":["callInit","req","res","next","organisationId","params","didId","number","body","log","userId","session","user_id","outboundCallService","initCall","data","didNumberList","param","console","pageNo","pageSize","query","list","handleCall","callId","response","send"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/controllers/","sources":["OutboundcallController.js"],"sourcesContent":["import * as outboundCallService from \"../services/OutboundcallService\";\n\nexport async function callInit(req, res, next) {\n  const { organisationId } = req.params;\n  // fetch and store the didID and number from the request body\n  const { didId, number } = req.body;\n  log(\"info\", { organisationId, didId, number });\n  // get the userID from the session object\n  const userId = req.session.user_id;\n  // initiate the call from the outboundcallservice from the services\n  await outboundCallService.initCall(organisationId, {\n    didId,\n    userId,\n    number,\n  });\n  res.data = {};\n  log(\"info\", res.data);\n  next();\n}\n\nexport async function didNumberList(req, res, next) {\n  const { param } = req.params;\n  const organisationId=param\n  console.log(\"the org id form teh req.params is ++++++++++++++++\"+organisationId)\n  const { pageNo, pageSize } = req.query;\n  // log(\"info\", { organisationId, page, pageSize });\n  console.log(\"/*/*/*/*/*//*/*/* the page number and size is\"+pageNo,pageSize);\n  const list = await outboundCallService.didNumberList(organisationId, {\n    pageNo, pageSize,\n  });\n  res.data = list;\n  log(\"info\", res.data);\n  next();\n}\n\nexport async function handleCall (req, res) {\n  const { callId } = req.params;\n  const data = req.query;\n  log(\"info\", { callId, data });\n  const response = await outboundCallService.handleCall({ callId }, data);\n  log(\"info\", { response });\n  res.send(response);\n}\n"],"mappings":";;;;;;;;;AAAA;;;;;;AAEO,eAAeA,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwC;EAC7C,MAAM;IAAEC;EAAF,IAAqBH,GAAG,CAACI,MAA/B,CAD6C,CAE7C;;EACA,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAoBN,GAAG,CAACO,IAA9B;EACAC,GAAG,CAAC,MAAD,EAAS;IAAEL,cAAF;IAAkBE,KAAlB;IAAyBC;EAAzB,CAAT,CAAH,CAJ6C,CAK7C;;EACA,MAAMG,MAAM,GAAGT,GAAG,CAACU,OAAJ,CAAYC,OAA3B,CAN6C,CAO7C;;EACA,MAAMC,mBAAmB,CAACC,QAApB,CAA6BV,cAA7B,EAA6C;IACjDE,KADiD;IAEjDI,MAFiD;IAGjDH;EAHiD,CAA7C,CAAN;EAKAL,GAAG,CAACa,IAAJ,GAAW,EAAX;EACAN,GAAG,CAAC,MAAD,EAASP,GAAG,CAACa,IAAb,CAAH;EACAZ,IAAI;AACL;;AAEM,eAAea,aAAf,CAA6Bf,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;EAClD,MAAM;IAAEc;EAAF,IAAYhB,GAAG,CAACI,MAAtB;EACA,MAAMD,cAAc,GAACa,KAArB;EACAC,OAAO,CAACT,GAAR,CAAY,uDAAqDL,cAAjE;EACA,MAAM;IAAEe,MAAF;IAAUC;EAAV,IAAuBnB,GAAG,CAACoB,KAAjC,CAJkD,CAKlD;;EACAH,OAAO,CAACT,GAAR,CAAY,kDAAgDU,MAA5D,EAAmEC,QAAnE;EACA,MAAME,IAAI,GAAG,MAAMT,mBAAmB,CAACG,aAApB,CAAkCZ,cAAlC,EAAkD;IACnEe,MADmE;IAC3DC;EAD2D,CAAlD,CAAnB;EAGAlB,GAAG,CAACa,IAAJ,GAAWO,IAAX;EACAb,GAAG,CAAC,MAAD,EAASP,GAAG,CAACa,IAAb,CAAH;EACAZ,IAAI;AACL;;AAEM,eAAeoB,UAAf,CAA2BtB,GAA3B,EAAgCC,GAAhC,EAAqC;EAC1C,MAAM;IAAEsB;EAAF,IAAavB,GAAG,CAACI,MAAvB;EACA,MAAMU,IAAI,GAAGd,GAAG,CAACoB,KAAjB;EACAZ,GAAG,CAAC,MAAD,EAAS;IAAEe,MAAF;IAAUT;EAAV,CAAT,CAAH;EACA,MAAMU,QAAQ,GAAG,MAAMZ,mBAAmB,CAACU,UAApB,CAA+B;IAAEC;EAAF,CAA/B,EAA2CT,IAA3C,CAAvB;EACAN,GAAG,CAAC,MAAD,EAAS;IAAEgB;EAAF,CAAT,CAAH;EACAvB,GAAG,CAACwB,IAAJ,CAASD,QAAT;AACD"}},"mtime":1653910008559},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/OutboundcallService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.didNumberList = didNumberList;\nexports.handleCall = handleCall;\nexports.initCall = initCall;\n\nvar kookooService = _interopRequireWildcard(require(\"./KookooService\"));\n\nvar ErrorUtil = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nvar ErrorType = _interopRequireWildcard(require(\"../constants/ErrorConstants\"));\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _index = require(\"../models/mainDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-disable no-undef */\nasync function initCall(orgId, {\n  didId,\n  number,\n  userId\n}) {\n  log(\"info\", {\n    orgId,\n    didId,\n    number,\n    userId\n  }); //  Check if the organisation exists or not in the organisations collecion\n\n  const org = await AbstractModels.mongoFindOne(_index.Organisations, {\n    organisation_id: orgId\n  });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS); // Check if thedidNumberbelongs to the current org or not in the BusinessVirtualNumbers Collection\n\n  const didNumber = await AbstractModels.mongoFindOne(_index.BusinessVirtualNumbers, {\n    _id: ObjectId(didId),\n    associatedOrganisation: org._id\n  });\n  if (!didNumber) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND); // Retrieve the profile of the user form IVRVirtualProfile collection\n\n  const profile = await AbstractModels.mongoFindOne(_index.IVRVirtualProfile, {\n    user_id: userId\n  });\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND); // get the ZVRmoibleno i.e. the personal number of the user who is initating the call\n\n  const zvrMobileNo = profile.zvr_mobile_no.toString().slice(-10); // slice the destinationNumber\n\n  const destinationNumber = number.toString().slice(-10);\n\n  if (zvrMobileNo === destinationNumber) {\n    throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO);\n  } //  store the call details in the BusinessCalls collecition\n\n\n  const call = await AbstractModels.mongoInsertOne(BusinessCalls, {\n    user: profile._id,\n    organisationId: orgId,\n    didNumber: didNumber.virtualNumber,\n    destinationNumber: number,\n    initiatorNumber: profile.zvr_mobile_no,\n    time: new Date().toISOString()\n  });\n  log(\"info\", {\n    orgId,\n    didId,\n    number,\n    userId\n  }); // Initiate the call via the KooKooservice\n  // eslint-disable-next-line no-return-await\n\n  return await kookooService.initCall(call);\n}\n\nasync function didNumberList(orgId, query) {\n  console.log(\"++++++++++++ the organisation id is\" + orgId);\n  const skip = Number(query.pageNo || 0) * Number(query.pageSize || 20);\n  const limit = skip + Number(query.pageSize);\n  console.log(\"the value of the skip and limit are +++++++++++++++\" + skip, limit);\n  const org = await AbstractModels.mongoFindOne(_index.Organisations, {\n    organisation_id: orgId\n  });\n  console.log('the organisaiton is ++++++++++' + JSON.stringify(org));\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  const dbQuery = {\n    associatedOrganisation: org._id\n  };\n  const total = await _index.BusinessDIDNumbers.count(dbQuery);\n  const items = await _index.BusinessDIDNumbers.find(dbQuery).skip(skip).limit(limit).exec();\n  const out = {\n    items,\n    metadata: {\n      total,\n      query\n    }\n  };\n  log(\"info\", out);\n  return out;\n}\n\nasync function handleCall({\n  callId\n}, data) {\n  log('info', {\n    callId,\n    data\n  });\n  const call = await AbstractModels.mongoFindOne(BusinessCalls, {\n    _id: ObjectId(callId)\n  });\n  if (!call) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n  const handler = callEventHandlers[data.event];\n  if (!handler) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND);\n  log('info', 'end');\n  return handler(call, data);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0Q2FsbCIsIm9yZ0lkIiwiZGlkSWQiLCJudW1iZXIiLCJ1c2VySWQiLCJsb2ciLCJvcmciLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvRmluZE9uZSIsIk9yZ2FuaXNhdGlvbnMiLCJvcmdhbmlzYXRpb25faWQiLCJFcnJvclV0aWwiLCJjcmVhdGVFcnJvck1zZyIsIkVycm9yVHlwZSIsIk9SR0FOSVNBVElPTl9OT1RfRVhJU1RTIiwiZGlkTnVtYmVyIiwiQnVzaW5lc3NWaXJ0dWFsTnVtYmVycyIsIl9pZCIsIk9iamVjdElkIiwiYXNzb2NpYXRlZE9yZ2FuaXNhdGlvbiIsIkJVU0lORVNTX0RJRF9OVU1CRVJfTk9UX0ZPVU5EIiwicHJvZmlsZSIsIklWUlZpcnR1YWxQcm9maWxlIiwidXNlcl9pZCIsIlVTRVJfTk9UX0ZPVU5EIiwienZyTW9iaWxlTm8iLCJ6dnJfbW9iaWxlX25vIiwidG9TdHJpbmciLCJzbGljZSIsImRlc3RpbmF0aW9uTnVtYmVyIiwiQlVTSU5FU1NfRElEX05VTUJFUl9VTkFCTEVfQ0FMTF9TQU1FX05PIiwiY2FsbCIsIm1vbmdvSW5zZXJ0T25lIiwiQnVzaW5lc3NDYWxscyIsInVzZXIiLCJvcmdhbmlzYXRpb25JZCIsInZpcnR1YWxOdW1iZXIiLCJpbml0aWF0b3JOdW1iZXIiLCJ0aW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia29va29vU2VydmljZSIsImRpZE51bWJlckxpc3QiLCJxdWVyeSIsImNvbnNvbGUiLCJza2lwIiwiTnVtYmVyIiwicGFnZU5vIiwicGFnZVNpemUiLCJsaW1pdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYlF1ZXJ5IiwidG90YWwiLCJCdXNpbmVzc0RJRE51bWJlcnMiLCJjb3VudCIsIml0ZW1zIiwiZmluZCIsImV4ZWMiLCJvdXQiLCJtZXRhZGF0YSIsImhhbmRsZUNhbGwiLCJjYWxsSWQiLCJkYXRhIiwiaGFuZGxlciIsImNhbGxFdmVudEhhbmRsZXJzIiwiZXZlbnQiLCJCVVNJTkVTU19PVVRCT1VORF9DQUxMX0VWRU5UX0hBTkRMRVJfTk9UX0ZPVU5EIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsiT3V0Ym91bmRjYWxsU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuaW1wb3J0ICogYXMga29va29vU2VydmljZSBmcm9tIFwiLi9Lb29rb29TZXJ2aWNlXCI7XG5pbXBvcnQgKiBhcyBFcnJvclV0aWwgZnJvbSBcIi4uL2Vycm9ycy9FcnJvclV0aWxzXCI7XG5pbXBvcnQgKiBhcyBFcnJvclR5cGUgZnJvbSBcIi4uL2NvbnN0YW50cy9FcnJvckNvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQWJzdHJhY3RNb2RlbHMgZnJvbSBcIi4uL21vZGVscy9BYnN0cmFjdE1vZGVsc1wiO1xuaW1wb3J0IHsgT3JnYW5pc2F0aW9ucywgSVZSVmlydHVhbFByb2ZpbGUsIEJ1c2luZXNzRElETnVtYmVycyAsQnVzaW5lc3NWaXJ0dWFsTnVtYmVyc30gZnJvbSBcIi4uL21vZGVscy9tYWluRGJTY2hlbWEvaW5kZXhcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRDYWxsKG9yZ0lkLCB7IGRpZElkLCBudW1iZXIsIHVzZXJJZCB9KSB7XG4gIGxvZyhcImluZm9cIiwge1xuICAgIG9yZ0lkLCBkaWRJZCwgbnVtYmVyLCB1c2VySWQsXG4gIH0pO1xuICAvLyAgQ2hlY2sgaWYgdGhlIG9yZ2FuaXNhdGlvbiBleGlzdHMgb3Igbm90IGluIHRoZSBvcmdhbmlzYXRpb25zIGNvbGxlY2lvblxuICBjb25zdCBvcmcgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoT3JnYW5pc2F0aW9ucywgeyBvcmdhbmlzYXRpb25faWQ6IG9yZ0lkIH0pO1xuICBpZiAoIW9yZykgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5PUkdBTklTQVRJT05fTk9UX0VYSVNUUyk7XG4gIC8vIENoZWNrIGlmIHRoZWRpZE51bWJlcmJlbG9uZ3MgdG8gdGhlIGN1cnJlbnQgb3JnIG9yIG5vdCBpbiB0aGUgQnVzaW5lc3NWaXJ0dWFsTnVtYmVycyBDb2xsZWN0aW9uXG4gIGNvbnN0IGRpZE51bWJlciA9IGF3YWl0IEFic3RyYWN0TW9kZWxzLm1vbmdvRmluZE9uZShCdXNpbmVzc1ZpcnR1YWxOdW1iZXJzLCB7XG4gICAgX2lkOiBPYmplY3RJZChkaWRJZCksXG4gICAgYXNzb2NpYXRlZE9yZ2FuaXNhdGlvbjogb3JnLl9pZCxcbiAgfSk7XG4gIGlmICghZGlkTnVtYmVyKSB0aHJvdyBFcnJvclV0aWwuY3JlYXRlRXJyb3JNc2coRXJyb3JUeXBlLkJVU0lORVNTX0RJRF9OVU1CRVJfTk9UX0ZPVU5EKTtcbiAgLy8gUmV0cmlldmUgdGhlIHByb2ZpbGUgb2YgdGhlIHVzZXIgZm9ybSBJVlJWaXJ0dWFsUHJvZmlsZSBjb2xsZWN0aW9uXG4gIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoSVZSVmlydHVhbFByb2ZpbGUsIHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gIH0pO1xuICBpZiAoIXByb2ZpbGUpIHRocm93IEVycm9yVXRpbC5jcmVhdGVFcnJvck1zZyhFcnJvclR5cGUuVVNFUl9OT1RfRk9VTkQpO1xuICAvLyBnZXQgdGhlIFpWUm1vaWJsZW5vIGkuZS4gdGhlIHBlcnNvbmFsIG51bWJlciBvZiB0aGUgdXNlciB3aG8gaXMgaW5pdGF0aW5nIHRoZSBjYWxsXG4gIGNvbnN0IHp2ck1vYmlsZU5vID0gcHJvZmlsZS56dnJfbW9iaWxlX25vLnRvU3RyaW5nKCkuc2xpY2UoLTEwKTtcbiAgLy8gc2xpY2UgdGhlIGRlc3RpbmF0aW9uTnVtYmVyXG4gIGNvbnN0IGRlc3RpbmF0aW9uTnVtYmVyID0gbnVtYmVyLnRvU3RyaW5nKCkuc2xpY2UoLTEwKTtcblxuICBpZiAoenZyTW9iaWxlTm8gPT09IGRlc3RpbmF0aW9uTnVtYmVyKSB7XG4gICAgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5CVVNJTkVTU19ESURfTlVNQkVSX1VOQUJMRV9DQUxMX1NBTUVfTk8pO1xuICB9XG4gIC8vICBzdG9yZSB0aGUgY2FsbCBkZXRhaWxzIGluIHRoZSBCdXNpbmVzc0NhbGxzIGNvbGxlY2l0aW9uXG4gIGNvbnN0IGNhbGwgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0luc2VydE9uZShCdXNpbmVzc0NhbGxzLCB7XG4gICAgdXNlcjogcHJvZmlsZS5faWQsXG4gICAgb3JnYW5pc2F0aW9uSWQ6IG9yZ0lkLFxuICAgIGRpZE51bWJlcjogZGlkTnVtYmVyLnZpcnR1YWxOdW1iZXIsXG4gICAgZGVzdGluYXRpb25OdW1iZXI6IG51bWJlcixcbiAgICBpbml0aWF0b3JOdW1iZXI6IHByb2ZpbGUuenZyX21vYmlsZV9ubyxcbiAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIH0pO1xuXG4gIGxvZyhcImluZm9cIiwge1xuICAgIG9yZ0lkLCBkaWRJZCwgbnVtYmVyLCB1c2VySWQsXG4gIH0pO1xuICAvLyBJbml0aWF0ZSB0aGUgY2FsbCB2aWEgdGhlIEtvb0tvb3NlcnZpY2VcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hd2FpdFxuICByZXR1cm4gYXdhaXQga29va29vU2VydmljZS5pbml0Q2FsbChjYWxsKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpZE51bWJlckxpc3Qob3JnSWQsIHF1ZXJ5KSB7XG4gIGNvbnNvbGUubG9nKFwiKysrKysrKysrKysrIHRoZSBvcmdhbmlzYXRpb24gaWQgaXNcIitvcmdJZClcbiAgY29uc3Qgc2tpcCA9IE51bWJlcihxdWVyeS5wYWdlTm8gfHwgMCkgKiBOdW1iZXIocXVlcnkucGFnZVNpemUgfHwgMjApO1xuICBjb25zdCBsaW1pdCA9IHNraXAgKyBOdW1iZXIocXVlcnkucGFnZVNpemUpO1xuICBjb25zb2xlLmxvZyhcInRoZSB2YWx1ZSBvZiB0aGUgc2tpcCBhbmQgbGltaXQgYXJlICsrKysrKysrKysrKysrK1wiK3NraXAsbGltaXQpO1xuICBjb25zdCBvcmcgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoT3JnYW5pc2F0aW9ucywgeyBvcmdhbmlzYXRpb25faWQ6IG9yZ0lkIH0pO1xuICBjb25zb2xlLmxvZygndGhlIG9yZ2FuaXNhaXRvbiBpcyArKysrKysrKysrJytKU09OLnN0cmluZ2lmeShvcmcpKTtcbiAgaWYgKCFvcmcpIHRocm93IEVycm9yVXRpbC5jcmVhdGVFcnJvck1zZyhFcnJvclR5cGUuT1JHQU5JU0FUSU9OX05PVF9FWElTVFMpO1xuICBjb25zdCBkYlF1ZXJ5ID0geyBhc3NvY2lhdGVkT3JnYW5pc2F0aW9uOiBvcmcuX2lkIH07XG4gIGNvbnN0IHRvdGFsID0gYXdhaXQgQnVzaW5lc3NESUROdW1iZXJzLmNvdW50KGRiUXVlcnkpO1xuICBjb25zdCBpdGVtcyA9IGF3YWl0IEJ1c2luZXNzRElETnVtYmVycy5maW5kKGRiUXVlcnkpXG4gICAgLnNraXAoc2tpcClcbiAgICAubGltaXQobGltaXQpXG4gICAgLmV4ZWMoKTtcbiAgY29uc3Qgb3V0ID0ge1xuICAgIGl0ZW1zLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICB0b3RhbCxcbiAgICAgIHF1ZXJ5LFxuICAgIH0sXG4gIH07XG4gIGxvZyhcImluZm9cIiwgb3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNhbGwgKHsgY2FsbElkIH0sIGRhdGEpIHtcbiAgbG9nKCdpbmZvJywgeyBjYWxsSWQsIGRhdGEgfSk7XG4gIGNvbnN0IGNhbGwgPSBhd2FpdCBBYnN0cmFjdE1vZGVscy5tb25nb0ZpbmRPbmUoQnVzaW5lc3NDYWxscywgeyBfaWQ6IE9iamVjdElkKGNhbGxJZCkgfSk7XG4gIGlmICghY2FsbCkgdGhyb3cgRXJyb3JVdGlsLmNyZWF0ZUVycm9yTXNnKEVycm9yVHlwZS5CVVNJTkVTU19ESURfTlVNQkVSX05PVF9GT1VORCk7XG5cbiAgY29uc3QgaGFuZGxlciA9IGNhbGxFdmVudEhhbmRsZXJzW2RhdGEuZXZlbnRdO1xuICBpZiAoIWhhbmRsZXIpIHRocm93IEVycm9yVXRpbC5jcmVhdGVFcnJvck1zZyhFcnJvclR5cGUuQlVTSU5FU1NfT1VUQk9VTkRfQ0FMTF9FVkVOVF9IQU5ETEVSX05PVF9GT1VORCk7XG5cbiAgbG9nKCdpbmZvJywgJ2VuZCcpO1xuICByZXR1cm4gaGFuZGxlcihjYWxsLCBkYXRhKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFMQTtBQU9PLGVBQWVBLFFBQWYsQ0FBd0JDLEtBQXhCLEVBQStCO0VBQUVDLEtBQUY7RUFBU0MsTUFBVDtFQUFpQkM7QUFBakIsQ0FBL0IsRUFBMEQ7RUFDL0RDLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFDVkosS0FEVTtJQUNIQyxLQURHO0lBQ0lDLE1BREo7SUFDWUM7RUFEWixDQUFULENBQUgsQ0FEK0QsQ0FJL0Q7O0VBQ0EsTUFBTUUsR0FBRyxHQUFHLE1BQU1DLGNBQWMsQ0FBQ0MsWUFBZixDQUE0QkMsb0JBQTVCLEVBQTJDO0lBQUVDLGVBQWUsRUFBRVQ7RUFBbkIsQ0FBM0MsQ0FBbEI7RUFDQSxJQUFJLENBQUNLLEdBQUwsRUFBVSxNQUFNSyxTQUFTLENBQUNDLGNBQVYsQ0FBeUJDLFNBQVMsQ0FBQ0MsdUJBQW5DLENBQU4sQ0FOcUQsQ0FPL0Q7O0VBQ0EsTUFBTUMsU0FBUyxHQUFHLE1BQU1SLGNBQWMsQ0FBQ0MsWUFBZixDQUE0QlEsNkJBQTVCLEVBQW9EO0lBQzFFQyxHQUFHLEVBQUVDLFFBQVEsQ0FBQ2hCLEtBQUQsQ0FENkQ7SUFFMUVpQixzQkFBc0IsRUFBRWIsR0FBRyxDQUFDVztFQUY4QyxDQUFwRCxDQUF4QjtFQUlBLElBQUksQ0FBQ0YsU0FBTCxFQUFnQixNQUFNSixTQUFTLENBQUNDLGNBQVYs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","map":{"version":3,"names":["initCall","orgId","didId","number","userId","log","org","AbstractModels","mongoFindOne","Organisations","organisation_id","ErrorUtil","createErrorMsg","ErrorType","ORGANISATION_NOT_EXISTS","didNumber","BusinessVirtualNumbers","_id","ObjectId","associatedOrganisation","BUSINESS_DID_NUMBER_NOT_FOUND","profile","IVRVirtualProfile","user_id","USER_NOT_FOUND","zvrMobileNo","zvr_mobile_no","toString","slice","destinationNumber","BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO","call","mongoInsertOne","BusinessCalls","user","organisationId","virtualNumber","initiatorNumber","time","Date","toISOString","kookooService","didNumberList","query","console","skip","Number","pageNo","pageSize","limit","JSON","stringify","dbQuery","total","BusinessDIDNumbers","count","items","find","exec","out","metadata","handleCall","callId","data","handler","callEventHandlers","event","BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/services/","sources":["OutboundcallService.js"],"sourcesContent":["/* eslint-disable no-undef */\nimport * as kookooService from \"./KookooService\";\nimport * as ErrorUtil from \"../errors/ErrorUtils\";\nimport * as ErrorType from \"../constants/ErrorConstants\";\nimport * as AbstractModels from \"../models/AbstractModels\";\nimport { Organisations, IVRVirtualProfile, BusinessDIDNumbers ,BusinessVirtualNumbers} from \"../models/mainDbSchema/index\";\n\nexport async function initCall(orgId, { didId, number, userId }) {\n  log(\"info\", {\n    orgId, didId, number, userId,\n  });\n  //  Check if the organisation exists or not in the organisations collecion\n  const org = await AbstractModels.mongoFindOne(Organisations, { organisation_id: orgId });\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  // Check if thedidNumberbelongs to the current org or not in the BusinessVirtualNumbers Collection\n  const didNumber = await AbstractModels.mongoFindOne(BusinessVirtualNumbers, {\n    _id: ObjectId(didId),\n    associatedOrganisation: org._id,\n  });\n  if (!didNumber) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n  // Retrieve the profile of the user form IVRVirtualProfile collection\n  const profile = await AbstractModels.mongoFindOne(IVRVirtualProfile, {\n    user_id: userId,\n  });\n  if (!profile) throw ErrorUtil.createErrorMsg(ErrorType.USER_NOT_FOUND);\n  // get the ZVRmoibleno i.e. the personal number of the user who is initating the call\n  const zvrMobileNo = profile.zvr_mobile_no.toString().slice(-10);\n  // slice the destinationNumber\n  const destinationNumber = number.toString().slice(-10);\n\n  if (zvrMobileNo === destinationNumber) {\n    throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_UNABLE_CALL_SAME_NO);\n  }\n  //  store the call details in the BusinessCalls collecition\n  const call = await AbstractModels.mongoInsertOne(BusinessCalls, {\n    user: profile._id,\n    organisationId: orgId,\n    didNumber: didNumber.virtualNumber,\n    destinationNumber: number,\n    initiatorNumber: profile.zvr_mobile_no,\n    time: new Date().toISOString(),\n  });\n\n  log(\"info\", {\n    orgId, didId, number, userId,\n  });\n  // Initiate the call via the KooKooservice\n  // eslint-disable-next-line no-return-await\n  return await kookooService.initCall(call);\n}\n\nexport async function didNumberList(orgId, query) {\n  console.log(\"++++++++++++ the organisation id is\"+orgId)\n  const skip = Number(query.pageNo || 0) * Number(query.pageSize || 20);\n  const limit = skip + Number(query.pageSize);\n  console.log(\"the value of the skip and limit are +++++++++++++++\"+skip,limit);\n  const org = await AbstractModels.mongoFindOne(Organisations, { organisation_id: orgId });\n  console.log('the organisaiton is ++++++++++'+JSON.stringify(org));\n  if (!org) throw ErrorUtil.createErrorMsg(ErrorType.ORGANISATION_NOT_EXISTS);\n  const dbQuery = { associatedOrganisation: org._id };\n  const total = await BusinessDIDNumbers.count(dbQuery);\n  const items = await BusinessDIDNumbers.find(dbQuery)\n    .skip(skip)\n    .limit(limit)\n    .exec();\n  const out = {\n    items,\n    metadata: {\n      total,\n      query,\n    },\n  };\n  log(\"info\", out);\n  return out;\n}\n\nexport async function handleCall ({ callId }, data) {\n  log('info', { callId, data });\n  const call = await AbstractModels.mongoFindOne(BusinessCalls, { _id: ObjectId(callId) });\n  if (!call) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_DID_NUMBER_NOT_FOUND);\n\n  const handler = callEventHandlers[data.event];\n  if (!handler) throw ErrorUtil.createErrorMsg(ErrorType.BUSINESS_OUTBOUND_CALL_EVENT_HANDLER_NOT_FOUND);\n\n  log('info', 'end');\n  return handler(call, data);\n}"],"mappings":"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"}},"mtime":1653910059390},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/services/KookooService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initCall;\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-unresolved */\nasync function initCall({\n  _id,\n  didNumber,\n  initiatorNumber\n}) {\n  log(\"info\", {\n    _id,\n    didNumber,\n    initiatorNumber\n  }); // eslint-disable-next-line global-require\n\n  const axios = require(\"axios\");\n\n  const apiKey = \"KK232c980690c3cd35bc9ce18db9477d8b\";\n  const applicationUrl = new URL(_index.default.application_url);\n  const url = `${applicationUrl.origin}/business/outbound-call/external/call/handle/${_id}`;\n  log(\"info\", url);\n  const API_URL = new URL(\"http://kookoo.in/outbound/outbound.php\");\n  API_URL.searchParams.set(\"api_key\", apiKey);\n  API_URL.searchParams.set(\"phone_no\", initiatorNumber);\n  API_URL.searchParams.set(\"caller_id\", didNumber);\n  API_URL.searchParams.set(\"outbound_version\", \"2\");\n  API_URL.searchParams.set(\"url\", url);\n  log(\"info\", \"end\");\n  return axios.default.get(API_URL.href);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0Q2FsbCIsIl9pZCIsImRpZE51bWJlciIsImluaXRpYXRvck51bWJlciIsImxvZyIsImF4aW9zIiwicmVxdWlyZSIsImFwaUtleSIsImFwcGxpY2F0aW9uVXJsIiwiVVJMIiwiY29uZmlnIiwiYXBwbGljYXRpb25fdXJsIiwidXJsIiwib3JpZ2luIiwiQVBJX1VSTCIsInNlYXJjaFBhcmFtcyIsInNldCIsImRlZmF1bHQiLCJnZXQiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsiS29va29vU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCAqL1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGluaXRDYWxsKHsgX2lkLCBkaWROdW1iZXIsIGluaXRpYXRvck51bWJlciB9KSB7XG4gIGxvZyhcImluZm9cIiwgeyBfaWQsIGRpZE51bWJlciwgaW5pdGlhdG9yTnVtYmVyIH0pO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgY29uc3QgYXhpb3MgPSByZXF1aXJlKFwiYXhpb3NcIik7XG4gIGNvbnN0IGFwaUtleSA9IFwiS0syMzJjOTgwNjkwYzNjZDM1YmM5Y2UxOGRiOTQ3N2Q4YlwiO1xuICBjb25zdCBhcHBsaWNhdGlvblVybCA9IG5ldyBVUkwoY29uZmlnLmFwcGxpY2F0aW9uX3VybCk7XG4gIGNvbnN0IHVybCA9IGAke2FwcGxpY2F0aW9uVXJsLm9yaWdpbn0vYnVzaW5lc3Mvb3V0Ym91bmQtY2FsbC9leHRlcm5hbC9jYWxsL2hhbmRsZS8ke19pZH1gO1xuICBsb2coXCJpbmZvXCIsIHVybCk7XG4gIGNvbnN0IEFQSV9VUkwgPSBuZXcgVVJMKFwiaHR0cDovL2tvb2tvby5pbi9vdXRib3VuZC9vdXRib3VuZC5waHBcIik7XG4gIEFQSV9VUkwuc2VhcmNoUGFyYW1zLnNldChcImFwaV9rZXlcIiwgYXBpS2V5KTtcbiAgQVBJX1VSTC5zZWFyY2hQYXJhbXMuc2V0KFwicGhvbmVfbm9cIiwgaW5pdGlhdG9yTnVtYmVyKTtcbiAgQVBJX1VSTC5zZWFyY2hQYXJhbXMuc2V0KFwiY2FsbGVyX2lkXCIsIGRpZE51bWJlcik7XG4gIEFQSV9VUkwuc2VhcmNoUGFyYW1zLnNldChcIm91dGJvdW5kX3ZlcnNpb25cIiwgXCIyXCIpO1xuICBBUElfVVJMLnNlYXJjaFBhcmFtcy5zZXQoXCJ1cmxcIiwgdXJsKTtcblxuICBsb2coXCJpbmZvXCIsIFwiZW5kXCIpO1xuICByZXR1cm4gYXhpb3MuZGVmYXVsdC5nZXQoQVBJX1VSTC5ocmVmKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBREE7QUFHZSxlQUFlQSxRQUFmLENBQXdCO0VBQUVDLEdBQUY7RUFBT0MsU0FBUDtFQUFrQkM7QUFBbEIsQ0FBeEIsRUFBNkQ7RUFDMUVDLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUgsR0FBRjtJQUFPQyxTQUFQO0lBQWtCQztFQUFsQixDQUFULENBQUgsQ0FEMEUsQ0FFMUU7O0VBQ0EsTUFBTUUsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7RUFDQSxNQUFNQyxNQUFNLEdBQUcsb0NBQWY7RUFDQSxNQUFNQyxjQUFjLEdBQUcsSUFBSUMsR0FBSixDQUFRQyxlQUFPQyxlQUFmLENBQXZCO0VBQ0EsTUFBTUMsR0FBRyxHQUFJLEdBQUVKLGNBQWMsQ0FBQ0ssTUFBTyxnREFBK0NaLEdBQUksRUFBeEY7RUFDQUcsR0FBRyxDQUFDLE1BQUQsRUFBU1EsR0FBVCxDQUFIO0VBQ0EsTUFBTUUsT0FBTyxHQUFHLElBQUlMLEdBQUosQ0FBUSx3Q0FBUixDQUFoQjtFQUNBSyxPQUFPLENBQUNDLFlBQVIsQ0FBcUJDLEdBQXJCLENBQXlCLFNBQXpCLEVBQW9DVCxNQUFwQztFQUNBTyxPQUFPLENBQUNDLFlBQVIsQ0FBcUJDLEdBQXJCLENBQXlCLFVBQXpCLEVBQXFDYixlQUFyQztFQUNBVyxPQUFPLENBQUNDLFlBQVIsQ0FBcUJDLEdBQXJCLENBQXlCLFdBQXpCLEVBQXNDZCxTQUF0QztFQUNBWSxPQUFPLENBQUNDLFlBQVIsQ0FBcUJDLEdBQXJCLENBQXlCLGtCQUF6QixFQUE2QyxHQUE3QztFQUNBRixPQUFPLENBQUNDLFlBQVIsQ0FBcUJDLEdBQXJCLENBQXlCLEtBQXpCLEVBQWdDSixHQUFoQztFQUVBUixHQUFHLENBQUMsTUFBRCxFQUFTLEtBQVQsQ0FBSDtFQUNBLE9BQU9DLEtBQUssQ0FBQ1ksT0FBTixDQUFjQyxHQUFkLENBQWtCSixPQUFPLENBQUNLLElBQTFCLENBQVA7QUFDRCJ9","map":{"version":3,"names":["initCall","_id","didNumber","initiatorNumber","log","axios","require","apiKey","applicationUrl","URL","config","application_url","url","origin","API_URL","searchParams","set","default","get","href"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/services/","sources":["KookooService.js"],"sourcesContent":["/* eslint-disable import/no-unresolved */\nimport config from \"../config/index\";\n\nexport default async function initCall({ _id, didNumber, initiatorNumber }) {\n  log(\"info\", { _id, didNumber, initiatorNumber });\n  // eslint-disable-next-line global-require\n  const axios = require(\"axios\");\n  const apiKey = \"KK232c980690c3cd35bc9ce18db9477d8b\";\n  const applicationUrl = new URL(config.application_url);\n  const url = `${applicationUrl.origin}/business/outbound-call/external/call/handle/${_id}`;\n  log(\"info\", url);\n  const API_URL = new URL(\"http://kookoo.in/outbound/outbound.php\");\n  API_URL.searchParams.set(\"api_key\", apiKey);\n  API_URL.searchParams.set(\"phone_no\", initiatorNumber);\n  API_URL.searchParams.set(\"caller_id\", didNumber);\n  API_URL.searchParams.set(\"outbound_version\", \"2\");\n  API_URL.searchParams.set(\"url\", url);\n\n  log(\"info\", \"end\");\n  return axios.default.get(API_URL.href);\n}\n"],"mappings":";;;;;;;AACA;;;;AADA;AAGe,eAAeA,QAAf,CAAwB;EAAEC,GAAF;EAAOC,SAAP;EAAkBC;AAAlB,CAAxB,EAA6D;EAC1EC,GAAG,CAAC,MAAD,EAAS;IAAEH,GAAF;IAAOC,SAAP;IAAkBC;EAAlB,CAAT,CAAH,CAD0E,CAE1E;;EACA,MAAME,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;EACA,MAAMC,MAAM,GAAG,oCAAf;EACA,MAAMC,cAAc,GAAG,IAAIC,GAAJ,CAAQC,eAAOC,eAAf,CAAvB;EACA,MAAMC,GAAG,GAAI,GAAEJ,cAAc,CAACK,MAAO,gDAA+CZ,GAAI,EAAxF;EACAG,GAAG,CAAC,MAAD,EAASQ,GAAT,CAAH;EACA,MAAME,OAAO,GAAG,IAAIL,GAAJ,CAAQ,wCAAR,CAAhB;EACAK,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,SAAzB,EAAoCT,MAApC;EACAO,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,UAAzB,EAAqCb,eAArC;EACAW,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,WAAzB,EAAsCd,SAAtC;EACAY,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,kBAAzB,EAA6C,GAA7C;EACAF,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB,KAAzB,EAAgCJ,GAAhC;EAEAR,GAAG,CAAC,MAAD,EAAS,KAAT,CAAH;EACA,OAAOC,KAAK,CAACY,OAAN,CAAcC,GAAd,CAAkBJ,OAAO,CAACK,IAA1B,CAAP;AACD"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/routes/Health.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _HealthController = _interopRequireDefault(require(\"../controllers/HealthController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.get(\"/health-check\", _HealthController.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJnZXQiLCJoZWFsdGhDaGVjayJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9yb3V0ZXMvIiwic291cmNlcyI6WyJIZWFsdGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBoZWFsdGhDaGVjayBmcm9tIFwiLi4vY29udHJvbGxlcnMvSGVhbHRoQ29udHJvbGxlclwiO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9oZWFsdGgtY2hlY2tcIiwgaGVhbHRoQ2hlY2spO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsc0JBQWY7QUFFQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsZUFBWCxFQUE0QkMseUJBQTVCO2VBQ2VGLE0ifQ==","map":{"version":3,"names":["router","get","healthCheck"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/routes/","sources":["Health.js"],"sourcesContent":["import { Router } from \"express\";\nimport healthCheck from \"../controllers/HealthController\";\n\nconst router = Router();\n\nrouter.get(\"/health-check\", healthCheck);\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,eAAX,EAA4BC,yBAA5B;eACeF,M"}},"mtime":1653891209008},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/controllers/HealthController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst healthCheck = async (req, res, next) => {\n  res.data = {};\n  log(\"info\", \"health check\");\n  next();\n};\n\nvar _default = healthCheck;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWFsdGhDaGVjayIsInJlcSIsInJlcyIsIm5leHQiLCJkYXRhIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiSGVhbHRoQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBoZWFsdGhDaGVjayA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMuZGF0YSA9IHt9O1xuICBsb2coXCJpbmZvXCIsIFwiaGVhbHRoIGNoZWNrXCIpO1xuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoZWFsdGhDaGVjaztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLFdBQVcsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQzVDRCxHQUFHLENBQUNFLElBQUosR0FBVyxFQUFYO0VBQ0FDLEdBQUcsQ0FBQyxNQUFELEVBQVMsY0FBVCxDQUFIO0VBQ0FGLElBQUk7QUFDTCxDQUpEOztlQU1lSCxXIn0=","map":{"version":3,"names":["healthCheck","req","res","next","data","log"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/controllers/","sources":["HealthController.js"],"sourcesContent":["const healthCheck = async (req, res, next) => {\n  res.data = {};\n  log(\"info\", \"health check\");\n  next();\n};\n\nexport default healthCheck;\n"],"mappings":";;;;;;;AAAA,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC5CD,GAAG,CAACE,IAAJ,GAAW,EAAX;EACAC,GAAG,CAAC,MAAD,EAAS,cAAT,CAAH;EACAF,IAAI;AACL,CAJD;;eAMeH,W"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/RequestLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.auditLogRequest = void 0;\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar Auth = _interopRequireWildcard(require(\"./Auth\"));\n\nvar _index = require(\"../models/analyticsDbSchema/index\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst auditLogRequest = req => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body\n  };\n  const apiKey = req.header(\"api-key\");\n\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n\n  AbstractModels.mongoInsertOne(_index.AuditLogs, doc);\n};\n\nexports.auditLogRequest = auditLogRequest;\n\nconst reqLog = (req, res, next) => {\n  const routeObj = Auth.setMetrics(req, res);\n  req.routeObj = routeObj;\n\n  if (routeObj.routeCategory !== \"healthCheckRoutes\") {\n    next();\n  } else {\n    next();\n  }\n};\n\nvar _default = reqLog;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpdExvZ1JlcXVlc3QiLCJyZXEiLCJkb2MiLCJvcmlnaW5hbFVybCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJpcEFkZHJlc3MiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJldmVudFR5cGUiLCJyb3V0ZU9iaiIsInJlcXVlc3RCb2R5IiwiYm9keSIsImFwaUtleSIsImhlYWRlciIsIkFic3RyYWN0TW9kZWxzIiwibW9uZ29JbnNlcnRPbmUiLCJBdWRpdExvZ3MiLCJyZXFMb2ciLCJyZXMiLCJuZXh0IiwiQXV0aCIsInNldE1ldHJpY3MiLCJyb3V0ZUNhdGVnb3J5Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiUmVxdWVzdExvZ2dlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBYnN0cmFjdE1vZGVscyBmcm9tIFwiLi4vbW9kZWxzL0Fic3RyYWN0TW9kZWxzXCI7XG5pbXBvcnQgKiBhcyBBdXRoIGZyb20gXCIuL0F1dGhcIjtcblxuaW1wb3J0IHsgQXVkaXRMb2dzIH0gZnJvbSBcIi4uL21vZGVscy9hbmFseXRpY3NEYlNjaGVtYS9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgYXVkaXRMb2dSZXF1ZXN0ID0gKHJlcSkgPT4ge1xuICBjb25zdCBkb2MgPSB7XG4gICAgb3JpZ2luYWxVcmw6IHJlcS5vcmlnaW5hbFVybCxcbiAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgdXNlckFnZW50OiByZXEuaGVhZGVyc1tcInVzZXItYWdlbnRcIl0sXG4gICAgaXBBZGRyZXNzOiByZXEuaGVhZGVyc1tcIngtZm9yd2FyZGVkLWZvclwiXSB8fCByZXEuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzLFxuICAgIGNvcnJlbGF0aW9uSWQ6IHJlcS5oZWFkZXJzLmNvcnJlbGF0aW9uSWQsXG4gICAgZXZlbnRUeXBlOiByZXEucm91dGVPYmouZXZlbnRUeXBlLFxuICAgIHJlcXVlc3RCb2R5OiByZXEuYm9keSxcbiAgfTtcbiAgY29uc3QgYXBpS2V5ID0gcmVxLmhlYWRlcihcImFwaS1rZXlcIik7XG4gIGlmIChhcGlLZXkpIHtcbiAgICBkb2MuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG4gIEFic3RyYWN0TW9kZWxzLm1vbmdvSW5zZXJ0T25lKEF1ZGl0TG9ncywgZG9jKTtcbn07XG5cbmNvbnN0IHJlcUxvZyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCByb3V0ZU9iaiA9IEF1dGguc2V0TWV0cmljcyhyZXEsIHJlcyk7XG4gIHJlcS5yb3V0ZU9iaiA9IHJvdXRlT2JqO1xuICBpZiAocm91dGVPYmoucm91dGVDYXRlZ29yeSAhPT0gXCJoZWFsdGhDaGVja1JvdXRlc1wiKSB7XG4gICAgbmV4dCgpO1xuICB9IGVsc2Uge1xuICAgIG5leHQoKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVxTG9nO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7Ozs7OztBQUVPLE1BQU1BLGVBQWUsR0FBSUMsR0FBRCxJQUFTO0VBQ3RDLE1BQU1DLEdBQUcsR0FBRztJQUNWQyxXQUFXLEVBQUVGLEdBQUcsQ0FBQ0UsV0FEUDtJQUVWQyxNQUFNLEVBQUVILEdBQUcsQ0FBQ0csTUFGRjtJQUdWQyxTQUFTLEVBQUVKLEdBQUcsQ0FBQ0ssT0FBSixDQUFZLFlBQVosQ0FIRDtJQUlWQyxTQUFTLEVBQUVOLEdBQUcsQ0FBQ0ssT0FBSixDQUFZLGlCQUFaLEtBQWtDTCxHQUFHLENBQUNPLFVBQUosQ0FBZUMsYUFKbEQ7SUFLVkMsYUFBYSxFQUFFVCxHQUFHLENBQUNLLE9BQUosQ0FBWUksYUFMakI7SUFNVkMsU0FBUyxFQUFFVixHQUFHLENBQUNXLFFBQUosQ0FBYUQsU0FOZDtJQU9WRSxXQUFXLEVBQUVaLEdBQUcsQ0FBQ2E7RUFQUCxDQUFaO0VBU0EsTUFBTUMsTUFBTSxHQUFHZCxHQUFHLENBQUNlLE1BQUosQ0FBVyxTQUFYLENBQWY7O0VBQ0EsSUFBSUQsTUFBSixFQUFZO0lBQ1ZiLEdBQUcsQ0FBQ2EsTUFBSixHQUFhQSxNQUFiO0VBQ0Q7O0VBQ0RFLGNBQWMsQ0FBQ0MsY0FBZixDQUE4QkMsZ0JBQTlCLEVBQXlDakIsR0FBekM7QUFDRCxDQWZNOzs7O0FBaUJQLE1BQU1rQixNQUFNLEdBQUcsQ0FBQ25CLEdBQUQsRUFBTW9CLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtFQUNqQyxNQUFNVixRQUFRLEdBQUdXLElBQUksQ0FBQ0MsVUFBTCxDQUFnQnZCLEdBQWhCLEVBQXFCb0IsR0FBckIsQ0FBakI7RUFDQXBCLEdBQUcsQ0FBQ1csUUFBSixHQUFlQSxRQUFmOztFQUNBLElBQUlBLFFBQVEsQ0FBQ2EsYUFBVCxLQUEyQixtQkFBL0IsRUFBb0Q7SUFDbERILElBQUk7RUFDTCxDQUZELE1BRU87SUFDTEEsSUFBSTtFQUNMO0FBQ0YsQ0FSRDs7ZUFVZUYsTSJ9","map":{"version":3,"names":["auditLogRequest","req","doc","originalUrl","method","userAgent","headers","ipAddress","connection","remoteAddress","correlationId","eventType","routeObj","requestBody","body","apiKey","header","AbstractModels","mongoInsertOne","AuditLogs","reqLog","res","next","Auth","setMetrics","routeCategory"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/","sources":["RequestLogger.js"],"sourcesContent":["import * as AbstractModels from \"../models/AbstractModels\";\nimport * as Auth from \"./Auth\";\n\nimport { AuditLogs } from \"../models/analyticsDbSchema/index\";\n\nexport const auditLogRequest = (req) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n  };\n  const apiKey = req.header(\"api-key\");\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n  AbstractModels.mongoInsertOne(AuditLogs, doc);\n};\n\nconst reqLog = (req, res, next) => {\n  const routeObj = Auth.setMetrics(req, res);\n  req.routeObj = routeObj;\n  if (routeObj.routeCategory !== \"healthCheckRoutes\") {\n    next();\n  } else {\n    next();\n  }\n};\n\nexport default reqLog;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;;;AAEO,MAAMA,eAAe,GAAIC,GAAD,IAAS;EACtC,MAAMC,GAAG,GAAG;IACVC,WAAW,EAAEF,GAAG,CAACE,WADP;IAEVC,MAAM,EAAEH,GAAG,CAACG,MAFF;IAGVC,SAAS,EAAEJ,GAAG,CAACK,OAAJ,CAAY,YAAZ,CAHD;IAIVC,SAAS,EAAEN,GAAG,CAACK,OAAJ,CAAY,iBAAZ,KAAkCL,GAAG,CAACO,UAAJ,CAAeC,aAJlD;IAKVC,aAAa,EAAET,GAAG,CAACK,OAAJ,CAAYI,aALjB;IAMVC,SAAS,EAAEV,GAAG,CAACW,QAAJ,CAAaD,SANd;IAOVE,WAAW,EAAEZ,GAAG,CAACa;EAPP,CAAZ;EASA,MAAMC,MAAM,GAAGd,GAAG,CAACe,MAAJ,CAAW,SAAX,CAAf;;EACA,IAAID,MAAJ,EAAY;IACVb,GAAG,CAACa,MAAJ,GAAaA,MAAb;EACD;;EACDE,cAAc,CAACC,cAAf,CAA8BC,gBAA9B,EAAyCjB,GAAzC;AACD,CAfM;;;;AAiBP,MAAMkB,MAAM,GAAG,CAACnB,GAAD,EAAMoB,GAAN,EAAWC,IAAX,KAAoB;EACjC,MAAMV,QAAQ,GAAGW,IAAI,CAACC,UAAL,CAAgBvB,GAAhB,EAAqBoB,GAArB,CAAjB;EACApB,GAAG,CAACW,QAAJ,GAAeA,QAAf;;EACA,IAAIA,QAAQ,CAACa,aAAT,KAA2B,mBAA/B,EAAoD;IAClDH,IAAI;EACL,CAFD,MAEO;IACLA,IAAI;EACL;AACF,CARD;;eAUeF,M"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.conn = exports.AuditLogs = void 0;\n\nvar analyticsDbConnection = _interopRequireWildcard(require(\"../../connections/AnalyticsDb\"));\n\nvar _AuditLogsSchema = _interopRequireDefault(require(\"./AuditLogsSchema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// load schemas\nconst conn = analyticsDbConnection.getDbInstance();\nexports.conn = conn;\nconst AuditLogs = conn.model(\"AuditLogs\", _AuditLogsSchema.default, \"AuditLogs\");\nexports.AuditLogs = AuditLogs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiYW5hbHl0aWNzRGJDb25uZWN0aW9uIiwiZ2V0RGJJbnN0YW5jZSIsIkF1ZGl0TG9ncyIsIm1vZGVsIiwiQXVkaXRMb2dzU2NoZW1hIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9hbmFseXRpY3NEYlNjaGVtYS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFuYWx5dGljc0RiQ29ubmVjdGlvbiBmcm9tIFwiLi4vLi4vY29ubmVjdGlvbnMvQW5hbHl0aWNzRGJcIjtcbi8vIGxvYWQgc2NoZW1hc1xuaW1wb3J0IEF1ZGl0TG9nc1NjaGVtYSBmcm9tIFwiLi9BdWRpdExvZ3NTY2hlbWFcIjtcblxuZXhwb3J0IGNvbnN0IGNvbm4gPSBhbmFseXRpY3NEYkNvbm5lY3Rpb24uZ2V0RGJJbnN0YW5jZSgpO1xuZXhwb3J0IGNvbnN0IEF1ZGl0TG9ncyA9IGNvbm4ubW9kZWwoXCJBdWRpdExvZ3NcIiwgQXVkaXRMb2dzU2NoZW1hLCBcIkF1ZGl0TG9nc1wiKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOzs7Ozs7OztBQURBO0FBR08sTUFBTUEsSUFBSSxHQUFHQyxxQkFBcUIsQ0FBQ0MsYUFBdEIsRUFBYjs7QUFDQSxNQUFNQyxTQUFTLEdBQUdILElBQUksQ0FBQ0ksS0FBTCxDQUFXLFdBQVgsRUFBd0JDLHdCQUF4QixFQUF5QyxXQUF6QyxDQUFsQiJ9","map":{"version":3,"names":["conn","analyticsDbConnection","getDbInstance","AuditLogs","model","AuditLogsSchema"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/","sources":["index.js"],"sourcesContent":["import * as analyticsDbConnection from \"../../connections/AnalyticsDb\";\n// load schemas\nimport AuditLogsSchema from \"./AuditLogsSchema\";\n\nexport const conn = analyticsDbConnection.getDbInstance();\nexport const AuditLogs = conn.model(\"AuditLogs\", AuditLogsSchema, \"AuditLogs\");\n"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;AADA;AAGO,MAAMA,IAAI,GAAGC,qBAAqB,CAACC,aAAtB,EAAb;;AACA,MAAMC,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAW,WAAX,EAAwBC,wBAAxB,EAAyC,WAAzC,CAAlB"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/AuditLogsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst AuditLogsSchema = new _mongoose.Schema({\n  originalUrl: {\n    type: String,\n    required: true\n  },\n  method: {\n    type: String,\n    required: true\n  },\n  userAgent: {\n    type: String,\n    required: true\n  },\n  ipAddress: {\n    type: String,\n    required: true\n  },\n  correlationId: {\n    type: String,\n    required: true\n  },\n  status: {\n    type: String\n  },\n  responseTime: {\n    type: Number\n  },\n  username: {\n    type: String\n  },\n  apiKey: {\n    type: String\n  },\n  clientId: {\n    type: String\n  },\n  eventType: {\n    type: String\n  },\n  requestBody: {\n    type: Object\n  },\n  response: {\n    type: Object\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nvar _default = AuditLogsSchema;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBdWRpdExvZ3NTY2hlbWEiLCJTY2hlbWEiLCJvcmlnaW5hbFVybCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImlwQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJzdGF0dXMiLCJyZXNwb25zZVRpbWUiLCJOdW1iZXIiLCJ1c2VybmFtZSIsImFwaUtleSIsImNsaWVudElkIiwiZXZlbnRUeXBlIiwicmVxdWVzdEJvZHkiLCJPYmplY3QiLCJyZXNwb25zZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21vZGVscy9hbmFseXRpY3NEYlNjaGVtYS8iLCJzb3VyY2VzIjpbIkF1ZGl0TG9nc1NjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQXVkaXRMb2dzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG9yaWdpbmFsVXJsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBtZXRob2Q6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIHVzZXJBZ2VudDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgaXBBZGRyZXNzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBjb3JyZWxhdGlvbklkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBzdGF0dXM6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHJlc3BvbnNlVGltZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgfSxcbiAgdXNlcm5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGFwaUtleToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgY2xpZW50SWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGV2ZW50VHlwZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcmVxdWVzdEJvZHk6IHtcbiAgICB0eXBlOiBPYmplY3QsXG4gIH0sXG4gIHJlc3BvbnNlOiB7XG4gICAgdHlwZTogT2JqZWN0LFxuICB9LFxuICBjcmVhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICB9LFxuICB1cGRhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF1ZGl0TG9nc1NjaGVtYTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGVBQWUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQ2pDQyxXQUFXLEVBQUU7SUFDWEMsSUFBSSxFQUFFQyxNQURLO0lBRVhDLFFBQVEsRUFBRTtFQUZDLENBRG9CO0VBS2pDQyxNQUFNLEVBQUU7SUFDTkgsSUFBSSxFQUFFQyxNQURBO0lBRU5DLFFBQVEsRUFBRTtFQUZKLENBTHlCO0VBU2pDRSxTQUFTLEVBQUU7SUFDVEosSUFBSSxFQUFFQyxNQURHO0lBRVRDLFFBQVEsRUFBRTtFQUZELENBVHNCO0VBYWpDRyxTQUFTLEVBQUU7SUFDVEwsSUFBSSxFQUFFQyxNQURHO0lBRVRDLFFBQVEsRUFBRTtFQUZELENBYnNCO0VBaUJqQ0ksYUFBYSxFQUFFO0lBQ2JOLElBQUksRUFBRUMsTUFETztJQUViQyxRQUFRLEVBQUU7RUFGRyxDQWpCa0I7RUFxQmpDSyxNQUFNLEVBQUU7SUFDTlAsSUFBSSxFQUFFQztFQURBLENBckJ5QjtFQXdCakNPLFlBQVksRUFBRTtJQUNaUixJQUFJLEVBQUVTO0VBRE0sQ0F4Qm1CO0VBMkJqQ0MsUUFBUSxFQUFFO0lBQ1JWLElBQUksRUFBRUM7RUFERSxDQTNCdUI7RUE4QmpDVSxNQUFNLEVBQUU7SUFDTlgsSUFBSSxFQUFFQztFQURBLENBOUJ5QjtFQWlDakNXLFFBQVEsRUFBRTtJQUNSWixJQUFJLEVBQUVDO0VBREUsQ0FqQ3VCO0VBb0NqQ1ksU0FBUyxFQUFFO0lBQ1RiLElBQUksRUFBRUM7RUFERyxDQXBDc0I7RUF1Q2pDYSxXQUFXLEVBQUU7SUFDWGQsSUFBSSxFQUFFZTtFQURLLENBdkNvQjtFQTBDakNDLFFBQVEsRUFBRTtJQUNSaEIsSUFBSSxFQUFFZTtFQURFLENBMUN1QjtFQTZDakNFLFNBQVMsRUFBRTtJQUNUakIsSUFBSSxFQUFFa0IsSUFERztJQUVUQyxPQUFPLEVBQUVELElBQUksQ0FBQ0U7RUFGTCxDQTdDc0I7RUFpRGpDQyxTQUFTLEVBQUU7SUFDVHJCLElBQUksRUFBRWtCLElBREc7SUFFVEMsT0FBTyxFQUFFRCxJQUFJLENBQUNFO0VBRkw7QUFqRHNCLENBQVgsQ0FBeEI7ZUF1RGV2QixlIn0=","map":{"version":3,"names":["AuditLogsSchema","Schema","originalUrl","type","String","required","method","userAgent","ipAddress","correlationId","status","responseTime","Number","username","apiKey","clientId","eventType","requestBody","Object","response","createdAt","Date","default","now","updatedAt"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/models/analyticsDbSchema/","sources":["AuditLogsSchema.js"],"sourcesContent":["import { Schema } from \"mongoose\";\n\nconst AuditLogsSchema = new Schema({\n  originalUrl: {\n    type: String,\n    required: true,\n  },\n  method: {\n    type: String,\n    required: true,\n  },\n  userAgent: {\n    type: String,\n    required: true,\n  },\n  ipAddress: {\n    type: String,\n    required: true,\n  },\n  correlationId: {\n    type: String,\n    required: true,\n  },\n  status: {\n    type: String,\n  },\n  responseTime: {\n    type: Number,\n  },\n  username: {\n    type: String,\n  },\n  apiKey: {\n    type: String,\n  },\n  clientId: {\n    type: String,\n  },\n  eventType: {\n    type: String,\n  },\n  requestBody: {\n    type: Object,\n  },\n  response: {\n    type: Object,\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now,\n  },\n});\n\nexport default AuditLogsSchema;\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,eAAe,GAAG,IAAIC,gBAAJ,CAAW;EACjCC,WAAW,EAAE;IACXC,IAAI,EAAEC,MADK;IAEXC,QAAQ,EAAE;EAFC,CADoB;EAKjCC,MAAM,EAAE;IACNH,IAAI,EAAEC,MADA;IAENC,QAAQ,EAAE;EAFJ,CALyB;EASjCE,SAAS,EAAE;IACTJ,IAAI,EAAEC,MADG;IAETC,QAAQ,EAAE;EAFD,CATsB;EAajCG,SAAS,EAAE;IACTL,IAAI,EAAEC,MADG;IAETC,QAAQ,EAAE;EAFD,CAbsB;EAiBjCI,aAAa,EAAE;IACbN,IAAI,EAAEC,MADO;IAEbC,QAAQ,EAAE;EAFG,CAjBkB;EAqBjCK,MAAM,EAAE;IACNP,IAAI,EAAEC;EADA,CArByB;EAwBjCO,YAAY,EAAE;IACZR,IAAI,EAAES;EADM,CAxBmB;EA2BjCC,QAAQ,EAAE;IACRV,IAAI,EAAEC;EADE,CA3BuB;EA8BjCU,MAAM,EAAE;IACNX,IAAI,EAAEC;EADA,CA9ByB;EAiCjCW,QAAQ,EAAE;IACRZ,IAAI,EAAEC;EADE,CAjCuB;EAoCjCY,SAAS,EAAE;IACTb,IAAI,EAAEC;EADG,CApCsB;EAuCjCa,WAAW,EAAE;IACXd,IAAI,EAAEe;EADK,CAvCoB;EA0CjCC,QAAQ,EAAE;IACRhB,IAAI,EAAEe;EADE,CA1CuB;EA6CjCE,SAAS,EAAE;IACTjB,IAAI,EAAEkB,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL,CA7CsB;EAiDjCC,SAAS,EAAE;IACTrB,IAAI,EAAEkB,IADG;IAETC,OAAO,EAAED,IAAI,CAACE;EAFL;AAjDsB,CAAX,CAAxB;eAuDevB,e"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/ResponseLogger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resSuccessLog = exports.resErrorLog = void 0;\n\nvar AbstractModels = _interopRequireWildcard(require(\"../models/AbstractModels\"));\n\nvar _index = require(\"../models/analyticsDbSchema/index\");\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst auditLogResponse = (error, req, res) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n    responseTime: new Date().getTime() - req.routeObj.startTime,\n    status: true\n  };\n  const apiKey = req.header(\"api-key\");\n\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n\n  if (req.session) {\n    doc.mobileNumber = req.session.mobileNumber;\n    doc.clientId = req.session.clientId;\n    doc.apiKey = req.session.apiKey;\n  }\n\n  if (req.routeObj) {\n    doc.routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (error) {\n    doc.response = {\n      code: error.code || 1000,\n      reason: error.message,\n      stack: error.stack\n    };\n    doc.status = false;\n  } else {\n    doc.response = res.data;\n  }\n\n  AbstractModels.mongoInsertOne(_index.AuditLogs, doc);\n};\n\nconst resSuccessLog = (req, res) => {\n  let routeCategory;\n\n  if (req.routeObj && req.routeObj.routeCategory) {\n    routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (routeCategory !== \"healthCheckRoutes\") {\n    auditLogResponse(null, req, res);\n  }\n\n  res.status(res.statusCode || 200).send({\n    status: true,\n    response: res.data\n  });\n};\n/**\n * Check if not custom error, creates internal error and returns\n * @param {*} error\n * @returns\n */\n\n\nexports.resSuccessLog = resSuccessLog;\n\nfunction maskSystemError(error) {\n  if (error.name !== \"ErrorUtils\") {\n    return ErrorUtils.InternalServerError();\n  }\n\n  return error;\n}\n\nconst resErrorLog = (error, req, res, next) => {\n  log(\"error\", error.stack);\n  auditLogResponse(error, req, res); // eslint-disable-next-line\n\n  error = maskSystemError(error);\n\n  if (res.headersSent) {\n    return next(error);\n  }\n\n  res.status(error.statusCode || 200);\n  return res.send({\n    status: false,\n    response: {\n      code: error.code || 1000,\n      reason: error.message\n    }\n  });\n};\n\nexports.resErrorLog = resErrorLog;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpdExvZ1Jlc3BvbnNlIiwiZXJyb3IiLCJyZXEiLCJyZXMiLCJkb2MiLCJvcmlnaW5hbFVybCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJpcEFkZHJlc3MiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNvcnJlbGF0aW9uSWQiLCJldmVudFR5cGUiLCJyb3V0ZU9iaiIsInJlcXVlc3RCb2R5IiwiYm9keSIsInJlc3BvbnNlVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwic3RhcnRUaW1lIiwic3RhdHVzIiwiYXBpS2V5IiwiaGVhZGVyIiwic2Vzc2lvbiIsIm1vYmlsZU51bWJlciIsImNsaWVudElkIiwicm91dGVDYXRlZ29yeSIsInJlc3BvbnNlIiwiY29kZSIsInJlYXNvbiIsIm1lc3NhZ2UiLCJzdGFjayIsImRhdGEiLCJBYnN0cmFjdE1vZGVscyIsIm1vbmdvSW5zZXJ0T25lIiwiQXVkaXRMb2dzIiwicmVzU3VjY2Vzc0xvZyIsInN0YXR1c0NvZGUiLCJzZW5kIiwibWFza1N5c3RlbUVycm9yIiwibmFtZSIsIkVycm9yVXRpbHMiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwicmVzRXJyb3JMb2ciLCJuZXh0IiwibG9nIiwiaGVhZGVyc1NlbnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJSZXNwb25zZUxvZ2dlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBYnN0cmFjdE1vZGVscyBmcm9tIFwiLi4vbW9kZWxzL0Fic3RyYWN0TW9kZWxzXCI7XG5pbXBvcnQgeyBBdWRpdExvZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL2FuYWx5dGljc0RiU2NoZW1hL2luZGV4XCI7XG5pbXBvcnQgKiBhcyBFcnJvclV0aWxzIGZyb20gXCIuLi9lcnJvcnMvRXJyb3JVdGlsc1wiO1xuXG5jb25zdCBhdWRpdExvZ1Jlc3BvbnNlID0gKGVycm9yLCByZXEsIHJlcykgPT4ge1xuICBjb25zdCBkb2MgPSB7XG4gICAgb3JpZ2luYWxVcmw6IHJlcS5vcmlnaW5hbFVybCxcbiAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgdXNlckFnZW50OiByZXEuaGVhZGVyc1tcInVzZXItYWdlbnRcIl0sXG4gICAgaXBBZGRyZXNzOiByZXEuaGVhZGVyc1tcIngtZm9yd2FyZGVkLWZvclwiXSB8fCByZXEuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzLFxuICAgIGNvcnJlbGF0aW9uSWQ6IHJlcS5oZWFkZXJzLmNvcnJlbGF0aW9uSWQsXG4gICAgZXZlbnRUeXBlOiByZXEucm91dGVPYmouZXZlbnRUeXBlLFxuICAgIHJlcXVlc3RCb2R5OiByZXEuYm9keSxcbiAgICByZXNwb25zZVRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gcmVxLnJvdXRlT2JqLnN0YXJ0VGltZSxcbiAgICBzdGF0dXM6IHRydWUsXG4gIH07XG4gIGNvbnN0IGFwaUtleSA9IHJlcS5oZWFkZXIoXCJhcGkta2V5XCIpO1xuICBpZiAoYXBpS2V5KSB7XG4gICAgZG9jLmFwaUtleSA9IGFwaUtleTtcbiAgfVxuICBpZiAocmVxLnNlc3Npb24pIHtcbiAgICBkb2MubW9iaWxlTnVtYmVyID0gcmVxLnNlc3Npb24ubW9iaWxlTnVtYmVyO1xuICAgIGRvYy5jbGllbnRJZCA9IHJlcS5zZXNzaW9uLmNsaWVudElkO1xuICAgIGRvYy5hcGlLZXkgPSByZXEuc2Vzc2lvbi5hcGlLZXk7XG4gIH1cbiAgaWYgKHJlcS5yb3V0ZU9iaikge1xuICAgIGRvYy5yb3V0ZUNhdGVnb3J5ID0gcmVxLnJvdXRlT2JqLnJvdXRlQ2F0ZWdvcnk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICBkb2MucmVzcG9uc2UgPSB7XG4gICAgICBjb2RlOiBlcnJvci5jb2RlIHx8IDEwMDAsXG4gICAgICByZWFzb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgfTtcbiAgICBkb2Muc3RhdHVzID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgZG9jLnJlc3BvbnNlID0gcmVzLmRhdGE7XG4gIH1cbiAgQWJzdHJhY3RNb2RlbHMubW9uZ29JbnNlcnRPbmUoQXVkaXRMb2dzLCBkb2MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc1N1Y2Nlc3NMb2cgPSAocmVxLCByZXMpID0+IHtcbiAgbGV0IHJvdXRlQ2F0ZWdvcnk7XG4gIGlmIChyZXEucm91dGVPYmogJiYgcmVxLnJvdXRlT2JqLnJvdXRlQ2F0ZWdvcnkpIHtcbiAgICByb3V0ZUNhdGVnb3J5ID0gcmVxLnJvdXRlT2JqLnJvdXRlQ2F0ZWdvcnk7XG4gIH1cbiAgaWYgKHJvdXRlQ2F0ZWdvcnkgIT09IFwiaGVhbHRoQ2hlY2tSb3V0ZXNcIikge1xuICAgIGF1ZGl0TG9nUmVzcG9uc2UobnVsbCwgcmVxLCByZXMpO1xuICB9XG4gIHJlcy5zdGF0dXMocmVzLnN0YXR1c0NvZGUgfHwgMjAwKS5zZW5kKHsgc3RhdHVzOiB0cnVlLCByZXNwb25zZTogcmVzLmRhdGEgfSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIG5vdCBjdXN0b20gZXJyb3IsIGNyZWF0ZXMgaW50ZXJuYWwgZXJyb3IgYW5kIHJldHVybnNcbiAqIEBwYXJhbSB7Kn0gZXJyb3JcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIG1hc2tTeXN0ZW1FcnJvcihlcnJvcikge1xuICBpZiAoZXJyb3IubmFtZSAhPT0gXCJFcnJvclV0aWxzXCIpIHtcbiAgICByZXR1cm4gRXJyb3JVdGlscy5JbnRlcm5hbFNlcnZlckVycm9yKCk7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufVxuXG5leHBvcnQgY29uc3QgcmVzRXJyb3JMb2cgPSAoZXJyb3IsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGxvZyhcImVycm9yXCIsIGVycm9yLnN0YWNrKTtcbiAgYXVkaXRMb2dSZXNwb25zZShlcnJvciwgcmVxLCByZXMpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgZXJyb3IgPSBtYXNrU3lzdGVtRXJyb3IoZXJyb3IpO1xuICBpZiAocmVzLmhlYWRlcnNTZW50KSB7XG4gICAgcmV0dXJuIG5leHQoZXJyb3IpO1xuICB9XG4gIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzQ29kZSB8fCAyMDApO1xuICByZXR1cm4gcmVzLnNlbmQoe1xuICAgIHN0YXR1czogZmFsc2UsXG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgMTAwMCxcbiAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICB9LFxuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcsQ0FBQ0MsS0FBRCxFQUFRQyxHQUFSLEVBQWFDLEdBQWIsS0FBcUI7RUFDNUMsTUFBTUMsR0FBRyxHQUFHO0lBQ1ZDLFdBQVcsRUFBRUgsR0FBRyxDQUFDRyxXQURQO0lBRVZDLE1BQU0sRUFBRUosR0FBRyxDQUFDSSxNQUZGO0lBR1ZDLFNBQVMsRUFBRUwsR0FBRyxDQUFDTSxPQUFKLENBQVksWUFBWixDQUhEO0lBSVZDLFNBQVMsRUFBRVAsR0FBRyxDQUFDTSxPQUFKLENBQVksaUJBQVosS0FBa0NOLEdBQUcsQ0FBQ1EsVUFBSixDQUFlQyxhQUpsRDtJQUtWQyxhQUFhLEVBQUVWLEdBQUcsQ0FBQ00sT0FBSixDQUFZSSxhQUxqQjtJQU1WQyxTQUFTLEVBQUVYLEdBQUcsQ0FBQ1ksUUFBSixDQUFhRCxTQU5kO0lBT1ZFLFdBQVcsRUFBRWIsR0FBRyxDQUFDYyxJQVBQO0lBUVZDLFlBQVksRUFBRSxJQUFJQyxJQUFKLEdBQVdDLE9BQVgsS0FBdUJqQixHQUFHLENBQUNZLFFBQUosQ0FBYU0sU0FSeEM7SUFTVkMsTUFBTSxFQUFFO0VBVEUsQ0FBWjtFQVdBLE1BQU1DLE1BQU0sR0FBR3BCLEdBQUcsQ0FBQ3FCLE1BQUosQ0FBVyxTQUFYLENBQWY7O0VBQ0EsSUFBSUQsTUFBSixFQUFZO0lB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","map":{"version":3,"names":["auditLogResponse","error","req","res","doc","originalUrl","method","userAgent","headers","ipAddress","connection","remoteAddress","correlationId","eventType","routeObj","requestBody","body","responseTime","Date","getTime","startTime","status","apiKey","header","session","mobileNumber","clientId","routeCategory","response","code","reason","message","stack","data","AbstractModels","mongoInsertOne","AuditLogs","resSuccessLog","statusCode","send","maskSystemError","name","ErrorUtils","InternalServerError","resErrorLog","next","log","headersSent"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/","sources":["ResponseLogger.js"],"sourcesContent":["import * as AbstractModels from \"../models/AbstractModels\";\nimport { AuditLogs } from \"../models/analyticsDbSchema/index\";\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\n\nconst auditLogResponse = (error, req, res) => {\n  const doc = {\n    originalUrl: req.originalUrl,\n    method: req.method,\n    userAgent: req.headers[\"user-agent\"],\n    ipAddress: req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress,\n    correlationId: req.headers.correlationId,\n    eventType: req.routeObj.eventType,\n    requestBody: req.body,\n    responseTime: new Date().getTime() - req.routeObj.startTime,\n    status: true,\n  };\n  const apiKey = req.header(\"api-key\");\n  if (apiKey) {\n    doc.apiKey = apiKey;\n  }\n  if (req.session) {\n    doc.mobileNumber = req.session.mobileNumber;\n    doc.clientId = req.session.clientId;\n    doc.apiKey = req.session.apiKey;\n  }\n  if (req.routeObj) {\n    doc.routeCategory = req.routeObj.routeCategory;\n  }\n\n  if (error) {\n    doc.response = {\n      code: error.code || 1000,\n      reason: error.message,\n      stack: error.stack,\n    };\n    doc.status = false;\n  } else {\n    doc.response = res.data;\n  }\n  AbstractModels.mongoInsertOne(AuditLogs, doc);\n};\n\nexport const resSuccessLog = (req, res) => {\n  let routeCategory;\n  if (req.routeObj && req.routeObj.routeCategory) {\n    routeCategory = req.routeObj.routeCategory;\n  }\n  if (routeCategory !== \"healthCheckRoutes\") {\n    auditLogResponse(null, req, res);\n  }\n  res.status(res.statusCode || 200).send({ status: true, response: res.data });\n};\n\n/**\n * Check if not custom error, creates internal error and returns\n * @param {*} error\n * @returns\n */\nfunction maskSystemError(error) {\n  if (error.name !== \"ErrorUtils\") {\n    return ErrorUtils.InternalServerError();\n  }\n  return error;\n}\n\nexport const resErrorLog = (error, req, res, next) => {\n  log(\"error\", error.stack);\n  auditLogResponse(error, req, res);\n  // eslint-disable-next-line\n  error = maskSystemError(error);\n  if (res.headersSent) {\n    return next(error);\n  }\n  res.status(error.statusCode || 200);\n  return res.send({\n    status: false,\n    response: {\n      code: error.code || 1000,\n      reason: error.message,\n    },\n  });\n};\n"],"mappings":"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"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/SchemaValidator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validate = exports.default = void 0;\n\nvar jsValidator = _interopRequireWildcard(require(\"json-schema\"));\n\nvar ErrorUtils = _interopRequireWildcard(require(\"../errors/ErrorUtils\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// event type and schema type should be same, its a assumption\nconst validate = (req, res, next) => {\n  const {\n    query,\n    body,\n    routeObj\n  } = req;\n  const querySchema = routeObj.schema?.query;\n  const bodySchema = routeObj.schema?.body;\n  const isValidReqQuery = jsValidator.validate(query, querySchema);\n  const isValidReqBody = jsValidator.validate(body, bodySchema);\n\n  if (!isValidReqQuery.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqQuery.errors)));\n  } else if (!isValidReqBody.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqBody.errors)));\n  } else {\n    next();\n  }\n};\n\nexports.validate = validate;\nvar _default = validate;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2YWxpZGF0ZSIsInJlcSIsInJlcyIsIm5leHQiLCJxdWVyeSIsImJvZHkiLCJyb3V0ZU9iaiIsInF1ZXJ5U2NoZW1hIiwic2NoZW1hIiwiYm9keVNjaGVtYSIsImlzVmFsaWRSZXFRdWVyeSIsImpzVmFsaWRhdG9yIiwiaXNWYWxpZFJlcUJvZHkiLCJ2YWxpZCIsIkVycm9yVXRpbHMiLCJJbnZhbGlkU2NoZW1hRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiU2NoZW1hVmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGpzVmFsaWRhdG9yIGZyb20gXCJqc29uLXNjaGVtYVwiO1xuaW1wb3J0ICogYXMgRXJyb3JVdGlscyBmcm9tIFwiLi4vZXJyb3JzL0Vycm9yVXRpbHNcIjtcblxuLy8gZXZlbnQgdHlwZSBhbmQgc2NoZW1hIHR5cGUgc2hvdWxkIGJlIHNhbWUsIGl0cyBhIGFzc3VtcHRpb25cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7IHF1ZXJ5LCBib2R5LCByb3V0ZU9iaiB9ID0gcmVxO1xuICBjb25zdCBxdWVyeVNjaGVtYSA9IHJvdXRlT2JqLnNjaGVtYT8ucXVlcnk7XG4gIGNvbnN0IGJvZHlTY2hlbWEgPSByb3V0ZU9iai5zY2hlbWE/LmJvZHk7XG5cbiAgY29uc3QgaXNWYWxpZFJlcVF1ZXJ5ID0ganNWYWxpZGF0b3IudmFsaWRhdGUocXVlcnksIHF1ZXJ5U2NoZW1hKTtcbiAgY29uc3QgaXNWYWxpZFJlcUJvZHkgPSBqc1ZhbGlkYXRvci52YWxpZGF0ZShib2R5LCBib2R5U2NoZW1hKTtcbiAgaWYgKCFpc1ZhbGlkUmVxUXVlcnkudmFsaWQpIHtcbiAgICBuZXh0KEVycm9yVXRpbHMuSW52YWxpZFNjaGVtYUVycm9yKEpTT04uc3RyaW5naWZ5KGlzVmFsaWRSZXFRdWVyeS5lcnJvcnMpKSk7XG4gIH0gZWxzZSBpZiAoIWlzVmFsaWRSZXFCb2R5LnZhbGlkKSB7XG4gICAgbmV4dChFcnJvclV0aWxzLkludmFsaWRTY2hlbWFFcnJvcihKU09OLnN0cmluZ2lmeShpc1ZhbGlkUmVxQm9keS5lcnJvcnMpKSk7XG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7QUFFQTtBQUNPLE1BQU1BLFFBQVEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtFQUMxQyxNQUFNO0lBQUVDLEtBQUY7SUFBU0MsSUFBVDtJQUFlQztFQUFmLElBQTRCTCxHQUFsQztFQUNBLE1BQU1NLFdBQVcsR0FBR0QsUUFBUSxDQUFDRSxNQUFULEVBQWlCSixLQUFyQztFQUNBLE1BQU1LLFVBQVUsR0FBR0gsUUFBUSxDQUFDRSxNQUFULEVBQWlCSCxJQUFwQztFQUVBLE1BQU1LLGVBQWUsR0FBR0MsV0FBVyxDQUFDWCxRQUFaLENBQXFCSSxLQUFyQixFQUE0QkcsV0FBNUIsQ0FBeEI7RUFDQSxNQUFNSyxjQUFjLEdBQUdELFdBQVcsQ0FBQ1gsUUFBWixDQUFxQkssSUFBckIsRUFBMkJJLFVBQTNCLENBQXZCOztFQUNBLElBQUksQ0FBQ0MsZUFBZSxDQUFDRyxLQUFyQixFQUE0QjtJQUMxQlYsSUFBSSxDQUFDVyxVQUFVLENBQUNDLGtCQUFYLENBQThCQyxJQUFJLENBQUNDLFNBQUwsQ0FBZVAsZUFBZSxDQUFDUSxNQUEvQixDQUE5QixDQUFELENBQUo7RUFDRCxDQUZELE1BRU8sSUFBSSxDQUFDTixjQUFjLENBQUNDLEtBQXBCLEVBQTJCO0lBQ2hDVixJQUFJLENBQUNXLFVBQVUsQ0FBQ0Msa0JBQVgsQ0FBOEJDLElBQUksQ0FBQ0MsU0FBTCxDQUFlTCxjQUFjLENBQUNNLE1BQTlCLENBQTlCLENBQUQsQ0FBSjtFQUNELENBRk0sTUFFQTtJQUNMZixJQUFJO0VBQ0w7QUFDRixDQWRNOzs7ZUFnQlFILFEifQ==","map":{"version":3,"names":["validate","req","res","next","query","body","routeObj","querySchema","schema","bodySchema","isValidReqQuery","jsValidator","isValidReqBody","valid","ErrorUtils","InvalidSchemaError","JSON","stringify","errors"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/","sources":["SchemaValidator.js"],"sourcesContent":["import * as jsValidator from \"json-schema\";\nimport * as ErrorUtils from \"../errors/ErrorUtils\";\n\n// event type and schema type should be same, its a assumption\nexport const validate = (req, res, next) => {\n  const { query, body, routeObj } = req;\n  const querySchema = routeObj.schema?.query;\n  const bodySchema = routeObj.schema?.body;\n\n  const isValidReqQuery = jsValidator.validate(query, querySchema);\n  const isValidReqBody = jsValidator.validate(body, bodySchema);\n  if (!isValidReqQuery.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqQuery.errors)));\n  } else if (!isValidReqBody.valid) {\n    next(ErrorUtils.InvalidSchemaError(JSON.stringify(isValidReqBody.errors)));\n  } else {\n    next();\n  }\n};\n\nexport default validate;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA;AACO,MAAMA,QAAQ,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;EAC1C,MAAM;IAAEC,KAAF;IAASC,IAAT;IAAeC;EAAf,IAA4BL,GAAlC;EACA,MAAMM,WAAW,GAAGD,QAAQ,CAACE,MAAT,EAAiBJ,KAArC;EACA,MAAMK,UAAU,GAAGH,QAAQ,CAACE,MAAT,EAAiBH,IAApC;EAEA,MAAMK,eAAe,GAAGC,WAAW,CAACX,QAAZ,CAAqBI,KAArB,EAA4BG,WAA5B,CAAxB;EACA,MAAMK,cAAc,GAAGD,WAAW,CAACX,QAAZ,CAAqBK,IAArB,EAA2BI,UAA3B,CAAvB;;EACA,IAAI,CAACC,eAAe,CAACG,KAArB,EAA4B;IAC1BV,IAAI,CAACW,UAAU,CAACC,kBAAX,CAA8BC,IAAI,CAACC,SAAL,CAAeP,eAAe,CAACQ,MAA/B,CAA9B,CAAD,CAAJ;EACD,CAFD,MAEO,IAAI,CAACN,cAAc,CAACC,KAApB,EAA2B;IAChCV,IAAI,CAACW,UAAU,CAACC,kBAAX,CAA8BC,IAAI,CAACC,SAAL,CAAeL,cAAc,CAACM,MAA9B,CAA9B,CAAD,CAAJ;EACD,CAFM,MAEA;IACLf,IAAI;EACL;AACF,CAdM;;;eAgBQH,Q"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/HttpContextMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setHttpContextErrorResponsePayload = setHttpContextErrorResponsePayload;\nexports.setHttpContextMetrics = setHttpContextMetrics;\nexports.setHttpContextRequestPayload = setHttpContextRequestPayload;\nexports.setHttpContextResponsePayload = setHttpContextResponsePayload;\nexports.setHttpContextUserDetails = setHttpContextUserDetails;\n\nvar Constants = _interopRequireWildcard(require(\"../constants/Constants\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst httpContext = require(\"express-http-context\");\n\nconst _ = require(\"lodash\");\n\nfunction setHttpContextMetrics(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_START_TIME, process.hrtime.bigint());\n  httpContext.set(Constants.LOGGER_API_ROUTE, req.path);\n  httpContext.set(Constants.LOGGER_USER_IP_ADDRESS, req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress);\n  next();\n}\n\nfunction setHttpContextUserDetails(req, res, next) {\n  // set session payload for metroauth initi\n  if (req.session) {\n    httpContext.set(Constants.LOGGER_USER_DETAILS, {\n      userId: req.session.user_id || \"\",\n      primaryNumber: req.session.zvr_mobile_no || \"\",\n      doosraNumber: req.session.v_mobile_no || \"\"\n    });\n  }\n\n  next();\n} // unable to capture dynamic url path in request middleware\n// req.route.path is populated when it hits matched route only\n// is captured in response middleware\n// http://expressjs.com/en/api.html#req.route\n\n\nfunction setHttpContextRequestPayload(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, {\n    // clone\n    urlDetails: _.cloneDeep({\n      path: req.path,\n      baseUrl: req.baseUrl,\n      host: req.hostname,\n      httpVersion: req.httpVersion,\n      method: req.method,\n      originalUrl: req.originalUrl,\n      protocol: req.protocol,\n      url: req.url\n    }),\n    headers: _.cloneDeep(req.headers),\n    params: _.cloneDeep(req.params),\n    body: _.cloneDeep(req.body),\n    query: _.cloneDeep(req.query)\n  });\n  next();\n}\n/**\n *\n * @param {*} req\n *\n * https://expressjs.com/en/api.html#req.route\n * Contains the currently-matched route, a string.\n * req.route.path is update on matched route and available in response middleware.\n */\n\n\nfunction setHttpContextDynamicRoutePath(req) {\n  const requestPayload = httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD);\n\n  if (requestPayload && requestPayload.urlDetails) {\n    requestPayload.urlDetails.dynamicRoutePath = req.route?.path;\n    httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, _.cloneDeep(requestPayload));\n  }\n}\n\nfunction getResponseTime() {\n  let timeDiff = \"-\";\n  const nanoToMilli = BigInt(1e6);\n  const startTime = httpContext.get(Constants.LOGGER_REQUEST_START_TIME);\n  const endTime = process.hrtime.bigint();\n\n  try {\n    if (typeof startTime === \"bigint\" && typeof endTime === \"bigint\") {\n      timeDiff = (endTime - startTime) / nanoToMilli;\n    }\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return `${timeDiff}ms`;\n}\n\nfunction setHttpContextResponsePayload(req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    data: res.data\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next();\n}\n\nfunction setHttpContextErrorResponsePayload(error, req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    error\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next(error);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwQ29udGV4dCIsInJlcXVpcmUiLCJfIiwic2V0SHR0cENvbnRleHRNZXRyaWNzIiwicmVxIiwicmVzIiwibmV4dCIsInNldCIsIkNvbnN0YW50cyIsIkxPR0dFUl9SRVFVRVNUX1NUQVJUX1RJTUUiLCJwcm9jZXNzIiwiaHJ0aW1lIiwiYmlnaW50IiwiTE9HR0VSX0FQSV9ST1VURSIsInBhdGgiLCJMT0dHRVJfVVNFUl9JUF9BRERSRVNTIiwiaGVhZGVycyIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwic2V0SHR0cENvbnRleHRVc2VyRGV0YWlscyIsInNlc3Npb24iLCJMT0dHRVJfVVNFUl9ERVRBSUxTIiwidXNlcklkIiwidXNlcl9pZCIsInByaW1hcnlOdW1iZXIiLCJ6dnJfbW9iaWxlX25vIiwiZG9vc3JhTnVtYmVyIiwidl9tb2JpbGVfbm8iLCJzZXRIdHRwQ29udGV4dFJlcXVlc3RQYXlsb2FkIiwiTE9HR0VSX1JFUVVFU1RfUEFZTE9BRCIsInVybERldGFpbHMiLCJjbG9uZURlZXAiLCJiYXNlVXJsIiwiaG9zdCIsImhvc3RuYW1lIiwiaHR0cFZlcnNpb24iLCJtZXRob2QiLCJvcmlnaW5hbFVybCIsInByb3RvY29sIiwidXJsIiwicGFyYW1zIiwiYm9keSIsInF1ZXJ5Iiwic2V0SHR0cENvbnRleHREeW5hbWljUm91dGVQYXRoIiwicmVxdWVzdFBheWxvYWQiLCJnZXQiLCJkeW5hbWljUm91dGVQYXRoIiwicm91dGUiLCJnZXRSZXNwb25zZVRpbWUiLCJ0aW1lRGlmZiIsIm5hbm9Ub01pbGxpIiwiQmlnSW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImVycm9yIiwibG9nIiwic2V0SHR0cENvbnRleHRSZXNwb25zZVBheWxvYWQiLCJvdXQiLCJnZXRIZWFkZXJzIiwiZGF0YSIsIkxPR0dFUl9SRVNQT05TRV9QQVlMT0FEIiwiTE9HR0VSX1JFU1BPTlNFX1RJTUUiLCJzZXRIdHRwQ29udGV4dEVycm9yUmVzcG9uc2VQYXlsb2FkIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiSHR0cENvbnRleHRNaWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi4vY29uc3RhbnRzL0NvbnN0YW50c1wiO1xuXG5jb25zdCBodHRwQ29udGV4dCA9IHJlcXVpcmUoXCJleHByZXNzLWh0dHAtY29udGV4dFwiKTtcbmNvbnN0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0SHR0cENvbnRleHRNZXRyaWNzKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFUVVFU1RfU1RBUlRfVElNRSwgcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCkpO1xuICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9BUElfUk9VVEUsIHJlcS5wYXRoKTtcbiAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfVVNFUl9JUF9BRERSRVNTLCByZXEuaGVhZGVyc1tcIngtZm9yd2FyZGVkLWZvclwiXSB8fCByZXEuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzKTtcbiAgbmV4dCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SHR0cENvbnRleHRVc2VyRGV0YWlscyhyZXEsIHJlcywgbmV4dCkge1xuICAvLyBzZXQgc2Vzc2lvbiBwYXlsb2FkIGZvciBtZXRyb2F1dGggaW5pdGlcbiAgaWYgKHJlcS5zZXNzaW9uKSB7XG4gICAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfVVNFUl9ERVRBSUxTLCB7XG4gICAgICB1c2VySWQ6IHJlcS5zZXNzaW9uLnVzZXJfaWQgfHwgXCJcIixcbiAgICAgIHByaW1hcnlOdW1iZXI6IHJlcS5zZXNzaW9uLnp2cl9tb2JpbGVfbm8gfHwgXCJcIixcbiAgICAgIGRvb3NyYU51bWJlcjogcmVxLnNlc3Npb24udl9tb2JpbGVfbm8gfHwgXCJcIixcbiAgICB9KTtcbiAgfVxuICBuZXh0KCk7XG59XG5cbi8vIHVuYWJsZSB0byBjYXB0dXJlIGR5bmFtaWMgdXJsIHBhdGggaW4gcmVxdWVzdCBtaWRkbGV3YXJlXG4vLyByZXEucm91dGUucGF0aCBpcyBwb3B1bGF0ZWQgd2hlbiBpdCBoaXRzIG1hdGNoZWQgcm91dGUgb25seVxuLy8gaXMgY2FwdHVyZWQgaW4gcmVzcG9uc2UgbWlkZGxld2FyZVxuLy8gaHR0cDovL2V4cHJlc3Nqcy5jb20vZW4vYXBpLmh0bWwjcmVxLnJvdXRlXG5leHBvcnQgZnVuY3Rpb24gc2V0SHR0cENvbnRleHRSZXF1ZXN0UGF5bG9hZChyZXEsIHJlcywgbmV4dCkge1xuICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVFVRVNUX1BBWUxPQUQsIHtcbiAgICAvLyBjbG9uZVxuICAgIHVybERldGFpbHM6IF8uY2xvbmVEZWVwKHtcbiAgICAgIHBhdGg6IHJlcS5wYXRoLFxuICAgICAgYmFzZVVybDogcmVxLmJhc2VVcmwsXG4gICAgICBob3N0OiByZXEuaG9zdG5hbWUsXG4gICAgICBodHRwVmVyc2lvbjogcmVxLmh0dHBWZXJzaW9uLFxuICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgb3JpZ2luYWxVcmw6IHJlcS5vcmlnaW5hbFVybCxcbiAgICAgIHByb3RvY29sOiByZXEucHJvdG9jb2wsXG4gICAgICB1cmw6IHJlcS51cmwsXG4gICAgfSksXG4gICAgaGVhZGVyczogXy5jbG9uZURlZXAocmVxLmhlYWRlcnMpLFxuICAgIHBhcmFtczogXy5jbG9uZURlZXAocmVxLnBhcmFtcyksXG4gICAgYm9keTogXy5jbG9uZURlZXAocmVxLmJvZHkpLFxuICAgIHF1ZXJ5OiBfLmNsb25lRGVlcChyZXEucXVlcnkpLFxuICB9KTtcbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHJlcVxuICpcbiAqIGh0dHBzOi8vZXhwcmVzc2pzLmNvbS9lbi9hcGkuaHRtbCNyZXEucm91dGVcbiAqIENvbnRhaW5zIHRoZSBjdXJyZW50bHktbWF0Y2hlZCByb3V0ZSwgYSBzdHJpbmcuXG4gKiByZXEucm91dGUucGF0aCBpcyB1cGRhdGUgb24gbWF0Y2hlZCByb3V0ZSBhbmQgYXZhaWxhYmxlIGluIHJlc3BvbnNlIG1pZGRsZXdhcmUuXG4gKi9cbmZ1bmN0aW9uIHNldEh0dHBDb250ZXh0RHluYW1pY1JvdXRlUGF0aChyZXEpIHtcbiAgY29uc3QgcmVxdWVzdFBheWxvYWQgPSBodHRwQ29udGV4dC5nZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVFVRVNUX1BBWUxPQUQpO1xuICBpZiAocmVxdWVzdFBheWxvYWQgJiYgcmVxdWVzdFBheWxvYWQudXJsRGV0YWlscykge1xuICAgIHJlcXVlc3RQYXlsb2FkLnVybERldGFpbHMuZHluYW1pY1JvdXRlUGF0aCA9IHJlcS5yb3V0ZT8ucGF0aDtcbiAgICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVFVRVNUX1BBWUxPQUQsIF8uY2xvbmVEZWVwKHJlcXVlc3RQYXlsb2FkKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVzcG9uc2VUaW1lKCkge1xuICBsZXQgdGltZURpZmYgPSBcIi1cIjtcbiAgY29uc3QgbmFub1RvTWlsbGkgPSBCaWdJbnQoMWU2KTtcbiAgY29uc3Qgc3RhcnRUaW1lID0gaHR0cENvbnRleHQuZ2V0KENvbnN0YW50cy5MT0dHRVJfUkVRVUVTVF9TVEFSVF9USU1FKTtcbiAgY29uc3QgZW5kVGltZSA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygc3RhcnRUaW1lID09PSBcImJpZ2ludFwiICYmIHR5cGVvZiBlbmRUaW1lID09PSBcImJpZ2ludFwiKSB7XG4gICAgICB0aW1lRGlmZiA9IChlbmRUaW1lIC0gc3RhcnRUaW1lKSAvIG5hbm9Ub01pbGxpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGVycm9yIH0pO1xuICB9XG4gIHJldHVybiBgJHt0aW1lRGlmZn1tc2A7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRIdHRwQ29udGV4dFJlc3BvbnNlUGF5bG9hZChyZXEsIHJlcywgbmV4dCkge1xuICBjb25zdCBvdXQgPSB7XG4gICAgaGVhZGVyczogcmVzLmdldEhlYWRlcnMoKSxcbiAgICBkYXRhOiByZXMuZGF0YSxcbiAgfTtcbiAgc2V0SHR0cENvbnRleHREeW5hbWljUm91dGVQYXRoKHJlcSk7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFU1BPTlNFX1BBWUxPQUQsIF8uY2xvbmVEZWVwKG91dCkpO1xuICBodHRwQ29udGV4dC5zZXQoQ29uc3RhbnRzLkxPR0dFUl9SRVNQT05TRV9USU1FLCBnZXRSZXNwb25zZVRpbWUoKSk7XG4gIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEh0dHBDb250ZXh0RXJyb3JSZXNwb25zZVBheWxvYWQoZXJyb3IsIHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IG91dCA9IHtcbiAgICBoZWFkZXJzOiByZXMuZ2V0SGVhZGVycygpLFxuICAgIGVycm9yLFxuICB9O1xuICBzZXRIdHRwQ29udGV4dER5bmFtaWNSb3V0ZVBhdGgocmVxKTtcbiAgaHR0cENvbnRleHQuc2V0KENvbnN0YW50cy5MT0dHRVJfUkVTUE9OU0VfUEFZTE9BRCwgXy5jbG9uZURlZXAob3V0KSk7XG4gIGh0dHBDb250ZXh0LnNldChDb25zdGFudHMuTE9HR0VSX1JFU1BPTlNFX1RJTUUsIGdldFJlc3BvbnNlVGltZSgpKTtcbiAgbmV4dChlcnJvcik7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLHNCQUFELENBQTNCOztBQUNBLE1BQU1DLENBQUMsR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBakI7O0FBRU8sU0FBU0Us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","map":{"version":3,"names":["httpContext","require","_","setHttpContextMetrics","req","res","next","set","Constants","LOGGER_REQUEST_START_TIME","process","hrtime","bigint","LOGGER_API_ROUTE","path","LOGGER_USER_IP_ADDRESS","headers","connection","remoteAddress","setHttpContextUserDetails","session","LOGGER_USER_DETAILS","userId","user_id","primaryNumber","zvr_mobile_no","doosraNumber","v_mobile_no","setHttpContextRequestPayload","LOGGER_REQUEST_PAYLOAD","urlDetails","cloneDeep","baseUrl","host","hostname","httpVersion","method","originalUrl","protocol","url","params","body","query","setHttpContextDynamicRoutePath","requestPayload","get","dynamicRoutePath","route","getResponseTime","timeDiff","nanoToMilli","BigInt","startTime","endTime","error","log","setHttpContextResponsePayload","out","getHeaders","data","LOGGER_RESPONSE_PAYLOAD","LOGGER_RESPONSE_TIME","setHttpContextErrorResponsePayload"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/middlewares/","sources":["HttpContextMiddleware.js"],"sourcesContent":["import * as Constants from \"../constants/Constants\";\n\nconst httpContext = require(\"express-http-context\");\nconst _ = require(\"lodash\");\n\nexport function setHttpContextMetrics(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_START_TIME, process.hrtime.bigint());\n  httpContext.set(Constants.LOGGER_API_ROUTE, req.path);\n  httpContext.set(Constants.LOGGER_USER_IP_ADDRESS, req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress);\n  next();\n}\n\nexport function setHttpContextUserDetails(req, res, next) {\n  // set session payload for metroauth initi\n  if (req.session) {\n    httpContext.set(Constants.LOGGER_USER_DETAILS, {\n      userId: req.session.user_id || \"\",\n      primaryNumber: req.session.zvr_mobile_no || \"\",\n      doosraNumber: req.session.v_mobile_no || \"\",\n    });\n  }\n  next();\n}\n\n// unable to capture dynamic url path in request middleware\n// req.route.path is populated when it hits matched route only\n// is captured in response middleware\n// http://expressjs.com/en/api.html#req.route\nexport function setHttpContextRequestPayload(req, res, next) {\n  httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, {\n    // clone\n    urlDetails: _.cloneDeep({\n      path: req.path,\n      baseUrl: req.baseUrl,\n      host: req.hostname,\n      httpVersion: req.httpVersion,\n      method: req.method,\n      originalUrl: req.originalUrl,\n      protocol: req.protocol,\n      url: req.url,\n    }),\n    headers: _.cloneDeep(req.headers),\n    params: _.cloneDeep(req.params),\n    body: _.cloneDeep(req.body),\n    query: _.cloneDeep(req.query),\n  });\n  next();\n}\n\n/**\n *\n * @param {*} req\n *\n * https://expressjs.com/en/api.html#req.route\n * Contains the currently-matched route, a string.\n * req.route.path is update on matched route and available in response middleware.\n */\nfunction setHttpContextDynamicRoutePath(req) {\n  const requestPayload = httpContext.get(Constants.LOGGER_REQUEST_PAYLOAD);\n  if (requestPayload && requestPayload.urlDetails) {\n    requestPayload.urlDetails.dynamicRoutePath = req.route?.path;\n    httpContext.set(Constants.LOGGER_REQUEST_PAYLOAD, _.cloneDeep(requestPayload));\n  }\n}\n\nfunction getResponseTime() {\n  let timeDiff = \"-\";\n  const nanoToMilli = BigInt(1e6);\n  const startTime = httpContext.get(Constants.LOGGER_REQUEST_START_TIME);\n  const endTime = process.hrtime.bigint();\n  try {\n    if (typeof startTime === \"bigint\" && typeof endTime === \"bigint\") {\n      timeDiff = (endTime - startTime) / nanoToMilli;\n    }\n  } catch (error) {\n    log(\"error\", { error });\n  }\n  return `${timeDiff}ms`;\n}\n\nexport function setHttpContextResponsePayload(req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    data: res.data,\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next();\n}\n\nexport function setHttpContextErrorResponsePayload(error, req, res, next) {\n  const out = {\n    headers: res.getHeaders(),\n    error,\n  };\n  setHttpContextDynamicRoutePath(req);\n  httpContext.set(Constants.LOGGER_RESPONSE_PAYLOAD, _.cloneDeep(out));\n  httpContext.set(Constants.LOGGER_RESPONSE_TIME, getResponseTime());\n  next(error);\n}\n"],"mappings":"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"}},"mtime":1653891206512},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/MainDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  _mongoose.default.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwibW9uZ29vc2UiLCJzZXQiLCJjb2xsZWN0aW9uTmFtZSIsIm1ldGhvZE5hbWUiLCJtZXRob2RBcmdzIiwibG9nIiwiam9pbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiTWFpbkRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1pbXBvcnQtbW9kdWxlLWV4cG9ydHMgKi9cblxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XG5cbmxldCBjb25uO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc3QgUkVDT05ORUNUX1RJTUUgPSA1MDAwO1xuICBjb25zdCBDT05OX1VSTCA9IGNvbmZpZy5tYWluRGJjb25maWcuY29ublN0cmluZztcblxuICBpZiAoY29ubikge1xuICAgIHJldHVybiBjb25uO1xuICB9XG5cbiAgbW9uZ29vc2Uuc2V0KFwiZGVidWdcIiwgKGNvbGxlY3Rpb25OYW1lLCBtZXRob2ROYW1lLCAuLi5tZXRob2RBcmdzKSA9PiB7XG4gICAgLy8gdXNlIGN1c3RvbSBmdW5jdGlvbiB0byBsb2cgY29sbGVjdGlvbiBtZXRob2RzICsgYXJndW1lbnRzXG4gICAgbG9nKFwiaW5mb1wiLCBgTW9uZ29vc2U6ICR7Y29sbGVjdGlvbk5hbWV9LiR7bWV0aG9kTmFtZX0oJHttZXRob2RBcmdzLmpvaW4oXCIsIFwiKX0pYCk7XG4gIH0pO1xuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gbWFpbiBkYXRhYmFzZSAke0NPTk5fVVJMfWApO1xuICBjb25uID0gbW9uZ29vc2UuY3JlYXRlQ29ubmVjdGlvbihDT05OX1VSTCk7XG5cbiAgLy8gIE1vbmdvb3NlIENvbm5lY3Rpb24gRXZlbnRzXG4gIGNvbm4ub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGVycm9yIH0pO1xuICB9KTtcblxuICBjb25uLm9uY2UoXCJvcGVuXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcIm9wZW5cIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0ZWRcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImNvbm5lY3RpbmdcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwiY29ubmVjdGluZ1wiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwicmVjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwicmVjb25uZWN0ZWRcIiB9KTtcbiAgfSk7XG5cbiAgY29ubi5vbihcImRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiZXJyb3JcIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IGBkaXNjb25uZWN0ZWQgUmVjb25uZWN0aW5nIGluICR7UkVDT05ORUNUX1RJTUUgLyAxMDAwfXMuLi5gIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdXRvbWF0dGljL21vbmdvb3NlL2lzc3Vlcy81MTY5I2lzc3VlY29tbWVudC0zMTQ5ODMxMTNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgY29ubi5vcGVuVXJpKENPTk5fVVJMKS5jYXRjaCgoKSA9PiB7IH0pOyB9LCBSRUNPTk5FQ1RfVElNRSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGJJbnN0YW5jZSgpIHtcbiAgcmV0dXJuIGNvbm47XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUE7O0FBQ0E7Ozs7QUFIQTtBQUtBLElBQUlBLElBQUo7O0FBRU8sU0FBU0MsSUFBVCxHQUFnQjtFQUNyQixNQUFNQyxjQUFjLEdBQUcsSUFBdkI7RUFDQSxNQUFNQyxRQUFRLEdBQUdDLGVBQU9DLFlBQVAsQ0FBb0JDLFVBQXJDOztFQUVBLElBQUlOLElBQUosRUFBVTtJQUNSLE9BQU9BLElBQVA7RUFDRDs7RUFFRE8sa0JBQVNDLEdBQVQsQ0FBYSxPQUFiLEVBQXNCLENBQUNDLGNBQUQsRUFBaUJDLFVBQWpCLEVBQTZCLEdBQUdDLFVBQWhDLEtBQStDO0lBQ25FO0lBQ0FDLEdBQUcsQ0FBQyxNQUFELEVBQVUsYUFBWUgsY0FBZSxJQUFHQyxVQUFXLElBQUdDLFVBQVUsQ0FBQ0UsSUFBWCxDQUFnQixJQUFoQixDQUFzQixHQUE1RSxDQUFIO0VBQ0QsQ0FIRDs7RUFLQUQsR0FBRyxDQUFDLE1BQUQsRUFBVSx3Q0FBdUNULFFBQVMsRUFBMUQsQ0FBSDtFQUNBSCxJQUFJLEdBQUdPLGtCQUFTTyxnQkFBVCxDQUEwQlgsUUFBMUIsQ0FBUCxDQWRxQixDQWdCckI7O0VBQ0FILElBQUksQ0FBQ2UsRUFBTCxDQUFRLE9BQVIsRUFBa0JDLEtBQUQsSUFBVztJQUMxQkosR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFSTtJQUFGLENBQVYsQ0FBSDtFQUNELENBRkQ7RUFJQWhCLElBQUksQ0FBQ2lCLElBQUwsQ0FBVSxNQUFWLEVBQWtCLE1BQU07SUFDdEJMLEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsV0FBUixFQUFxQixNQUFNO0lBQ3pCSCxHQUFHLENBQUMsTUFBRCxFQUFTO01BQUVNLGtCQUFrQixFQUFFO0lBQXRCLENBQVQsQ0FBSDtFQUNELENBRkQ7RUFJQWxCLElBQUksQ0FBQ2UsRUFBTCxDQUFRLFlBQVIsRUFBc0IsTUFBTTtJQUMxQkgsR0FBRyxDQUFDLE1BQUQsRUFBUztNQUFFTSxrQkFBa0IsRUFBRTtJQUF0QixDQUFULENBQUg7RUFDRCxDQUZEO0VBSUFsQixJQUFJLENBQUNlLEVBQUwsQ0FBUSxhQUFSLEVBQXVCLE1BQU07SUFDM0JILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBbEIsSUFBSSxDQUFDZSxFQUFMLENBQVEsY0FBUixFQUF3QixNQUFNO0lBQzVCSCxHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVNLGtCQUFrQixFQUFHLGdDQUErQmhCLGNBQWMsR0FBRyxJQUFLO0lBQTVFLENBQVYsQ0FBSCxDQUQ0QixDQUU1Qjs7SUFDQWlCLFVBQVUsQ0FBQyxNQUFNO01BQUVuQixJQUFJLENBQUNvQixPQUFMLENBQWFqQixRQUFiLEVBQXVCa0IsS0FBdkIsQ0FBNkIsTUFBTSxDQUFHLENBQXRDO0lBQTBDLENBQW5ELEVBQXFEbkIsY0FBckQsQ0FBVjtFQUNELENBSkQ7RUFNQSxPQUFPRixJQUFQO0FBQ0Q7O0FBRU0sU0FBU3NCLGFBQVQsR0FBeUI7RUFDOUIsT0FBT3RCLElBQVA7QUFDRCJ9","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","mainDbconfig","connString","mongoose","set","collectionName","methodName","methodArgs","log","join","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["MainDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.mainDbconfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  mongoose.set(\"debug\", (collectionName, methodName, ...methodArgs) => {\n    // use custom function to log collection methods + arguments\n    log(\"info\", `Mongoose: ${collectionName}.${methodName}(${methodArgs.join(\", \")})`);\n  });\n\n  log(\"info\", `CONN_URL to connect to main database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,YAAP,CAAoBC,UAArC;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,kBAASC,GAAT,CAAa,OAAb,EAAsB,CAACC,cAAD,EAAiBC,UAAjB,EAA6B,GAAGC,UAAhC,KAA+C;IACnE;IACAC,GAAG,CAAC,MAAD,EAAU,aAAYH,cAAe,IAAGC,UAAW,IAAGC,UAAU,CAACE,IAAX,CAAgB,IAAhB,CAAsB,GAA5E,CAAH;EACD,CAHD;;EAKAD,GAAG,CAAC,MAAD,EAAU,wCAAuCT,QAAS,EAA1D,CAAH;EACAH,IAAI,GAAGO,kBAASO,gBAAT,CAA0BX,QAA1B,CAAP,CAdqB,CAgBrB;;EACAH,IAAI,CAACe,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAhB,IAAI,CAACiB,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAlB,IAAI,CAACe,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BhB,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAiB,UAAU,CAAC,MAAM;MAAEnB,IAAI,CAACoB,OAAL,CAAajB,QAAb,EAAuBkB,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDnB,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASsB,aAAT,GAAyB;EAC9B,OAAOtB,IAAP;AACD"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default2 = _interopRequireDefault(require(\"./default\"));\n\nvar _dev = _interopRequireDefault(require(\"./dev\"));\n\nvar _prod = _interopRequireDefault(require(\"./prod\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return _default2.default;\n\n    case \"dev\":\n      return _dev.default;\n\n    case \"production\":\n      return _prod.default;\n\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\n\nvar _default = config();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsb2NhbENvbmZpZyIsImRldkNvbmZpZyIsInByb2RDb25maWciLCJFcnJvciJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9jYWxDb25maWcgZnJvbSBcIi4vZGVmYXVsdFwiO1xuaW1wb3J0IGRldkNvbmZpZyBmcm9tIFwiLi9kZXZcIjtcbmltcG9ydCBwcm9kQ29uZmlnIGZyb20gXCIuL3Byb2RcIjtcblxuY29uc3QgY29uZmlnID0gKCkgPT4ge1xuICAvLyBwcm9jZXNzLmVudi5OT0RFX0VOViA9IFwiZGVmYXVsdFwiO1xuICBzd2l0Y2ggKHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgIHJldHVybiBsb2NhbENvbmZpZztcbiAgICBjYXNlIFwiZGV2XCI6XG4gICAgICByZXR1cm4gZGV2Q29uZmlnO1xuICAgIGNhc2UgXCJwcm9kdWN0aW9uXCI6XG4gICAgICByZXR1cm4gcHJvZENvbmZpZztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlnIHZhcmlhYmxlcyBub3Qgc2V0XCIpO1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxNQUFNO0VBQ25CO0VBQ0EsUUFBUUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQXBCO0lBQ0UsS0FBSyxTQUFMO01BQ0UsT0FBT0MsaUJBQVA7O0lBQ0YsS0FBSyxLQUFMO01BQ0UsT0FBT0MsWUFBUDs7SUFDRixLQUFLLFlBQUw7TUFDRSxPQUFPQyxhQUFQOztJQUNGO01BQ0UsTUFBTSxJQUFJQyxLQUFKLENBQVUsMEJBQVYsQ0FBTjtFQVJKO0FBVUQsQ0FaRDs7ZUFhZVAsTUFBTSxFIn0=","map":{"version":3,"names":["config","process","env","NODE_ENV","localConfig","devConfig","prodConfig","Error"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["index.js"],"sourcesContent":["import localConfig from \"./default\";\nimport devConfig from \"./dev\";\nimport prodConfig from \"./prod\";\n\nconst config = () => {\n  // process.env.NODE_ENV = \"default\";\n  switch (process.env.NODE_ENV) {\n    case \"default\":\n      return localConfig;\n    case \"dev\":\n      return devConfig;\n    case \"production\":\n      return prodConfig;\n    default:\n      throw new Error(\"Config variables not set\");\n  }\n};\nexport default config();\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,MAAM;EACnB;EACA,QAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB;IACE,KAAK,SAAL;MACE,OAAOC,iBAAP;;IACF,KAAK,KAAL;MACE,OAAOC,YAAP;;IACF,KAAK,YAAL;MACE,OAAOC,aAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;EARJ;AAUD,CAZD;;eAaeP,MAAM,E"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/default.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\"\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\"\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwiYW5hbHl0aWNzRGJDb25maWciLCJyZWRpc0NvbmZpZyIsInNlbnRyeV9kc24iLCJwcm9jZXNzIiwiZW52IiwiU0VOVFJZX0RTTiJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25maWcvIiwic291cmNlcyI6WyJkZWZhdWx0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgbWFpbkRiY29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2xjX21ldHJvX2RiXCIsXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2FuYWx5dGljc2RiXCIsXG4gIH0sXG4gIHJlZGlzQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogXCJyZWRpczovL2xvY2FsaG9zdDo2Mzc5XCIsXG4gIH0sXG4gIHNlbnRyeV9kc246IHByb2Nlc3MuZW52LlNFTlRSWV9EU04sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNiQSxZQUFZLEVBQUU7SUFDWkMsVUFBVSxFQUFFO0VBREEsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkQsVUFBVSxFQUFFO0VBREssQ0FKTjtFQU9iRSxXQUFXLEVBQUU7SUFDWEYsVUFBVSxFQUFFO0VBREQsQ0FQQTtFQVViRyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQVZYLEMifQ==","map":{"version":3,"names":["mainDbconfig","connString","analyticsDbConfig","redisConfig","sentry_dsn","process","env","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["default.js"],"sourcesContent":["export default {\n  mainDbconfig: {\n    connString: \"mongodb://localhost:27017/lc_metro_db\",\n  },\n  analyticsDbConfig: {\n    connString: \"mongodb://localhost:27017/analyticsdb\",\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;eAAe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAE;EADA,CADD;EAIbC,iBAAiB,EAAE;IACjBD,UAAU,EAAE;EADK,CAJN;EAObE,WAAW,EAAE;IACXF,UAAU,EAAE;EADD,CAPA;EAUbG,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/dev.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29uZmlnLyIsInNvdXJjZXMiOlsiZGV2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYWluRGJjb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBwcm9jZXNzLmVudi5NQUlOX0RCX0NPTk5fU1RSSU5HLCAvLyBDaGFuZ2UgYWxsIHJlcXVpcmVkIGNvbmZpZyB0byBlbnYgdmFyaWFibGVzXG4gIH0sXG4gIGFuYWx5dGljc0RiQ29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuQU5BTFlUSUNTX0RCX0NPTk5fU1RSSU5HLFxuICB9LFxuICByZWRpc0NvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IFwicmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OVwiLFxuICB9LFxuICBzZW50cnlfZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztlQUVlO0VBQ2JBLFlBQVksRUFBRTtJQUNaQyxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFEWixDQUNpQzs7RUFEakMsQ0FERDtFQUliQyxpQkFBaUIsRUFBRTtJQUNqQkosVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUc7RUFEUCxDQUpOO0VBT2JDLFdBQVcsRUFBRTtJQUNYTixVQUFVLEVBQUU7RUFERCxDQVBBO0VBVWJPLFVBQVUsRUFBRU4sT0FBTyxDQUFDQyxHQUFSLENBQVlNO0FBVlgsQyJ9","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["dev.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/config/prod.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nvar _default = {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING // Change all required config to env variables\n\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\"\n  },\n  sentry_dsn: process.env.SENTRY_DSN\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluRGJjb25maWciLCJjb25uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIk1BSU5fREJfQ09OTl9TVFJJTkciLCJhbmFseXRpY3NEYkNvbmZpZyIsIkFOQUxZVElDU19EQl9DT05OX1NUUklORyIsInJlZGlzQ29uZmlnIiwic2VudHJ5X2RzbiIsIlNFTlRSWV9EU04iXSwic291cmNlUm9vdCI6Ii9ob21lL2FiaGluYXlwYXN1cHVsZXRpL0Rlc2t0b3AvZ2l0LWV4cGxvcmUvY29uZmlnLyIsInNvdXJjZXMiOlsicHJvZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbWFpbkRiY29uZmlnOiB7XG4gICAgY29ublN0cmluZzogcHJvY2Vzcy5lbnYuTUFJTl9EQl9DT05OX1NUUklORywgLy8gQ2hhbmdlIGFsbCByZXF1aXJlZCBjb25maWcgdG8gZW52IHZhcmlhYmxlc1xuICB9LFxuICBhbmFseXRpY3NEYkNvbmZpZzoge1xuICAgIGNvbm5TdHJpbmc6IHByb2Nlc3MuZW52LkFOQUxZVElDU19EQl9DT05OX1NUUklORyxcbiAgfSxcbiAgcmVkaXNDb25maWc6IHtcbiAgICBjb25uU3RyaW5nOiBcInJlZGlzOi8vbG9jYWxob3N0OjYzNzlcIixcbiAgfSxcbiAgc2VudHJ5X2RzbjogcHJvY2Vzcy5lbnYuU0VOVFJZX0RTTixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7ZUFFZTtFQUNiQSxZQUFZLEVBQUU7SUFDWkMsVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBRFosQ0FDaUM7O0VBRGpDLENBREQ7RUFJYkMsaUJBQWlCLEVBQUU7SUFDakJKLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0VBRFAsQ0FKTjtFQU9iQyxXQUFXLEVBQUU7SUFDWE4sVUFBVSxFQUFFO0VBREQsQ0FQQTtFQVViTyxVQUFVLEVBQUVOLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTTtBQVZYLEMifQ==","map":{"version":3,"names":["mainDbconfig","connString","process","env","MAIN_DB_CONN_STRING","analyticsDbConfig","ANALYTICS_DB_CONN_STRING","redisConfig","sentry_dsn","SENTRY_DSN"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/config/","sources":["prod.js"],"sourcesContent":["import \"dotenv/config\";\n\nexport default {\n  mainDbconfig: {\n    connString: process.env.MAIN_DB_CONN_STRING, // Change all required config to env variables\n  },\n  analyticsDbConfig: {\n    connString: process.env.ANALYTICS_DB_CONN_STRING,\n  },\n  redisConfig: {\n    connString: \"redis://localhost:6379\",\n  },\n  sentry_dsn: process.env.SENTRY_DSN,\n};\n"],"mappings":";;;;;;;AAAA;;eAEe;EACbA,YAAY,EAAE;IACZC,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADZ,CACiC;;EADjC,CADD;EAIbC,iBAAiB,EAAE;IACjBJ,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYG;EADP,CAJN;EAObC,WAAW,EAAE;IACXN,UAAU,EAAE;EADD,CAPA;EAUbO,UAAU,EAAEN,OAAO,CAACC,GAAR,CAAYM;AAVX,C"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/AnalyticsDb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable import/no-import-module-exports */\nlet conn;\n\nfunction init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = _index.default.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = _mongoose.default.createConnection(CONN_URL); //  Mongoose Connection Events\n\n  conn.on(\"error\", error => {\n    log(\"error\", {\n      error\n    });\n  });\n  conn.once(\"open\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"open\"\n    });\n  });\n  conn.on(\"connected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connected\"\n    });\n  });\n  conn.on(\"connecting\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"connecting\"\n    });\n  });\n  conn.on(\"reconnected\", () => {\n    log(\"info\", {\n      dBConnectionStatus: \"reconnected\"\n    });\n  });\n  conn.on(\"disconnected\", () => {\n    log(\"error\", {\n      dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...`\n    }); // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n\n    setTimeout(() => {\n      conn.openUri(CONN_URL).catch(() => {});\n    }, RECONNECT_TIME);\n  });\n  return conn;\n}\n\nfunction getDbInstance() {\n  return conn;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uIiwiaW5pdCIsIlJFQ09OTkVDVF9USU1FIiwiQ09OTl9VUkwiLCJjb25maWciLCJhbmFseXRpY3NEYkNvbmZpZyIsImNvbm5TdHJpbmciLCJsb2ciLCJtb25nb29zZSIsImNyZWF0ZUNvbm5lY3Rpb24iLCJvbiIsImVycm9yIiwib25jZSIsImRCQ29ubmVjdGlvblN0YXR1cyIsInNldFRpbWVvdXQiLCJvcGVuVXJpIiwiY2F0Y2giLCJnZXREYkluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hYmhpbmF5cGFzdXB1bGV0aS9EZXNrdG9wL2dpdC1leHBsb3JlL2Nvbm5lY3Rpb25zLyIsInNvdXJjZXMiOlsiQW5hbHl0aWNzRGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWltcG9ydC1tb2R1bGUtZXhwb3J0cyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWcvaW5kZXhcIjtcblxubGV0IGNvbm47XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBSRUNPTk5FQ1RfVElNRSA9IDUwMDA7XG4gIGNvbnN0IENPTk5fVVJMID0gY29uZmlnLmFuYWx5dGljc0RiQ29uZmlnLmNvbm5TdHJpbmc7XG5cbiAgaWYgKGNvbm4pIHtcbiAgICByZXR1cm4gY29ubjtcbiAgfVxuXG4gIGxvZyhcImluZm9cIiwgYENPTk5fVVJMIHRvIGNvbm5lY3QgdG8gYW5hbHl0aWNzIGRhdGFiYXNlICR7Q09OTl9VUkx9YCk7XG4gIGNvbm4gPSBtb25nb29zZS5jcmVhdGVDb25uZWN0aW9uKENPTk5fVVJMKTtcblxuICAvLyAgTW9uZ29vc2UgQ29ubmVjdGlvbiBFdmVudHNcbiAgY29ubi5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub25jZShcIm9wZW5cIiwgKCkgPT4ge1xuICAgIGxvZyhcImluZm9cIiwgeyBkQkNvbm5lY3Rpb25TdGF0dXM6IFwib3BlblwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJpbmZvXCIsIHsgZEJDb25uZWN0aW9uU3RhdHVzOiBcImNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiY29ubmVjdGluZ1wiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJjb25uZWN0aW5nXCIgfSk7XG4gIH0pO1xuXG4gIGNvbm4ub24oXCJyZWNvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgbG9nKFwiaW5mb1wiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogXCJyZWNvbm5lY3RlZFwiIH0pO1xuICB9KTtcblxuICBjb25uLm9uKFwiZGlzY29ubmVjdGVkXCIsICgpID0+IHtcbiAgICBsb2coXCJlcnJvclwiLCB7IGRCQ29ubmVjdGlvblN0YXR1czogYGRpc2Nvbm5lY3RlZCBSZWNvbm5lY3RpbmcgaW4gJHtSRUNPTk5FQ1RfVElNRSAvIDEwMDB9cy4uLmAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F1dG9tYXR0aWMvbW9uZ29vc2UvaXNzdWVzLzUxNjkjaXNzdWVjb21tZW50LTMxNDk4MzExM1xuICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb25uLm9wZW5VcmkoQ09OTl9VUkwpLmNhdGNoKCgpID0+IHsgfSk7IH0sIFJFQ09OTkVDVF9USU1FKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gY29ubjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUhBO0FBS0EsSUFBSUEsSUFBSjs7QUFFTyxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRyxJQUF2QjtFQUNBLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsaUJBQVAsQ0FBeUJDLFVBQTFDOztFQUVBLElBQUlOLElBQUosRUFBVTtJQUNSLE9BQU9BLElBQVA7RUFDRDs7RUFFRE8sR0FBRyxDQUFDLE1BQUQsRUFBVSw2Q0FBNENKLFFBQVMsRUFBL0QsQ0FBSDtFQUNBSCxJQUFJLEdBQUdRLGtCQUFTQyxnQkFBVCxDQUEwQk4sUUFBMUIsQ0FBUCxDQVRxQixDQVdyQjs7RUFDQUgsSUFBSSxDQUFDVSxFQUFMLENBQVEsT0FBUixFQUFrQkMsS0FBRCxJQUFXO0lBQzFCSixHQUFHLENBQUMsT0FBRCxFQUFVO01BQUVJO0lBQUYsQ0FBVixDQUFIO0VBQ0QsQ0FGRDtFQUlBWCxJQUFJLENBQUNZLElBQUwsQ0FBVSxNQUFWLEVBQWtCLE1BQU07SUFDdEJMLEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxXQUFSLEVBQXFCLE1BQU07SUFDekJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxZQUFSLEVBQXNCLE1BQU07SUFDMUJILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxhQUFSLEVBQXVCLE1BQU07SUFDM0JILEdBQUcsQ0FBQyxNQUFELEVBQVM7TUFBRU0sa0JBQWtCLEVBQUU7SUFBdEIsQ0FBVCxDQUFIO0VBQ0QsQ0FGRDtFQUlBYixJQUFJLENBQUNVLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLE1BQU07SUFDNUJILEdBQUcsQ0FBQyxPQUFELEVBQVU7TUFBRU0sa0JBQWtCLEVBQUcsZ0NBQStCWCxjQUFjLEdBQUcsSUFBSztJQUE1RSxDQUFWLENBQUgsQ0FENEIsQ0FFNUI7O0lBQ0FZLFVBQVUsQ0FBQyxNQUFNO01BQUVkLElBQUksQ0FBQ2UsT0FBTCxDQUFhWixRQUFiLEVBQXVCYSxLQUF2QixDQUE2QixNQUFNLENBQUcsQ0FBdEM7SUFBMEMsQ0FBbkQsRUFBcURkLGNBQXJELENBQVY7RUFDRCxDQUpEO0VBTUEsT0FBT0YsSUFBUDtBQUNEOztBQUVNLFNBQVNpQixhQUFULEdBQXlCO0VBQzlCLE9BQU9qQixJQUFQO0FBQ0QifQ==","map":{"version":3,"names":["conn","init","RECONNECT_TIME","CONN_URL","config","analyticsDbConfig","connString","log","mongoose","createConnection","on","error","once","dBConnectionStatus","setTimeout","openUri","catch","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["AnalyticsDb.js"],"sourcesContent":["/* eslint-disable import/no-import-module-exports */\n\nimport mongoose from \"mongoose\";\nimport config from \"../config/index\";\n\nlet conn;\n\nexport function init() {\n  const RECONNECT_TIME = 5000;\n  const CONN_URL = config.analyticsDbConfig.connString;\n\n  if (conn) {\n    return conn;\n  }\n\n  log(\"info\", `CONN_URL to connect to analytics database ${CONN_URL}`);\n  conn = mongoose.createConnection(CONN_URL);\n\n  //  Mongoose Connection Events\n  conn.on(\"error\", (error) => {\n    log(\"error\", { error });\n  });\n\n  conn.once(\"open\", () => {\n    log(\"info\", { dBConnectionStatus: \"open\" });\n  });\n\n  conn.on(\"connected\", () => {\n    log(\"info\", { dBConnectionStatus: \"connected\" });\n  });\n\n  conn.on(\"connecting\", () => {\n    log(\"info\", { dBConnectionStatus: \"connecting\" });\n  });\n\n  conn.on(\"reconnected\", () => {\n    log(\"info\", { dBConnectionStatus: \"reconnected\" });\n  });\n\n  conn.on(\"disconnected\", () => {\n    log(\"error\", { dBConnectionStatus: `disconnected Reconnecting in ${RECONNECT_TIME / 1000}s...` });\n    // https://github.com/automattic/mongoose/issues/5169#issuecomment-314983113\n    setTimeout(() => { conn.openUri(CONN_URL).catch(() => { }); }, RECONNECT_TIME);\n  });\n\n  return conn;\n}\n\nexport function getDbInstance() {\n  return conn;\n}\n"],"mappings":";;;;;;;;AAEA;;AACA;;;;AAHA;AAKA,IAAIA,IAAJ;;AAEO,SAASC,IAAT,GAAgB;EACrB,MAAMC,cAAc,GAAG,IAAvB;EACA,MAAMC,QAAQ,GAAGC,eAAOC,iBAAP,CAAyBC,UAA1C;;EAEA,IAAIN,IAAJ,EAAU;IACR,OAAOA,IAAP;EACD;;EAEDO,GAAG,CAAC,MAAD,EAAU,6CAA4CJ,QAAS,EAA/D,CAAH;EACAH,IAAI,GAAGQ,kBAASC,gBAAT,CAA0BN,QAA1B,CAAP,CATqB,CAWrB;;EACAH,IAAI,CAACU,EAAL,CAAQ,OAAR,EAAkBC,KAAD,IAAW;IAC1BJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD,CAFD;EAIAX,IAAI,CAACY,IAAL,CAAU,MAAV,EAAkB,MAAM;IACtBL,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,WAAR,EAAqB,MAAM;IACzBH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,YAAR,EAAsB,MAAM;IAC1BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,aAAR,EAAuB,MAAM;IAC3BH,GAAG,CAAC,MAAD,EAAS;MAAEM,kBAAkB,EAAE;IAAtB,CAAT,CAAH;EACD,CAFD;EAIAb,IAAI,CAACU,EAAL,CAAQ,cAAR,EAAwB,MAAM;IAC5BH,GAAG,CAAC,OAAD,EAAU;MAAEM,kBAAkB,EAAG,gCAA+BX,cAAc,GAAG,IAAK;IAA5E,CAAV,CAAH,CAD4B,CAE5B;;IACAY,UAAU,CAAC,MAAM;MAAEd,IAAI,CAACe,OAAL,CAAaZ,QAAb,EAAuBa,KAAvB,CAA6B,MAAM,CAAG,CAAtC;IAA0C,CAAnD,EAAqDd,cAArD,CAAV;EACD,CAJD;EAMA,OAAOF,IAAP;AACD;;AAEM,SAASiB,aAAT,GAAyB;EAC9B,OAAOjB,IAAP;AACD"}},"mtime":1653891206488},"{\"assumptions\":{},\"sourceRoot\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"filename\":\"/home/abhinaypasupuleti/Desktop/git-explore/connections/RedisClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"default\",\"root\":\"/home/abhinaypasupuleti/Desktop/git-explore\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:default":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedisClient = void 0;\nexports.getDbInstance = getDbInstance;\nexports.init = init;\n\nvar _redis = require(\"redis\");\n\nvar _index = _interopRequireDefault(require(\"../config/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eslint-disable-next-line import/no-mutable-exports\nlet RedisClient;\nexports.RedisClient = RedisClient;\n\nfunction init() {\n  const CONN_URL = _index.default.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n  exports.RedisClient = RedisClient = (0, _redis.createClient)({\n    url: CONN_URL\n  }); //  Redis Connection Events\n\n  RedisClient.on(\"connect\", () => log(\"info\", {\n    redisConnection: \"connect\"\n  }));\n  RedisClient.on(\"ready\", () => log(\"info\", {\n    redisConnection: \"ready\"\n  }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", {\n    redisConnection: \"reconnecting\"\n  }));\n  RedisClient.on(\"end\", () => log(\"info\", {\n    redisConnection: \"disconnected\"\n  }));\n  RedisClient.on(\"error\", error => log(\"info\", {\n    error\n  }));\n\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", {\n      error\n    });\n  }\n\n  return RedisClient;\n}\n\nfunction getDbInstance() {\n  return RedisClient;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpc0NsaWVudCIsImluaXQiLCJDT05OX1VSTCIsImNvbmZpZyIsInJlZGlzQ29uZmlnIiwiY29ublN0cmluZyIsImxvZyIsInVybCIsIm9uIiwicmVkaXNDb25uZWN0aW9uIiwiZXJyb3IiLCJjb25uZWN0IiwiZ2V0RGJJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWJoaW5heXBhc3VwdWxldGkvRGVza3RvcC9naXQtZXhwbG9yZS9jb25uZWN0aW9ucy8iLCJzb3VyY2VzIjpbIlJlZGlzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJyZWRpc1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2luZGV4XCI7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG5leHBvcnQgbGV0IFJlZGlzQ2xpZW50O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc3QgQ09OTl9VUkwgPSBjb25maWcucmVkaXNDb25maWcuY29ublN0cmluZztcblxuICBpZiAoUmVkaXNDbGllbnQpIHtcbiAgICByZXR1cm4gUmVkaXNDbGllbnQ7XG4gIH1cblxuICBsb2coXCJpbmZvXCIsIGBDT05OX1VSTCB0byBjb25uZWN0IHRvIHJlZGlzICR7Q09OTl9VUkx9YCk7XG5cbiAgUmVkaXNDbGllbnQgPSBjcmVhdGVDbGllbnQoe1xuICAgIHVybDogQ09OTl9VUkwsXG4gIH0pO1xuXG4gIC8vICBSZWRpcyBDb25uZWN0aW9uIEV2ZW50c1xuICBSZWRpc0NsaWVudC5vbihcImNvbm5lY3RcIiwgKCkgPT4gbG9nKFwiaW5mb1wiLCB7IHJlZGlzQ29ubmVjdGlvbjogXCJjb25uZWN0XCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcInJlYWR5XCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwicmVhZHlcIiB9KSk7XG4gIFJlZGlzQ2xpZW50Lm9uKFwicmVjb25uZWN0aW5nXCIsICgpID0+IGxvZyhcImluZm9cIiwgeyByZWRpc0Nvbm5lY3Rpb246IFwicmVjb25uZWN0aW5nXCIgfSkpO1xuICBSZWRpc0NsaWVudC5vbihcImVuZFwiLCAoKSA9PiBsb2coXCJpbmZvXCIsIHsgcmVkaXNDb25uZWN0aW9uOiBcImRpc2Nvbm5lY3RlZFwiIH0pKTtcbiAgUmVkaXNDbGllbnQub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IGxvZyhcImluZm9cIiwgeyBlcnJvciB9KSk7XG4gIHRyeSB7XG4gICAgUmVkaXNDbGllbnQuY29ubmVjdCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZyhcImVycm9yXCIsIHsgZXJyb3IgfSk7XG4gIH1cblxuICByZXR1cm4gUmVkaXNDbGllbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYkluc3RhbmNlKCkge1xuICByZXR1cm4gUmVkaXNDbGllbnQ7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUE7QUFDTyxJQUFJQSxXQUFKOzs7QUFFQSxTQUFTQyxJQUFULEdBQWdCO0VBQ3JCLE1BQU1DLFFBQVEsR0FBR0MsZUFBT0MsV0FBUCxDQUFtQkMsVUFBcEM7O0VBRUEsSUFBSUwsV0FBSixFQUFpQjtJQUNmLE9BQU9BLFdBQVA7RUFDRDs7RUFFRE0sR0FBRyxDQUFDLE1BQUQsRUFBVSxnQ0FBK0JKLFFBQVMsRUFBbEQsQ0FBSDtFQUVBLHNCQUFBRixXQUFXLEdBQUcseUJBQWE7SUFDekJPLEdBQUcsRUFBRUw7RUFEb0IsQ0FBYixDQUFkLENBVHFCLENBYXJCOztFQUNBRixXQUFXLENBQUNRLEVBQVosQ0FBZSxTQUFmLEVBQTBCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBbkM7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsT0FBZixFQUF3QixNQUFNRixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVHLGVBQWUsRUFBRTtFQUFuQixDQUFULENBQWpDO0VBQ0FULFdBQVcsQ0FBQ1EsRUFBWixDQUFlLGNBQWYsRUFBK0IsTUFBTUYsR0FBRyxDQUFDLE1BQUQsRUFBUztJQUFFRyxlQUFlLEVBQUU7RUFBbkIsQ0FBVCxDQUF4QztFQUNBVCxXQUFXLENBQUNRLEVBQVosQ0FBZSxLQUFmLEVBQXNCLE1BQU1GLEdBQUcsQ0FBQyxNQUFELEVBQVM7SUFBRUcsZUFBZSxFQUFFO0VBQW5CLENBQVQsQ0FBL0I7RUFDQVQsV0FBVyxDQUFDUSxFQUFaLENBQWUsT0FBZixFQUF5QkUsS0FBRCxJQUFXSixHQUFHLENBQUMsTUFBRCxFQUFTO0lBQUVJO0VBQUYsQ0FBVCxDQUF0Qzs7RUFDQSxJQUFJO0lBQ0ZWLFdBQVcsQ0FBQ1csT0FBWjtFQUNELENBRkQsQ0FFRSxPQUFPRCxLQUFQLEVBQWM7SUFDZEosR0FBRyxDQUFDLE9BQUQsRUFBVTtNQUFFSTtJQUFGLENBQVYsQ0FBSDtFQUNEOztFQUVELE9BQU9WLFdBQVA7QUFDRDs7QUFFTSxTQUFTWSxhQUFULEdBQXlCO0VBQzlCLE9BQU9aLFdBQVA7QUFDRCJ9","map":{"version":3,"names":["RedisClient","init","CONN_URL","config","redisConfig","connString","log","url","on","redisConnection","error","connect","getDbInstance"],"sourceRoot":"/home/abhinaypasupuleti/Desktop/git-explore/connections/","sources":["RedisClient.js"],"sourcesContent":["import { createClient } from \"redis\";\nimport config from \"../config/index\";\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let RedisClient;\n\nexport function init() {\n  const CONN_URL = config.redisConfig.connString;\n\n  if (RedisClient) {\n    return RedisClient;\n  }\n\n  log(\"info\", `CONN_URL to connect to redis ${CONN_URL}`);\n\n  RedisClient = createClient({\n    url: CONN_URL,\n  });\n\n  //  Redis Connection Events\n  RedisClient.on(\"connect\", () => log(\"info\", { redisConnection: \"connect\" }));\n  RedisClient.on(\"ready\", () => log(\"info\", { redisConnection: \"ready\" }));\n  RedisClient.on(\"reconnecting\", () => log(\"info\", { redisConnection: \"reconnecting\" }));\n  RedisClient.on(\"end\", () => log(\"info\", { redisConnection: \"disconnected\" }));\n  RedisClient.on(\"error\", (error) => log(\"info\", { error }));\n  try {\n    RedisClient.connect();\n  } catch (error) {\n    log(\"error\", { error });\n  }\n\n  return RedisClient;\n}\n\nexport function getDbInstance() {\n  return RedisClient;\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AAEA;AACO,IAAIA,WAAJ;;;AAEA,SAASC,IAAT,GAAgB;EACrB,MAAMC,QAAQ,GAAGC,eAAOC,WAAP,CAAmBC,UAApC;;EAEA,IAAIL,WAAJ,EAAiB;IACf,OAAOA,WAAP;EACD;;EAEDM,GAAG,CAAC,MAAD,EAAU,gCAA+BJ,QAAS,EAAlD,CAAH;EAEA,sBAAAF,WAAW,GAAG,yBAAa;IACzBO,GAAG,EAAEL;EADoB,CAAb,CAAd,CATqB,CAarB;;EACAF,WAAW,CAACQ,EAAZ,CAAe,SAAf,EAA0B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAnC;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAwB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAjC;EACAT,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+B,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAAxC;EACAT,WAAW,CAACQ,EAAZ,CAAe,KAAf,EAAsB,MAAMF,GAAG,CAAC,MAAD,EAAS;IAAEG,eAAe,EAAE;EAAnB,CAAT,CAA/B;EACAT,WAAW,CAACQ,EAAZ,CAAe,OAAf,EAAyBE,KAAD,IAAWJ,GAAG,CAAC,MAAD,EAAS;IAAEI;EAAF,CAAT,CAAtC;;EACA,IAAI;IACFV,WAAW,CAACW,OAAZ;EACD,CAFD,CAEE,OAAOD,KAAP,EAAc;IACdJ,GAAG,CAAC,OAAD,EAAU;MAAEI;IAAF,CAAV,CAAH;EACD;;EAED,OAAOV,WAAP;AACD;;AAEM,SAASY,aAAT,GAAyB;EAC9B,OAAOZ,WAAP;AACD"}},"mtime":1653891206488}}